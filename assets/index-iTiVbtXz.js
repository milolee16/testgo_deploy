(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const x of document.querySelectorAll('link[rel="modulepreload"]'))b(x);new MutationObserver(x=>{for(const T of x)if(T.type==="childList")for(const R of T.addedNodes)R.tagName==="LINK"&&R.rel==="modulepreload"&&b(R)}).observe(document,{childList:!0,subtree:!0});function C(x){const T={};return x.integrity&&(T.integrity=x.integrity),x.referrerPolicy&&(T.referrerPolicy=x.referrerPolicy),x.crossOrigin==="use-credentials"?T.credentials="include":x.crossOrigin==="anonymous"?T.credentials="omit":T.credentials="same-origin",T}function b(x){if(x.ep)return;x.ep=!0;const T=C(x);fetch(x.href,T)}})();function Sa(m){return m&&m.__esModule&&Object.prototype.hasOwnProperty.call(m,"default")?m.default:m}function vb(m){if(Object.prototype.hasOwnProperty.call(m,"__esModule"))return m;var u=m.default;if(typeof u=="function"){var C=function b(){var x=!1;try{x=this instanceof b}catch{}return x?Reflect.construct(u,arguments,this.constructor):u.apply(this,arguments)};C.prototype=u.prototype}else C={};return Object.defineProperty(C,"__esModule",{value:!0}),Object.keys(m).forEach(function(b){var x=Object.getOwnPropertyDescriptor(m,b);Object.defineProperty(C,b,x.get?x:{enumerable:!0,get:function(){return m[b]}})}),C}var Lu={exports:{}},fa={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sp;function yb(){if(sp)return fa;sp=1;var m=Symbol.for("react.transitional.element"),u=Symbol.for("react.fragment");function C(b,x,T){var R=null;if(T!==void 0&&(R=""+T),x.key!==void 0&&(R=""+x.key),"key"in x){T={};for(var g in x)g!=="key"&&(T[g]=x[g])}else T=x;return x=T.ref,{$$typeof:m,type:b,key:R,ref:x!==void 0?x:null,props:T}}return fa.Fragment=u,fa.jsx=C,fa.jsxs=C,fa}var op;function bb(){return op||(op=1,Lu.exports=yb()),Lu.exports}var Q=bb(),ju={exports:{}},jt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lp;function Cb(){if(lp)return jt;lp=1;var m=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),R=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),o=Symbol.for("react.suspense"),r=Symbol.for("react.memo"),l=Symbol.for("react.lazy"),i=Symbol.iterator;function s(A){return A===null||typeof A!="object"?null:(A=i&&A[i]||A["@@iterator"],typeof A=="function"?A:null)}var a={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,d={};function c(A,E,k){this.props=A,this.context=E,this.refs=d,this.updater=k||a}c.prototype.isReactComponent={},c.prototype.setState=function(A,E){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,E,"setState")},c.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function p(){}p.prototype=c.prototype;function y(A,E,k){this.props=A,this.context=E,this.refs=d,this.updater=k||a}var _=y.prototype=new p;_.constructor=y,f(_,c.prototype),_.isPureReactComponent=!0;var w=Array.isArray,O={H:null,A:null,T:null,S:null,V:null},M=Object.prototype.hasOwnProperty;function j(A,E,k,N,F,L){return k=L.ref,{$$typeof:m,type:A,key:E,ref:k!==void 0?k:null,props:L}}function U(A,E){return j(A.type,E,void 0,void 0,void 0,A.props)}function Y(A){return typeof A=="object"&&A!==null&&A.$$typeof===m}function W(A){var E={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(k){return E[k]})}var it=/\/+/g;function lt(A,E){return typeof A=="object"&&A!==null&&A.key!=null?W(""+A.key):E.toString(36)}function gt(){}function ut(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(gt,gt):(A.status="pending",A.then(function(E){A.status==="pending"&&(A.status="fulfilled",A.value=E)},function(E){A.status==="pending"&&(A.status="rejected",A.reason=E)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function ft(A,E,k,N,F){var L=typeof A;(L==="undefined"||L==="boolean")&&(A=null);var z=!1;if(A===null)z=!0;else switch(L){case"bigint":case"string":case"number":z=!0;break;case"object":switch(A.$$typeof){case m:case u:z=!0;break;case l:return z=A._init,ft(z(A._payload),E,k,N,F)}}if(z)return F=F(A),z=N===""?"."+lt(A,0):N,w(F)?(k="",z!=null&&(k=z.replace(it,"$&/")+"/"),ft(F,E,k,"",function(q){return q})):F!=null&&(Y(F)&&(F=U(F,k+(F.key==null||A&&A.key===F.key?"":(""+F.key).replace(it,"$&/")+"/")+z)),E.push(F)),1;z=0;var X=N===""?".":N+":";if(w(A))for(var I=0;I<A.length;I++)N=A[I],L=X+lt(N,I),z+=ft(N,E,k,L,F);else if(I=s(A),typeof I=="function")for(A=I.call(A),I=0;!(N=A.next()).done;)N=N.value,L=X+lt(N,I++),z+=ft(N,E,k,L,F);else if(L==="object"){if(typeof A.then=="function")return ft(ut(A),E,k,N,F);throw E=String(A),Error("Objects are not valid as a React child (found: "+(E==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":E)+"). If you meant to render a collection of children, use an array instead.")}return z}function G(A,E,k){if(A==null)return A;var N=[],F=0;return ft(A,N,"","",function(L){return E.call(k,L,F++)}),N}function et(A){if(A._status===-1){var E=A._result;E=E(),E.then(function(k){(A._status===0||A._status===-1)&&(A._status=1,A._result=k)},function(k){(A._status===0||A._status===-1)&&(A._status=2,A._result=k)}),A._status===-1&&(A._status=0,A._result=E)}if(A._status===1)return A._result.default;throw A._result}var yt=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var E=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(E))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function B(){}return jt.Children={map:G,forEach:function(A,E,k){G(A,function(){E.apply(this,arguments)},k)},count:function(A){var E=0;return G(A,function(){E++}),E},toArray:function(A){return G(A,function(E){return E})||[]},only:function(A){if(!Y(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},jt.Component=c,jt.Fragment=C,jt.Profiler=x,jt.PureComponent=y,jt.StrictMode=b,jt.Suspense=o,jt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,jt.__COMPILER_RUNTIME={__proto__:null,c:function(A){return O.H.useMemoCache(A)}},jt.cache=function(A){return function(){return A.apply(null,arguments)}},jt.cloneElement=function(A,E,k){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var N=f({},A.props),F=A.key,L=void 0;if(E!=null)for(z in E.ref!==void 0&&(L=void 0),E.key!==void 0&&(F=""+E.key),E)!M.call(E,z)||z==="key"||z==="__self"||z==="__source"||z==="ref"&&E.ref===void 0||(N[z]=E[z]);var z=arguments.length-2;if(z===1)N.children=k;else if(1<z){for(var X=Array(z),I=0;I<z;I++)X[I]=arguments[I+2];N.children=X}return j(A.type,F,void 0,void 0,L,N)},jt.createContext=function(A){return A={$$typeof:R,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:T,_context:A},A},jt.createElement=function(A,E,k){var N,F={},L=null;if(E!=null)for(N in E.key!==void 0&&(L=""+E.key),E)M.call(E,N)&&N!=="key"&&N!=="__self"&&N!=="__source"&&(F[N]=E[N]);var z=arguments.length-2;if(z===1)F.children=k;else if(1<z){for(var X=Array(z),I=0;I<z;I++)X[I]=arguments[I+2];F.children=X}if(A&&A.defaultProps)for(N in z=A.defaultProps,z)F[N]===void 0&&(F[N]=z[N]);return j(A,L,void 0,void 0,null,F)},jt.createRef=function(){return{current:null}},jt.forwardRef=function(A){return{$$typeof:g,render:A}},jt.isValidElement=Y,jt.lazy=function(A){return{$$typeof:l,_payload:{_status:-1,_result:A},_init:et}},jt.memo=function(A,E){return{$$typeof:r,type:A,compare:E===void 0?null:E}},jt.startTransition=function(A){var E=O.T,k={};O.T=k;try{var N=A(),F=O.S;F!==null&&F(k,N),typeof N=="object"&&N!==null&&typeof N.then=="function"&&N.then(B,yt)}catch(L){yt(L)}finally{O.T=E}},jt.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},jt.use=function(A){return O.H.use(A)},jt.useActionState=function(A,E,k){return O.H.useActionState(A,E,k)},jt.useCallback=function(A,E){return O.H.useCallback(A,E)},jt.useContext=function(A){return O.H.useContext(A)},jt.useDebugValue=function(){},jt.useDeferredValue=function(A,E){return O.H.useDeferredValue(A,E)},jt.useEffect=function(A,E,k){var N=O.H;if(typeof k=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return N.useEffect(A,E)},jt.useId=function(){return O.H.useId()},jt.useImperativeHandle=function(A,E,k){return O.H.useImperativeHandle(A,E,k)},jt.useInsertionEffect=function(A,E){return O.H.useInsertionEffect(A,E)},jt.useLayoutEffect=function(A,E){return O.H.useLayoutEffect(A,E)},jt.useMemo=function(A,E){return O.H.useMemo(A,E)},jt.useOptimistic=function(A,E){return O.H.useOptimistic(A,E)},jt.useReducer=function(A,E,k){return O.H.useReducer(A,E,k)},jt.useRef=function(A){return O.H.useRef(A)},jt.useState=function(A){return O.H.useState(A)},jt.useSyncExternalStore=function(A,E,k){return O.H.useSyncExternalStore(A,E,k)},jt.useTransition=function(){return O.H.useTransition()},jt.version="19.1.1",jt}var up;function $c(){return up||(up=1,ju.exports=Cb()),ju.exports}var rt=$c();const tf=Sa(rt);var Fu={exports:{}},ha={},Pu={exports:{}},Nu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cp;function Sb(){return cp||(cp=1,(function(m){function u(G,et){var yt=G.length;G.push(et);t:for(;0<yt;){var B=yt-1>>>1,A=G[B];if(0<x(A,et))G[B]=et,G[yt]=A,yt=B;else break t}}function C(G){return G.length===0?null:G[0]}function b(G){if(G.length===0)return null;var et=G[0],yt=G.pop();if(yt!==et){G[0]=yt;t:for(var B=0,A=G.length,E=A>>>1;B<E;){var k=2*(B+1)-1,N=G[k],F=k+1,L=G[F];if(0>x(N,yt))F<A&&0>x(L,N)?(G[B]=L,G[F]=yt,B=F):(G[B]=N,G[k]=yt,B=k);else if(F<A&&0>x(L,yt))G[B]=L,G[F]=yt,B=F;else break t}}return et}function x(G,et){var yt=G.sortIndex-et.sortIndex;return yt!==0?yt:G.id-et.id}if(m.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var T=performance;m.unstable_now=function(){return T.now()}}else{var R=Date,g=R.now();m.unstable_now=function(){return R.now()-g}}var o=[],r=[],l=1,i=null,s=3,a=!1,f=!1,d=!1,c=!1,p=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function w(G){for(var et=C(r);et!==null;){if(et.callback===null)b(r);else if(et.startTime<=G)b(r),et.sortIndex=et.expirationTime,u(o,et);else break;et=C(r)}}function O(G){if(d=!1,w(G),!f)if(C(o)!==null)f=!0,M||(M=!0,lt());else{var et=C(r);et!==null&&ft(O,et.startTime-G)}}var M=!1,j=-1,U=5,Y=-1;function W(){return c?!0:!(m.unstable_now()-Y<U)}function it(){if(c=!1,M){var G=m.unstable_now();Y=G;var et=!0;try{t:{f=!1,d&&(d=!1,y(j),j=-1),a=!0;var yt=s;try{e:{for(w(G),i=C(o);i!==null&&!(i.expirationTime>G&&W());){var B=i.callback;if(typeof B=="function"){i.callback=null,s=i.priorityLevel;var A=B(i.expirationTime<=G);if(G=m.unstable_now(),typeof A=="function"){i.callback=A,w(G),et=!0;break e}i===C(o)&&b(o),w(G)}else b(o);i=C(o)}if(i!==null)et=!0;else{var E=C(r);E!==null&&ft(O,E.startTime-G),et=!1}}break t}finally{i=null,s=yt,a=!1}et=void 0}}finally{et?lt():M=!1}}}var lt;if(typeof _=="function")lt=function(){_(it)};else if(typeof MessageChannel<"u"){var gt=new MessageChannel,ut=gt.port2;gt.port1.onmessage=it,lt=function(){ut.postMessage(null)}}else lt=function(){p(it,0)};function ft(G,et){j=p(function(){G(m.unstable_now())},et)}m.unstable_IdlePriority=5,m.unstable_ImmediatePriority=1,m.unstable_LowPriority=4,m.unstable_NormalPriority=3,m.unstable_Profiling=null,m.unstable_UserBlockingPriority=2,m.unstable_cancelCallback=function(G){G.callback=null},m.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<G?Math.floor(1e3/G):5},m.unstable_getCurrentPriorityLevel=function(){return s},m.unstable_next=function(G){switch(s){case 1:case 2:case 3:var et=3;break;default:et=s}var yt=s;s=et;try{return G()}finally{s=yt}},m.unstable_requestPaint=function(){c=!0},m.unstable_runWithPriority=function(G,et){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var yt=s;s=G;try{return et()}finally{s=yt}},m.unstable_scheduleCallback=function(G,et,yt){var B=m.unstable_now();switch(typeof yt=="object"&&yt!==null?(yt=yt.delay,yt=typeof yt=="number"&&0<yt?B+yt:B):yt=B,G){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=yt+A,G={id:l++,callback:et,priorityLevel:G,startTime:yt,expirationTime:A,sortIndex:-1},yt>B?(G.sortIndex=yt,u(r,G),C(o)===null&&G===C(r)&&(d?(y(j),j=-1):d=!0,ft(O,yt-B))):(G.sortIndex=A,u(o,G),f||a||(f=!0,M||(M=!0,lt()))),G},m.unstable_shouldYield=W,m.unstable_wrapCallback=function(G){var et=s;return function(){var yt=s;s=et;try{return G.apply(this,arguments)}finally{s=yt}}}})(Nu)),Nu}var fp;function _b(){return fp||(fp=1,Pu.exports=Sb()),Pu.exports}var Uu={exports:{}},_e={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hp;function wb(){if(hp)return _e;hp=1;var m=$c();function u(o){var r="https://react.dev/errors/"+o;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+o+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function C(){}var b={d:{f:C,r:function(){throw Error(u(522))},D:C,C,L:C,m:C,X:C,S:C,M:C},p:0,findDOMNode:null},x=Symbol.for("react.portal");function T(o,r,l){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:x,key:i==null?null:""+i,children:o,containerInfo:r,implementation:l}}var R=m.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(o,r){if(o==="font")return"";if(typeof r=="string")return r==="use-credentials"?r:""}return _e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=b,_e.createPortal=function(o,r){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)throw Error(u(299));return T(o,r,null,l)},_e.flushSync=function(o){var r=R.T,l=b.p;try{if(R.T=null,b.p=2,o)return o()}finally{R.T=r,b.p=l,b.d.f()}},_e.preconnect=function(o,r){typeof o=="string"&&(r?(r=r.crossOrigin,r=typeof r=="string"?r==="use-credentials"?r:"":void 0):r=null,b.d.C(o,r))},_e.prefetchDNS=function(o){typeof o=="string"&&b.d.D(o)},_e.preinit=function(o,r){if(typeof o=="string"&&r&&typeof r.as=="string"){var l=r.as,i=g(l,r.crossOrigin),s=typeof r.integrity=="string"?r.integrity:void 0,a=typeof r.fetchPriority=="string"?r.fetchPriority:void 0;l==="style"?b.d.S(o,typeof r.precedence=="string"?r.precedence:void 0,{crossOrigin:i,integrity:s,fetchPriority:a}):l==="script"&&b.d.X(o,{crossOrigin:i,integrity:s,fetchPriority:a,nonce:typeof r.nonce=="string"?r.nonce:void 0})}},_e.preinitModule=function(o,r){if(typeof o=="string")if(typeof r=="object"&&r!==null){if(r.as==null||r.as==="script"){var l=g(r.as,r.crossOrigin);b.d.M(o,{crossOrigin:l,integrity:typeof r.integrity=="string"?r.integrity:void 0,nonce:typeof r.nonce=="string"?r.nonce:void 0})}}else r==null&&b.d.M(o)},_e.preload=function(o,r){if(typeof o=="string"&&typeof r=="object"&&r!==null&&typeof r.as=="string"){var l=r.as,i=g(l,r.crossOrigin);b.d.L(o,l,{crossOrigin:i,integrity:typeof r.integrity=="string"?r.integrity:void 0,nonce:typeof r.nonce=="string"?r.nonce:void 0,type:typeof r.type=="string"?r.type:void 0,fetchPriority:typeof r.fetchPriority=="string"?r.fetchPriority:void 0,referrerPolicy:typeof r.referrerPolicy=="string"?r.referrerPolicy:void 0,imageSrcSet:typeof r.imageSrcSet=="string"?r.imageSrcSet:void 0,imageSizes:typeof r.imageSizes=="string"?r.imageSizes:void 0,media:typeof r.media=="string"?r.media:void 0})}},_e.preloadModule=function(o,r){if(typeof o=="string")if(r){var l=g(r.as,r.crossOrigin);b.d.m(o,{as:typeof r.as=="string"&&r.as!=="script"?r.as:void 0,crossOrigin:l,integrity:typeof r.integrity=="string"?r.integrity:void 0})}else b.d.m(o)},_e.requestFormReset=function(o){b.d.r(o)},_e.unstable_batchedUpdates=function(o,r){return o(r)},_e.useFormState=function(o,r,l){return R.H.useFormState(o,r,l)},_e.useFormStatus=function(){return R.H.useHostTransitionStatus()},_e.version="19.1.1",_e}var dp;function xb(){if(dp)return Uu.exports;dp=1;function m(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m)}catch(u){console.error(u)}}return m(),Uu.exports=wb(),Uu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gp;function Tb(){if(gp)return ha;gp=1;var m=_b(),u=$c(),C=xb();function b(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function x(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function T(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function R(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function g(t){if(T(t)!==t)throw Error(b(188))}function o(t){var e=t.alternate;if(!e){if(e=T(t),e===null)throw Error(b(188));return e!==t?null:t}for(var n=t,h=e;;){var v=n.return;if(v===null)break;var S=v.alternate;if(S===null){if(h=v.return,h!==null){n=h;continue}break}if(v.child===S.child){for(S=v.child;S;){if(S===n)return g(v),t;if(S===h)return g(v),e;S=S.sibling}throw Error(b(188))}if(n.return!==h.return)n=v,h=S;else{for(var D=!1,P=v.child;P;){if(P===n){D=!0,n=v,h=S;break}if(P===h){D=!0,h=v,n=S;break}P=P.sibling}if(!D){for(P=S.child;P;){if(P===n){D=!0,n=S,h=v;break}if(P===h){D=!0,h=S,n=v;break}P=P.sibling}if(!D)throw Error(b(189))}}if(n.alternate!==h)throw Error(b(190))}if(n.tag!==3)throw Error(b(188));return n.stateNode.current===n?t:e}function r(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=r(t),e!==null)return e;t=t.sibling}return null}var l=Object.assign,i=Symbol.for("react.element"),s=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),y=Symbol.for("react.consumer"),_=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),it=Symbol.iterator;function lt(t){return t===null||typeof t!="object"?null:(t=it&&t[it]||t["@@iterator"],typeof t=="function"?t:null)}var gt=Symbol.for("react.client.reference");function ut(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===gt?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case f:return"Fragment";case c:return"Profiler";case d:return"StrictMode";case O:return"Suspense";case M:return"SuspenseList";case Y:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case a:return"Portal";case _:return(t.displayName||"Context")+".Provider";case y:return(t._context.displayName||"Context")+".Consumer";case w:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case j:return e=t.displayName||null,e!==null?e:ut(t.type)||"Memo";case U:e=t._payload,t=t._init;try{return ut(t(e))}catch{}}return null}var ft=Array.isArray,G=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=C.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yt={pending:!1,data:null,method:null,action:null},B=[],A=-1;function E(t){return{current:t}}function k(t){0>A||(t.current=B[A],B[A]=null,A--)}function N(t,e){A++,B[A]=t.current,t.current=e}var F=E(null),L=E(null),z=E(null),X=E(null);function I(t,e){switch(N(z,e),N(L,t),N(F,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Lg(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Lg(e),t=jg(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}k(F),N(F,t)}function q(){k(F),k(L),k(z)}function J(t){t.memoizedState!==null&&N(X,t);var e=F.current,n=jg(e,t.type);e!==n&&(N(L,t),N(F,n))}function ht(t){L.current===t&&(k(F),k(L)),X.current===t&&(k(X),sa._currentValue=yt)}var _t=Object.prototype.hasOwnProperty,at=m.unstable_scheduleCallback,K=m.unstable_cancelCallback,vt=m.unstable_shouldYield,pt=m.unstable_requestPaint,ot=m.unstable_now,St=m.unstable_getCurrentPriorityLevel,wt=m.unstable_ImmediatePriority,Mt=m.unstable_UserBlockingPriority,Tt=m.unstable_NormalPriority,mt=m.unstable_LowPriority,Ot=m.unstable_IdlePriority,Bt=m.log,Ht=m.unstable_setDisableYieldValue,Vt=null,kt=null;function ee(t){if(typeof Bt=="function"&&Ht(t),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(Vt,t)}catch{}}var Yt=Math.clz32?Math.clz32:He,ci=Math.log,Ji=Math.LN2;function He(t){return t>>>=0,t===0?32:31-(ci(t)/Ji|0)|0}var wn=256,$i=4194304;function fi(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function xn(t,e,n){var h=t.pendingLanes;if(h===0)return 0;var v=0,S=t.suspendedLanes,D=t.pingedLanes;t=t.warmLanes;var P=h&134217727;return P!==0?(h=P&~S,h!==0?v=fi(h):(D&=P,D!==0?v=fi(D):n||(n=P&~t,n!==0&&(v=fi(n))))):(P=h&~S,P!==0?v=fi(P):D!==0?v=fi(D):n||(n=h&~t,n!==0&&(v=fi(n)))),v===0?0:e!==0&&e!==v&&(e&S)===0&&(S=v&-v,n=e&-e,S>=n||S===32&&(n&4194048)!==0)?e:v}function pr(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function ry(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vf(){var t=wn;return wn<<=1,(wn&4194048)===0&&(wn=256),t}function yf(){var t=$i;return $i<<=1,($i&62914560)===0&&($i=4194304),t}function wo(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function mr(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ay(t,e,n,h,v,S){var D=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var P=t.entanglements,H=t.expirationTimes,tt=t.hiddenUpdates;for(n=D&~n;0<n;){var dt=31-Yt(n),Ct=1<<dt;P[dt]=0,H[dt]=-1;var nt=tt[dt];if(nt!==null)for(tt[dt]=null,dt=0;dt<nt.length;dt++){var st=nt[dt];st!==null&&(st.lane&=-536870913)}n&=~Ct}h!==0&&bf(t,h,0),S!==0&&v===0&&t.tag!==0&&(t.suspendedLanes|=S&~(D&~e))}function bf(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var h=31-Yt(e);t.entangledLanes|=e,t.entanglements[h]=t.entanglements[h]|1073741824|n&4194090}function Cf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var h=31-Yt(n),v=1<<h;v&e|t[h]&e&&(t[h]|=e),n&=~v}}function xo(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function To(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Sf(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:tp(t.type))}function sy(t,e){var n=et.p;try{return et.p=t,e()}finally{et.p=n}}var Ri=Math.random().toString(36).slice(2),Ce="__reactFiber$"+Ri,Te="__reactProps$"+Ri,Tn="__reactContainer$"+Ri,Oo="__reactEvents$"+Ri,oy="__reactListeners$"+Ri,ly="__reactHandles$"+Ri,_f="__reactResources$"+Ri,vr="__reactMarker$"+Ri;function Eo(t){delete t[Ce],delete t[Te],delete t[Oo],delete t[oy],delete t[ly]}function On(t){var e=t[Ce];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Tn]||n[Ce]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ug(t);t!==null;){if(n=t[Ce])return n;t=Ug(t)}return e}t=n,n=t.parentNode}return null}function En(t){if(t=t[Ce]||t[Tn]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function yr(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(b(33))}function An(t){var e=t[_f];return e||(e=t[_f]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function de(t){t[vr]=!0}var wf=new Set,xf={};function tn(t,e){Rn(t,e),Rn(t+"Capture",e)}function Rn(t,e){for(xf[t]=e,t=0;t<e.length;t++)wf.add(e[t])}var uy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tf={},Of={};function cy(t){return _t.call(Of,t)?!0:_t.call(Tf,t)?!1:uy.test(t)?Of[t]=!0:(Tf[t]=!0,!1)}function Da(t,e,n){if(cy(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var h=e.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Ma(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function hi(t,e,n,h){if(h===null)t.removeAttribute(n);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+h)}}var Ao,Ef;function Dn(t){if(Ao===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ao=e&&e[1]||"",Ef=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ao+t+Ef}var Ro=!1;function Do(t,e){if(!t||Ro)return"";Ro=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(e){var Ct=function(){throw Error()};if(Object.defineProperty(Ct.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ct,[])}catch(st){var nt=st}Reflect.construct(t,[],Ct)}else{try{Ct.call()}catch(st){nt=st}t.call(Ct.prototype)}}else{try{throw Error()}catch(st){nt=st}(Ct=t())&&typeof Ct.catch=="function"&&Ct.catch(function(){})}}catch(st){if(st&&nt&&typeof st.stack=="string")return[st.stack,nt.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=h.DetermineComponentFrameRoot(),D=S[0],P=S[1];if(D&&P){var H=D.split(`
`),tt=P.split(`
`);for(v=h=0;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;for(;v<tt.length&&!tt[v].includes("DetermineComponentFrameRoot");)v++;if(h===H.length||v===tt.length)for(h=H.length-1,v=tt.length-1;1<=h&&0<=v&&H[h]!==tt[v];)v--;for(;1<=h&&0<=v;h--,v--)if(H[h]!==tt[v]){if(h!==1||v!==1)do if(h--,v--,0>v||H[h]!==tt[v]){var dt=`
`+H[h].replace(" at new "," at ");return t.displayName&&dt.includes("<anonymous>")&&(dt=dt.replace("<anonymous>",t.displayName)),dt}while(1<=h&&0<=v);break}}}finally{Ro=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Dn(n):""}function fy(t){switch(t.tag){case 26:case 27:case 5:return Dn(t.type);case 16:return Dn("Lazy");case 13:return Dn("Suspense");case 19:return Dn("SuspenseList");case 0:case 15:return Do(t.type,!1);case 11:return Do(t.type.render,!1);case 1:return Do(t.type,!0);case 31:return Dn("Activity");default:return""}}function Af(t){try{var e="";do e+=fy(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Ye(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Rf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function hy(t){var e=Rf(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),h=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var v=n.get,S=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return v.call(this)},set:function(D){h=""+D,S.call(this,D)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return h},setValue:function(D){h=""+D},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ba(t){t._valueTracker||(t._valueTracker=hy(t))}function Df(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),h="";return t&&(h=Rf(t)?t.checked?"true":"false":t.value),t=h,t!==n?(e.setValue(t),!0):!1}function ka(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var dy=/[\n"\\]/g;function Xe(t){return t.replace(dy,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Mo(t,e,n,h,v,S,D,P){t.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?t.type=D:t.removeAttribute("type"),e!=null?D==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Ye(e)):t.value!==""+Ye(e)&&(t.value=""+Ye(e)):D!=="submit"&&D!=="reset"||t.removeAttribute("value"),e!=null?Bo(t,D,Ye(e)):n!=null?Bo(t,D,Ye(n)):h!=null&&t.removeAttribute("value"),v==null&&S!=null&&(t.defaultChecked=!!S),v!=null&&(t.checked=v&&typeof v!="function"&&typeof v!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?t.name=""+Ye(P):t.removeAttribute("name")}function Mf(t,e,n,h,v,S,D,P){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(t.type=S),e!=null||n!=null){if(!(S!=="submit"&&S!=="reset"||e!=null))return;n=n!=null?""+Ye(n):"",e=e!=null?""+Ye(e):n,P||e===t.value||(t.value=e),t.defaultValue=e}h=h??v,h=typeof h!="function"&&typeof h!="symbol"&&!!h,t.checked=P?t.checked:!!h,t.defaultChecked=!!h,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(t.name=D)}function Bo(t,e,n){e==="number"&&ka(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Mn(t,e,n,h){if(t=t.options,e){e={};for(var v=0;v<n.length;v++)e["$"+n[v]]=!0;for(n=0;n<t.length;n++)v=e.hasOwnProperty("$"+t[n].value),t[n].selected!==v&&(t[n].selected=v),v&&h&&(t[n].defaultSelected=!0)}else{for(n=""+Ye(n),e=null,v=0;v<t.length;v++){if(t[v].value===n){t[v].selected=!0,h&&(t[v].defaultSelected=!0);return}e!==null||t[v].disabled||(e=t[v])}e!==null&&(e.selected=!0)}}function Bf(t,e,n){if(e!=null&&(e=""+Ye(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Ye(n):""}function kf(t,e,n,h){if(e==null){if(h!=null){if(n!=null)throw Error(b(92));if(ft(h)){if(1<h.length)throw Error(b(93));h=h[0]}n=h}n==null&&(n=""),e=n}n=Ye(e),t.defaultValue=n,h=t.textContent,h===n&&h!==""&&h!==null&&(t.value=h)}function Bn(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var gy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lf(t,e,n){var h=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?h?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":h?t.setProperty(e,n):typeof n!="number"||n===0||gy.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function jf(t,e,n){if(e!=null&&typeof e!="object")throw Error(b(62));if(t=t.style,n!=null){for(var h in n)!n.hasOwnProperty(h)||e!=null&&e.hasOwnProperty(h)||(h.indexOf("--")===0?t.setProperty(h,""):h==="float"?t.cssFloat="":t[h]="");for(var v in e)h=e[v],e.hasOwnProperty(v)&&n[v]!==h&&Lf(t,v,h)}else for(var S in e)e.hasOwnProperty(S)&&Lf(t,S,e[S])}function ko(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var py=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),my=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function La(t){return my.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Lo=null;function jo(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var kn=null,Ln=null;function Ff(t){var e=En(t);if(e&&(t=e.stateNode)){var n=t[Te]||null;t:switch(t=e.stateNode,e.type){case"input":if(Mo(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Xe(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var h=n[e];if(h!==t&&h.form===t.form){var v=h[Te]||null;if(!v)throw Error(b(90));Mo(h,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(e=0;e<n.length;e++)h=n[e],h.form===t.form&&Df(h)}break t;case"textarea":Bf(t,n.value,n.defaultValue);break t;case"select":e=n.value,e!=null&&Mn(t,!!n.multiple,e,!1)}}}var Fo=!1;function Pf(t,e,n){if(Fo)return t(e,n);Fo=!0;try{var h=t(e);return h}finally{if(Fo=!1,(kn!==null||Ln!==null)&&(bs(),kn&&(e=kn,t=Ln,Ln=kn=null,Ff(e),t)))for(e=0;e<t.length;e++)Ff(t[e])}}function br(t,e){var n=t.stateNode;if(n===null)return null;var h=n[Te]||null;if(h===null)return null;n=h[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(t=t.type,h=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!h;break t;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(b(231,e,typeof n));return n}var di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Po=!1;if(di)try{var Cr={};Object.defineProperty(Cr,"passive",{get:function(){Po=!0}}),window.addEventListener("test",Cr,Cr),window.removeEventListener("test",Cr,Cr)}catch{Po=!1}var Di=null,No=null,ja=null;function Nf(){if(ja)return ja;var t,e=No,n=e.length,h,v="value"in Di?Di.value:Di.textContent,S=v.length;for(t=0;t<n&&e[t]===v[t];t++);var D=n-t;for(h=1;h<=D&&e[n-h]===v[S-h];h++);return ja=v.slice(t,1<h?1-h:void 0)}function Fa(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Pa(){return!0}function Uf(){return!1}function Oe(t){function e(n,h,v,S,D){this._reactName=n,this._targetInst=v,this.type=h,this.nativeEvent=S,this.target=D,this.currentTarget=null;for(var P in t)t.hasOwnProperty(P)&&(n=t[P],this[P]=n?n(S):S[P]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Pa:Uf,this.isPropagationStopped=Uf,this}return l(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pa)},persist:function(){},isPersistent:Pa}),e}var en={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Na=Oe(en),Sr=l({},en,{view:0,detail:0}),vy=Oe(Sr),Uo,zo,_r,Ua=l({},Sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yo,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_r&&(_r&&t.type==="mousemove"?(Uo=t.screenX-_r.screenX,zo=t.screenY-_r.screenY):zo=Uo=0,_r=t),Uo)},movementY:function(t){return"movementY"in t?t.movementY:zo}}),zf=Oe(Ua),yy=l({},Ua,{dataTransfer:0}),by=Oe(yy),Cy=l({},Sr,{relatedTarget:0}),Ho=Oe(Cy),Sy=l({},en,{animationName:0,elapsedTime:0,pseudoElement:0}),_y=Oe(Sy),wy=l({},en,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xy=Oe(wy),Ty=l({},en,{data:0}),Hf=Oe(Ty),Oy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ey={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ay={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ry(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ay[t])?!!e[t]:!1}function Yo(){return Ry}var Dy=l({},Sr,{key:function(t){if(t.key){var e=Oy[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Fa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ey[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yo,charCode:function(t){return t.type==="keypress"?Fa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),My=Oe(Dy),By=l({},Ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yf=Oe(By),ky=l({},Sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yo}),Ly=Oe(ky),jy=l({},en,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fy=Oe(jy),Py=l({},Ua,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ny=Oe(Py),Uy=l({},en,{newState:0,oldState:0}),zy=Oe(Uy),Hy=[9,13,27,32],Xo=di&&"CompositionEvent"in window,wr=null;di&&"documentMode"in document&&(wr=document.documentMode);var Yy=di&&"TextEvent"in window&&!wr,Xf=di&&(!Xo||wr&&8<wr&&11>=wr),qf=" ",Gf=!1;function Vf(t,e){switch(t){case"keyup":return Hy.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function If(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var jn=!1;function Xy(t,e){switch(t){case"compositionend":return If(e);case"keypress":return e.which!==32?null:(Gf=!0,qf);case"textInput":return t=e.data,t===qf&&Gf?null:t;default:return null}}function qy(t,e){if(jn)return t==="compositionend"||!Xo&&Vf(t,e)?(t=Nf(),ja=No=Di=null,jn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Xf&&e.locale!=="ko"?null:e.data;default:return null}}var Gy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Gy[t.type]:e==="textarea"}function Kf(t,e,n,h){kn?Ln?Ln.push(h):Ln=[h]:kn=h,e=Ts(e,"onChange"),0<e.length&&(n=new Na("onChange","change",null,n,h),t.push({event:n,listeners:e}))}var xr=null,Tr=null;function Vy(t){Rg(t,0)}function za(t){var e=yr(t);if(Df(e))return t}function Qf(t,e){if(t==="change")return e}var Zf=!1;if(di){var qo;if(di){var Go="oninput"in document;if(!Go){var Jf=document.createElement("div");Jf.setAttribute("oninput","return;"),Go=typeof Jf.oninput=="function"}qo=Go}else qo=!1;Zf=qo&&(!document.documentMode||9<document.documentMode)}function $f(){xr&&(xr.detachEvent("onpropertychange",th),Tr=xr=null)}function th(t){if(t.propertyName==="value"&&za(Tr)){var e=[];Kf(e,Tr,t,jo(t)),Pf(Vy,e)}}function Iy(t,e,n){t==="focusin"?($f(),xr=e,Tr=n,xr.attachEvent("onpropertychange",th)):t==="focusout"&&$f()}function Wy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return za(Tr)}function Ky(t,e){if(t==="click")return za(e)}function Qy(t,e){if(t==="input"||t==="change")return za(e)}function Zy(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Be=typeof Object.is=="function"?Object.is:Zy;function Or(t,e){if(Be(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),h=Object.keys(e);if(n.length!==h.length)return!1;for(h=0;h<n.length;h++){var v=n[h];if(!_t.call(e,v)||!Be(t[v],e[v]))return!1}return!0}function eh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ih(t,e){var n=eh(t);t=0;for(var h;n;){if(n.nodeType===3){if(h=t+n.textContent.length,t<=e&&h>=e)return{node:n,offset:e-t};t=h}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=eh(n)}}function nh(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?nh(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function rh(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=ka(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ka(t.document)}return e}function Vo(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Jy=di&&"documentMode"in document&&11>=document.documentMode,Fn=null,Io=null,Er=null,Wo=!1;function ah(t,e,n){var h=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wo||Fn==null||Fn!==ka(h)||(h=Fn,"selectionStart"in h&&Vo(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Er&&Or(Er,h)||(Er=h,h=Ts(Io,"onSelect"),0<h.length&&(e=new Na("onSelect","select",null,e,n),t.push({event:e,listeners:h}),e.target=Fn)))}function nn(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Pn={animationend:nn("Animation","AnimationEnd"),animationiteration:nn("Animation","AnimationIteration"),animationstart:nn("Animation","AnimationStart"),transitionrun:nn("Transition","TransitionRun"),transitionstart:nn("Transition","TransitionStart"),transitioncancel:nn("Transition","TransitionCancel"),transitionend:nn("Transition","TransitionEnd")},Ko={},sh={};di&&(sh=document.createElement("div").style,"AnimationEvent"in window||(delete Pn.animationend.animation,delete Pn.animationiteration.animation,delete Pn.animationstart.animation),"TransitionEvent"in window||delete Pn.transitionend.transition);function rn(t){if(Ko[t])return Ko[t];if(!Pn[t])return t;var e=Pn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in sh)return Ko[t]=e[n];return t}var oh=rn("animationend"),lh=rn("animationiteration"),uh=rn("animationstart"),$y=rn("transitionrun"),t0=rn("transitionstart"),e0=rn("transitioncancel"),ch=rn("transitionend"),fh=new Map,Qo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qo.push("scrollEnd");function Ze(t,e){fh.set(t,e),tn(e,[t])}var hh=new WeakMap;function qe(t,e){if(typeof t=="object"&&t!==null){var n=hh.get(t);return n!==void 0?n:(e={value:t,source:e,stack:Af(e)},hh.set(t,e),e)}return{value:t,source:e,stack:Af(e)}}var Ge=[],Nn=0,Zo=0;function Ha(){for(var t=Nn,e=Zo=Nn=0;e<t;){var n=Ge[e];Ge[e++]=null;var h=Ge[e];Ge[e++]=null;var v=Ge[e];Ge[e++]=null;var S=Ge[e];if(Ge[e++]=null,h!==null&&v!==null){var D=h.pending;D===null?v.next=v:(v.next=D.next,D.next=v),h.pending=v}S!==0&&dh(n,v,S)}}function Ya(t,e,n,h){Ge[Nn++]=t,Ge[Nn++]=e,Ge[Nn++]=n,Ge[Nn++]=h,Zo|=h,t.lanes|=h,t=t.alternate,t!==null&&(t.lanes|=h)}function Jo(t,e,n,h){return Ya(t,e,n,h),Xa(t)}function Un(t,e){return Ya(t,null,null,e),Xa(t)}function dh(t,e,n){t.lanes|=n;var h=t.alternate;h!==null&&(h.lanes|=n);for(var v=!1,S=t.return;S!==null;)S.childLanes|=n,h=S.alternate,h!==null&&(h.childLanes|=n),S.tag===22&&(t=S.stateNode,t===null||t._visibility&1||(v=!0)),t=S,S=S.return;return t.tag===3?(S=t.stateNode,v&&e!==null&&(v=31-Yt(n),t=S.hiddenUpdates,h=t[v],h===null?t[v]=[e]:h.push(e),e.lane=n|536870912),S):null}function Xa(t){if(50<Jr)throw Jr=0,ru=null,Error(b(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var zn={};function i0(t,e,n,h){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ke(t,e,n,h){return new i0(t,e,n,h)}function $o(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gi(t,e){var n=t.alternate;return n===null?(n=ke(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function gh(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function qa(t,e,n,h,v,S){var D=0;if(h=t,typeof t=="function")$o(t)&&(D=1);else if(typeof t=="string")D=rb(t,n,F.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case Y:return t=ke(31,n,e,v),t.elementType=Y,t.lanes=S,t;case f:return an(n.children,v,S,e);case d:D=8,v|=24;break;case c:return t=ke(12,n,e,v|2),t.elementType=c,t.lanes=S,t;case O:return t=ke(13,n,e,v),t.elementType=O,t.lanes=S,t;case M:return t=ke(19,n,e,v),t.elementType=M,t.lanes=S,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case p:case _:D=10;break t;case y:D=9;break t;case w:D=11;break t;case j:D=14;break t;case U:D=16,h=null;break t}D=29,n=Error(b(130,t===null?"null":typeof t,"")),h=null}return e=ke(D,n,e,v),e.elementType=t,e.type=h,e.lanes=S,e}function an(t,e,n,h){return t=ke(7,t,h,e),t.lanes=n,t}function tl(t,e,n){return t=ke(6,t,null,e),t.lanes=n,t}function el(t,e,n){return e=ke(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Hn=[],Yn=0,Ga=null,Va=0,Ve=[],Ie=0,sn=null,pi=1,mi="";function on(t,e){Hn[Yn++]=Va,Hn[Yn++]=Ga,Ga=t,Va=e}function ph(t,e,n){Ve[Ie++]=pi,Ve[Ie++]=mi,Ve[Ie++]=sn,sn=t;var h=pi;t=mi;var v=32-Yt(h)-1;h&=~(1<<v),n+=1;var S=32-Yt(e)+v;if(30<S){var D=v-v%5;S=(h&(1<<D)-1).toString(32),h>>=D,v-=D,pi=1<<32-Yt(e)+v|n<<v|h,mi=S+t}else pi=1<<S|n<<v|h,mi=t}function il(t){t.return!==null&&(on(t,1),ph(t,1,0))}function nl(t){for(;t===Ga;)Ga=Hn[--Yn],Hn[Yn]=null,Va=Hn[--Yn],Hn[Yn]=null;for(;t===sn;)sn=Ve[--Ie],Ve[Ie]=null,mi=Ve[--Ie],Ve[Ie]=null,pi=Ve[--Ie],Ve[Ie]=null}var xe=null,ae=null,Gt=!1,ln=null,ii=!1,rl=Error(b(519));function un(t){var e=Error(b(418,""));throw Dr(qe(e,t)),rl}function mh(t){var e=t.stateNode,n=t.type,h=t.memoizedProps;switch(e[Ce]=t,e[Te]=h,n){case"dialog":zt("cancel",e),zt("close",e);break;case"iframe":case"object":case"embed":zt("load",e);break;case"video":case"audio":for(n=0;n<ta.length;n++)zt(ta[n],e);break;case"source":zt("error",e);break;case"img":case"image":case"link":zt("error",e),zt("load",e);break;case"details":zt("toggle",e);break;case"input":zt("invalid",e),Mf(e,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),Ba(e);break;case"select":zt("invalid",e);break;case"textarea":zt("invalid",e),kf(e,h.value,h.defaultValue,h.children),Ba(e)}n=h.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||h.suppressHydrationWarning===!0||kg(e.textContent,n)?(h.popover!=null&&(zt("beforetoggle",e),zt("toggle",e)),h.onScroll!=null&&zt("scroll",e),h.onScrollEnd!=null&&zt("scrollend",e),h.onClick!=null&&(e.onclick=Os),e=!0):e=!1,e||un(t)}function vh(t){for(xe=t.return;xe;)switch(xe.tag){case 5:case 13:ii=!1;return;case 27:case 3:ii=!0;return;default:xe=xe.return}}function Ar(t){if(t!==xe)return!1;if(!Gt)return vh(t),Gt=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Cu(t.type,t.memoizedProps)),n=!n),n&&ae&&un(t),vh(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(b(317));t:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){ae=$e(t.nextSibling);break t}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}ae=null}}else e===27?(e=ae,Vi(t.type)?(t=xu,xu=null,ae=t):ae=e):ae=xe?$e(t.stateNode.nextSibling):null;return!0}function Rr(){ae=xe=null,Gt=!1}function yh(){var t=ln;return t!==null&&(Re===null?Re=t:Re.push.apply(Re,t),ln=null),t}function Dr(t){ln===null?ln=[t]:ln.push(t)}var al=E(null),cn=null,vi=null;function Mi(t,e,n){N(al,e._currentValue),e._currentValue=n}function yi(t){t._currentValue=al.current,k(al)}function sl(t,e,n){for(;t!==null;){var h=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,h!==null&&(h.childLanes|=e)):h!==null&&(h.childLanes&e)!==e&&(h.childLanes|=e),t===n)break;t=t.return}}function ol(t,e,n,h){var v=t.child;for(v!==null&&(v.return=t);v!==null;){var S=v.dependencies;if(S!==null){var D=v.child;S=S.firstContext;t:for(;S!==null;){var P=S;S=v;for(var H=0;H<e.length;H++)if(P.context===e[H]){S.lanes|=n,P=S.alternate,P!==null&&(P.lanes|=n),sl(S.return,n,t),h||(D=null);break t}S=P.next}}else if(v.tag===18){if(D=v.return,D===null)throw Error(b(341));D.lanes|=n,S=D.alternate,S!==null&&(S.lanes|=n),sl(D,n,t),D=null}else D=v.child;if(D!==null)D.return=v;else for(D=v;D!==null;){if(D===t){D=null;break}if(v=D.sibling,v!==null){v.return=D.return,D=v;break}D=D.return}v=D}}function Mr(t,e,n,h){t=null;for(var v=e,S=!1;v!==null;){if(!S){if((v.flags&524288)!==0)S=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var D=v.alternate;if(D===null)throw Error(b(387));if(D=D.memoizedProps,D!==null){var P=v.type;Be(v.pendingProps.value,D.value)||(t!==null?t.push(P):t=[P])}}else if(v===X.current){if(D=v.alternate,D===null)throw Error(b(387));D.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(t!==null?t.push(sa):t=[sa])}v=v.return}t!==null&&ol(e,t,n,h),e.flags|=262144}function Ia(t){for(t=t.firstContext;t!==null;){if(!Be(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function fn(t){cn=t,vi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Se(t){return bh(cn,t)}function Wa(t,e){return cn===null&&fn(t),bh(t,e)}function bh(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},vi===null){if(t===null)throw Error(b(308));vi=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else vi=vi.next=e;return n}var n0=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,h){t.push(h)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},r0=m.unstable_scheduleCallback,a0=m.unstable_NormalPriority,fe={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ll(){return{controller:new n0,data:new Map,refCount:0}}function Br(t){t.refCount--,t.refCount===0&&r0(a0,function(){t.controller.abort()})}var kr=null,ul=0,Xn=0,qn=null;function s0(t,e){if(kr===null){var n=kr=[];ul=0,Xn=fu(),qn={status:"pending",value:void 0,then:function(h){n.push(h)}}}return ul++,e.then(Ch,Ch),e}function Ch(){if(--ul===0&&kr!==null){qn!==null&&(qn.status="fulfilled");var t=kr;kr=null,Xn=0,qn=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function o0(t,e){var n=[],h={status:"pending",value:null,reason:null,then:function(v){n.push(v)}};return t.then(function(){h.status="fulfilled",h.value=e;for(var v=0;v<n.length;v++)(0,n[v])(e)},function(v){for(h.status="rejected",h.reason=v,v=0;v<n.length;v++)(0,n[v])(void 0)}),h}var Sh=G.S;G.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&s0(t,e),Sh!==null&&Sh(t,e)};var hn=E(null);function cl(){var t=hn.current;return t!==null?t:$t.pooledCache}function Ka(t,e){e===null?N(hn,hn.current):N(hn,e.pool)}function _h(){var t=cl();return t===null?null:{parent:fe._currentValue,pool:t}}var Lr=Error(b(460)),wh=Error(b(474)),Qa=Error(b(542)),fl={then:function(){}};function xh(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Za(){}function Th(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Za,Za),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Eh(t),t;default:if(typeof e.status=="string")e.then(Za,Za);else{if(t=$t,t!==null&&100<t.shellSuspendCounter)throw Error(b(482));t=e,t.status="pending",t.then(function(h){if(e.status==="pending"){var v=e;v.status="fulfilled",v.value=h}},function(h){if(e.status==="pending"){var v=e;v.status="rejected",v.reason=h}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Eh(t),t}throw jr=e,Lr}}var jr=null;function Oh(){if(jr===null)throw Error(b(459));var t=jr;return jr=null,t}function Eh(t){if(t===Lr||t===Qa)throw Error(b(483))}var Bi=!1;function hl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dl(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ki(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Li(t,e,n){var h=t.updateQueue;if(h===null)return null;if(h=h.shared,(It&2)!==0){var v=h.pending;return v===null?e.next=e:(e.next=v.next,v.next=e),h.pending=e,e=Xa(t),dh(t,null,n),e}return Ya(t,h,e,n),Xa(t)}function Fr(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var h=e.lanes;h&=t.pendingLanes,n|=h,e.lanes=n,Cf(t,n)}}function gl(t,e){var n=t.updateQueue,h=t.alternate;if(h!==null&&(h=h.updateQueue,n===h)){var v=null,S=null;if(n=n.firstBaseUpdate,n!==null){do{var D={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};S===null?v=S=D:S=S.next=D,n=n.next}while(n!==null);S===null?v=S=e:S=S.next=e}else v=S=e;n={baseState:h.baseState,firstBaseUpdate:v,lastBaseUpdate:S,shared:h.shared,callbacks:h.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var pl=!1;function Pr(){if(pl){var t=qn;if(t!==null)throw t}}function Nr(t,e,n,h){pl=!1;var v=t.updateQueue;Bi=!1;var S=v.firstBaseUpdate,D=v.lastBaseUpdate,P=v.shared.pending;if(P!==null){v.shared.pending=null;var H=P,tt=H.next;H.next=null,D===null?S=tt:D.next=tt,D=H;var dt=t.alternate;dt!==null&&(dt=dt.updateQueue,P=dt.lastBaseUpdate,P!==D&&(P===null?dt.firstBaseUpdate=tt:P.next=tt,dt.lastBaseUpdate=H))}if(S!==null){var Ct=v.baseState;D=0,dt=tt=H=null,P=S;do{var nt=P.lane&-536870913,st=nt!==P.lane;if(st?(Xt&nt)===nt:(h&nt)===nt){nt!==0&&nt===Xn&&(pl=!0),dt!==null&&(dt=dt.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});t:{var Dt=t,At=P;nt=e;var Zt=n;switch(At.tag){case 1:if(Dt=At.payload,typeof Dt=="function"){Ct=Dt.call(Zt,Ct,nt);break t}Ct=Dt;break t;case 3:Dt.flags=Dt.flags&-65537|128;case 0:if(Dt=At.payload,nt=typeof Dt=="function"?Dt.call(Zt,Ct,nt):Dt,nt==null)break t;Ct=l({},Ct,nt);break t;case 2:Bi=!0}}nt=P.callback,nt!==null&&(t.flags|=64,st&&(t.flags|=8192),st=v.callbacks,st===null?v.callbacks=[nt]:st.push(nt))}else st={lane:nt,tag:P.tag,payload:P.payload,callback:P.callback,next:null},dt===null?(tt=dt=st,H=Ct):dt=dt.next=st,D|=nt;if(P=P.next,P===null){if(P=v.shared.pending,P===null)break;st=P,P=st.next,st.next=null,v.lastBaseUpdate=st,v.shared.pending=null}}while(!0);dt===null&&(H=Ct),v.baseState=H,v.firstBaseUpdate=tt,v.lastBaseUpdate=dt,S===null&&(v.shared.lanes=0),Yi|=D,t.lanes=D,t.memoizedState=Ct}}function Ah(t,e){if(typeof t!="function")throw Error(b(191,t));t.call(e)}function Rh(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)Ah(n[t],e)}var Gn=E(null),Ja=E(0);function Dh(t,e){t=Ti,N(Ja,t),N(Gn,e),Ti=t|e.baseLanes}function ml(){N(Ja,Ti),N(Gn,Gn.current)}function vl(){Ti=Ja.current,k(Gn),k(Ja)}var ji=0,Ft=null,Kt=null,ue=null,$a=!1,Vn=!1,dn=!1,ts=0,Ur=0,In=null,l0=0;function oe(){throw Error(b(321))}function yl(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Be(t[n],e[n]))return!1;return!0}function bl(t,e,n,h,v,S){return ji=S,Ft=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,G.H=t===null||t.memoizedState===null?dd:gd,dn=!1,S=n(h,v),dn=!1,Vn&&(S=Bh(e,n,h,v)),Mh(t),S}function Mh(t){G.H=ss;var e=Kt!==null&&Kt.next!==null;if(ji=0,ue=Kt=Ft=null,$a=!1,Ur=0,In=null,e)throw Error(b(300));t===null||ge||(t=t.dependencies,t!==null&&Ia(t)&&(ge=!0))}function Bh(t,e,n,h){Ft=t;var v=0;do{if(Vn&&(In=null),Ur=0,Vn=!1,25<=v)throw Error(b(301));if(v+=1,ue=Kt=null,t.updateQueue!=null){var S=t.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}G.H=p0,S=e(n,h)}while(Vn);return S}function u0(){var t=G.H,e=t.useState()[0];return e=typeof e.then=="function"?zr(e):e,t=t.useState()[0],(Kt!==null?Kt.memoizedState:null)!==t&&(Ft.flags|=1024),e}function Cl(){var t=ts!==0;return ts=0,t}function Sl(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function _l(t){if($a){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}$a=!1}ji=0,ue=Kt=Ft=null,Vn=!1,Ur=ts=0,In=null}function Ee(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ue===null?Ft.memoizedState=ue=t:ue=ue.next=t,ue}function ce(){if(Kt===null){var t=Ft.alternate;t=t!==null?t.memoizedState:null}else t=Kt.next;var e=ue===null?Ft.memoizedState:ue.next;if(e!==null)ue=e,Kt=t;else{if(t===null)throw Ft.alternate===null?Error(b(467)):Error(b(310));Kt=t,t={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},ue===null?Ft.memoizedState=ue=t:ue=ue.next=t}return ue}function wl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zr(t){var e=Ur;return Ur+=1,In===null&&(In=[]),t=Th(In,t,e),e=Ft,(ue===null?e.memoizedState:ue.next)===null&&(e=e.alternate,G.H=e===null||e.memoizedState===null?dd:gd),t}function es(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return zr(t);if(t.$$typeof===_)return Se(t)}throw Error(b(438,String(t)))}function xl(t){var e=null,n=Ft.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var h=Ft.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(e={data:h.data.map(function(v){return v.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=wl(),Ft.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),h=0;h<t;h++)n[h]=W;return e.index++,n}function bi(t,e){return typeof e=="function"?e(t):e}function is(t){var e=ce();return Tl(e,Kt,t)}function Tl(t,e,n){var h=t.queue;if(h===null)throw Error(b(311));h.lastRenderedReducer=n;var v=t.baseQueue,S=h.pending;if(S!==null){if(v!==null){var D=v.next;v.next=S.next,S.next=D}e.baseQueue=v=S,h.pending=null}if(S=t.baseState,v===null)t.memoizedState=S;else{e=v.next;var P=D=null,H=null,tt=e,dt=!1;do{var Ct=tt.lane&-536870913;if(Ct!==tt.lane?(Xt&Ct)===Ct:(ji&Ct)===Ct){var nt=tt.revertLane;if(nt===0)H!==null&&(H=H.next={lane:0,revertLane:0,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null}),Ct===Xn&&(dt=!0);else if((ji&nt)===nt){tt=tt.next,nt===Xn&&(dt=!0);continue}else Ct={lane:0,revertLane:tt.revertLane,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null},H===null?(P=H=Ct,D=S):H=H.next=Ct,Ft.lanes|=nt,Yi|=nt;Ct=tt.action,dn&&n(S,Ct),S=tt.hasEagerState?tt.eagerState:n(S,Ct)}else nt={lane:Ct,revertLane:tt.revertLane,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null},H===null?(P=H=nt,D=S):H=H.next=nt,Ft.lanes|=Ct,Yi|=Ct;tt=tt.next}while(tt!==null&&tt!==e);if(H===null?D=S:H.next=P,!Be(S,t.memoizedState)&&(ge=!0,dt&&(n=qn,n!==null)))throw n;t.memoizedState=S,t.baseState=D,t.baseQueue=H,h.lastRenderedState=S}return v===null&&(h.lanes=0),[t.memoizedState,h.dispatch]}function Ol(t){var e=ce(),n=e.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=t;var h=n.dispatch,v=n.pending,S=e.memoizedState;if(v!==null){n.pending=null;var D=v=v.next;do S=t(S,D.action),D=D.next;while(D!==v);Be(S,e.memoizedState)||(ge=!0),e.memoizedState=S,e.baseQueue===null&&(e.baseState=S),n.lastRenderedState=S}return[S,h]}function kh(t,e,n){var h=Ft,v=ce(),S=Gt;if(S){if(n===void 0)throw Error(b(407));n=n()}else n=e();var D=!Be((Kt||v).memoizedState,n);D&&(v.memoizedState=n,ge=!0),v=v.queue;var P=Fh.bind(null,h,v,t);if(Hr(2048,8,P,[t]),v.getSnapshot!==e||D||ue!==null&&ue.memoizedState.tag&1){if(h.flags|=2048,Wn(9,ns(),jh.bind(null,h,v,n,e),null),$t===null)throw Error(b(349));S||(ji&124)!==0||Lh(h,e,n)}return n}function Lh(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ft.updateQueue,e===null?(e=wl(),Ft.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function jh(t,e,n,h){e.value=n,e.getSnapshot=h,Ph(e)&&Nh(t)}function Fh(t,e,n){return n(function(){Ph(e)&&Nh(t)})}function Ph(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Be(t,n)}catch{return!0}}function Nh(t){var e=Un(t,2);e!==null&&Ne(e,t,2)}function El(t){var e=Ee();if(typeof t=="function"){var n=t;if(t=n(),dn){ee(!0);try{n()}finally{ee(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:t},e}function Uh(t,e,n,h){return t.baseState=n,Tl(t,Kt,typeof h=="function"?h:bi)}function c0(t,e,n,h,v){if(as(t))throw Error(b(485));if(t=e.action,t!==null){var S={payload:v,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){S.listeners.push(D)}};G.T!==null?n(!0):S.isTransition=!1,h(S),n=e.pending,n===null?(S.next=e.pending=S,zh(e,S)):(S.next=n.next,e.pending=n.next=S)}}function zh(t,e){var n=e.action,h=e.payload,v=t.state;if(e.isTransition){var S=G.T,D={};G.T=D;try{var P=n(v,h),H=G.S;H!==null&&H(D,P),Hh(t,e,P)}catch(tt){Al(t,e,tt)}finally{G.T=S}}else try{S=n(v,h),Hh(t,e,S)}catch(tt){Al(t,e,tt)}}function Hh(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(h){Yh(t,e,h)},function(h){return Al(t,e,h)}):Yh(t,e,n)}function Yh(t,e,n){e.status="fulfilled",e.value=n,Xh(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,zh(t,n)))}function Al(t,e,n){var h=t.pending;if(t.pending=null,h!==null){h=h.next;do e.status="rejected",e.reason=n,Xh(e),e=e.next;while(e!==h)}t.action=null}function Xh(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function qh(t,e){return e}function Gh(t,e){if(Gt){var n=$t.formState;if(n!==null){t:{var h=Ft;if(Gt){if(ae){e:{for(var v=ae,S=ii;v.nodeType!==8;){if(!S){v=null;break e}if(v=$e(v.nextSibling),v===null){v=null;break e}}S=v.data,v=S==="F!"||S==="F"?v:null}if(v){ae=$e(v.nextSibling),h=v.data==="F!";break t}}un(h)}h=!1}h&&(e=n[0])}}return n=Ee(),n.memoizedState=n.baseState=e,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qh,lastRenderedState:e},n.queue=h,n=cd.bind(null,Ft,h),h.dispatch=n,h=El(!1),S=kl.bind(null,Ft,!1,h.queue),h=Ee(),v={state:e,dispatch:null,action:t,pending:null},h.queue=v,n=c0.bind(null,Ft,v,S,n),v.dispatch=n,h.memoizedState=t,[e,n,!1]}function Vh(t){var e=ce();return Ih(e,Kt,t)}function Ih(t,e,n){if(e=Tl(t,e,qh)[0],t=is(bi)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var h=zr(e)}catch(D){throw D===Lr?Qa:D}else h=e;e=ce();var v=e.queue,S=v.dispatch;return n!==e.memoizedState&&(Ft.flags|=2048,Wn(9,ns(),f0.bind(null,v,n),null)),[h,S,t]}function f0(t,e){t.action=e}function Wh(t){var e=ce(),n=Kt;if(n!==null)return Ih(e,n,t);ce(),e=e.memoizedState,n=ce();var h=n.queue.dispatch;return n.memoizedState=t,[e,h,!1]}function Wn(t,e,n,h){return t={tag:t,create:n,deps:h,inst:e,next:null},e=Ft.updateQueue,e===null&&(e=wl(),Ft.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(h=n.next,n.next=t,t.next=h,e.lastEffect=t),t}function ns(){return{destroy:void 0,resource:void 0}}function Kh(){return ce().memoizedState}function rs(t,e,n,h){var v=Ee();h=h===void 0?null:h,Ft.flags|=t,v.memoizedState=Wn(1|e,ns(),n,h)}function Hr(t,e,n,h){var v=ce();h=h===void 0?null:h;var S=v.memoizedState.inst;Kt!==null&&h!==null&&yl(h,Kt.memoizedState.deps)?v.memoizedState=Wn(e,S,n,h):(Ft.flags|=t,v.memoizedState=Wn(1|e,S,n,h))}function Qh(t,e){rs(8390656,8,t,e)}function Zh(t,e){Hr(2048,8,t,e)}function Jh(t,e){return Hr(4,2,t,e)}function $h(t,e){return Hr(4,4,t,e)}function td(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ed(t,e,n){n=n!=null?n.concat([t]):null,Hr(4,4,td.bind(null,e,t),n)}function Rl(){}function id(t,e){var n=ce();e=e===void 0?null:e;var h=n.memoizedState;return e!==null&&yl(e,h[1])?h[0]:(n.memoizedState=[t,e],t)}function nd(t,e){var n=ce();e=e===void 0?null:e;var h=n.memoizedState;if(e!==null&&yl(e,h[1]))return h[0];if(h=t(),dn){ee(!0);try{t()}finally{ee(!1)}}return n.memoizedState=[h,e],h}function Dl(t,e,n){return n===void 0||(ji&1073741824)!==0?t.memoizedState=e:(t.memoizedState=n,t=sg(),Ft.lanes|=t,Yi|=t,n)}function rd(t,e,n,h){return Be(n,e)?n:Gn.current!==null?(t=Dl(t,n,h),Be(t,e)||(ge=!0),t):(ji&42)===0?(ge=!0,t.memoizedState=n):(t=sg(),Ft.lanes|=t,Yi|=t,e)}function ad(t,e,n,h,v){var S=et.p;et.p=S!==0&&8>S?S:8;var D=G.T,P={};G.T=P,kl(t,!1,e,n);try{var H=v(),tt=G.S;if(tt!==null&&tt(P,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var dt=o0(H,h);Yr(t,e,dt,Pe(t))}else Yr(t,e,h,Pe(t))}catch(Ct){Yr(t,e,{then:function(){},status:"rejected",reason:Ct},Pe())}finally{et.p=S,G.T=D}}function h0(){}function Ml(t,e,n,h){if(t.tag!==5)throw Error(b(476));var v=sd(t).queue;ad(t,v,e,yt,n===null?h0:function(){return od(t),n(h)})}function sd(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:yt,baseState:yt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:yt},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function od(t){var e=sd(t).next.queue;Yr(t,e,{},Pe())}function Bl(){return Se(sa)}function ld(){return ce().memoizedState}function ud(){return ce().memoizedState}function d0(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Pe();t=ki(n);var h=Li(e,t,n);h!==null&&(Ne(h,e,n),Fr(h,e,n)),e={cache:ll()},t.payload=e;return}e=e.return}}function g0(t,e,n){var h=Pe();n={lane:h,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},as(t)?fd(e,n):(n=Jo(t,e,n,h),n!==null&&(Ne(n,t,h),hd(n,e,h)))}function cd(t,e,n){var h=Pe();Yr(t,e,n,h)}function Yr(t,e,n,h){var v={lane:h,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(as(t))fd(e,v);else{var S=t.alternate;if(t.lanes===0&&(S===null||S.lanes===0)&&(S=e.lastRenderedReducer,S!==null))try{var D=e.lastRenderedState,P=S(D,n);if(v.hasEagerState=!0,v.eagerState=P,Be(P,D))return Ya(t,e,v,0),$t===null&&Ha(),!1}catch{}finally{}if(n=Jo(t,e,v,h),n!==null)return Ne(n,t,h),hd(n,e,h),!0}return!1}function kl(t,e,n,h){if(h={lane:2,revertLane:fu(),action:h,hasEagerState:!1,eagerState:null,next:null},as(t)){if(e)throw Error(b(479))}else e=Jo(t,n,h,2),e!==null&&Ne(e,t,2)}function as(t){var e=t.alternate;return t===Ft||e!==null&&e===Ft}function fd(t,e){Vn=$a=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function hd(t,e,n){if((n&4194048)!==0){var h=e.lanes;h&=t.pendingLanes,n|=h,e.lanes=n,Cf(t,n)}}var ss={readContext:Se,use:es,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useLayoutEffect:oe,useInsertionEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useSyncExternalStore:oe,useId:oe,useHostTransitionStatus:oe,useFormState:oe,useActionState:oe,useOptimistic:oe,useMemoCache:oe,useCacheRefresh:oe},dd={readContext:Se,use:es,useCallback:function(t,e){return Ee().memoizedState=[t,e===void 0?null:e],t},useContext:Se,useEffect:Qh,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,rs(4194308,4,td.bind(null,e,t),n)},useLayoutEffect:function(t,e){return rs(4194308,4,t,e)},useInsertionEffect:function(t,e){rs(4,2,t,e)},useMemo:function(t,e){var n=Ee();e=e===void 0?null:e;var h=t();if(dn){ee(!0);try{t()}finally{ee(!1)}}return n.memoizedState=[h,e],h},useReducer:function(t,e,n){var h=Ee();if(n!==void 0){var v=n(e);if(dn){ee(!0);try{n(e)}finally{ee(!1)}}}else v=e;return h.memoizedState=h.baseState=v,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:v},h.queue=t,t=t.dispatch=g0.bind(null,Ft,t),[h.memoizedState,t]},useRef:function(t){var e=Ee();return t={current:t},e.memoizedState=t},useState:function(t){t=El(t);var e=t.queue,n=cd.bind(null,Ft,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Rl,useDeferredValue:function(t,e){var n=Ee();return Dl(n,t,e)},useTransition:function(){var t=El(!1);return t=ad.bind(null,Ft,t.queue,!0,!1),Ee().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var h=Ft,v=Ee();if(Gt){if(n===void 0)throw Error(b(407));n=n()}else{if(n=e(),$t===null)throw Error(b(349));(Xt&124)!==0||Lh(h,e,n)}v.memoizedState=n;var S={value:n,getSnapshot:e};return v.queue=S,Qh(Fh.bind(null,h,S,t),[t]),h.flags|=2048,Wn(9,ns(),jh.bind(null,h,S,n,e),null),n},useId:function(){var t=Ee(),e=$t.identifierPrefix;if(Gt){var n=mi,h=pi;n=(h&~(1<<32-Yt(h)-1)).toString(32)+n,e="«"+e+"R"+n,n=ts++,0<n&&(e+="H"+n.toString(32)),e+="»"}else n=l0++,e="«"+e+"r"+n.toString(32)+"»";return t.memoizedState=e},useHostTransitionStatus:Bl,useFormState:Gh,useActionState:Gh,useOptimistic:function(t){var e=Ee();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=kl.bind(null,Ft,!0,n),n.dispatch=e,[t,e]},useMemoCache:xl,useCacheRefresh:function(){return Ee().memoizedState=d0.bind(null,Ft)}},gd={readContext:Se,use:es,useCallback:id,useContext:Se,useEffect:Zh,useImperativeHandle:ed,useInsertionEffect:Jh,useLayoutEffect:$h,useMemo:nd,useReducer:is,useRef:Kh,useState:function(){return is(bi)},useDebugValue:Rl,useDeferredValue:function(t,e){var n=ce();return rd(n,Kt.memoizedState,t,e)},useTransition:function(){var t=is(bi)[0],e=ce().memoizedState;return[typeof t=="boolean"?t:zr(t),e]},useSyncExternalStore:kh,useId:ld,useHostTransitionStatus:Bl,useFormState:Vh,useActionState:Vh,useOptimistic:function(t,e){var n=ce();return Uh(n,Kt,t,e)},useMemoCache:xl,useCacheRefresh:ud},p0={readContext:Se,use:es,useCallback:id,useContext:Se,useEffect:Zh,useImperativeHandle:ed,useInsertionEffect:Jh,useLayoutEffect:$h,useMemo:nd,useReducer:Ol,useRef:Kh,useState:function(){return Ol(bi)},useDebugValue:Rl,useDeferredValue:function(t,e){var n=ce();return Kt===null?Dl(n,t,e):rd(n,Kt.memoizedState,t,e)},useTransition:function(){var t=Ol(bi)[0],e=ce().memoizedState;return[typeof t=="boolean"?t:zr(t),e]},useSyncExternalStore:kh,useId:ld,useHostTransitionStatus:Bl,useFormState:Wh,useActionState:Wh,useOptimistic:function(t,e){var n=ce();return Kt!==null?Uh(n,Kt,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:xl,useCacheRefresh:ud},Kn=null,Xr=0;function os(t){var e=Xr;return Xr+=1,Kn===null&&(Kn=[]),Th(Kn,t,e)}function qr(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function ls(t,e){throw e.$$typeof===i?Error(b(525)):(t=Object.prototype.toString.call(e),Error(b(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function pd(t){var e=t._init;return e(t._payload)}function md(t){function e(Z,V){if(t){var $=Z.deletions;$===null?(Z.deletions=[V],Z.flags|=16):$.push(V)}}function n(Z,V){if(!t)return null;for(;V!==null;)e(Z,V),V=V.sibling;return null}function h(Z){for(var V=new Map;Z!==null;)Z.key!==null?V.set(Z.key,Z):V.set(Z.index,Z),Z=Z.sibling;return V}function v(Z,V){return Z=gi(Z,V),Z.index=0,Z.sibling=null,Z}function S(Z,V,$){return Z.index=$,t?($=Z.alternate,$!==null?($=$.index,$<V?(Z.flags|=67108866,V):$):(Z.flags|=67108866,V)):(Z.flags|=1048576,V)}function D(Z){return t&&Z.alternate===null&&(Z.flags|=67108866),Z}function P(Z,V,$,bt){return V===null||V.tag!==6?(V=tl($,Z.mode,bt),V.return=Z,V):(V=v(V,$),V.return=Z,V)}function H(Z,V,$,bt){var xt=$.type;return xt===f?dt(Z,V,$.props.children,bt,$.key):V!==null&&(V.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===U&&pd(xt)===V.type)?(V=v(V,$.props),qr(V,$),V.return=Z,V):(V=qa($.type,$.key,$.props,null,Z.mode,bt),qr(V,$),V.return=Z,V)}function tt(Z,V,$,bt){return V===null||V.tag!==4||V.stateNode.containerInfo!==$.containerInfo||V.stateNode.implementation!==$.implementation?(V=el($,Z.mode,bt),V.return=Z,V):(V=v(V,$.children||[]),V.return=Z,V)}function dt(Z,V,$,bt,xt){return V===null||V.tag!==7?(V=an($,Z.mode,bt,xt),V.return=Z,V):(V=v(V,$),V.return=Z,V)}function Ct(Z,V,$){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=tl(""+V,Z.mode,$),V.return=Z,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case s:return $=qa(V.type,V.key,V.props,null,Z.mode,$),qr($,V),$.return=Z,$;case a:return V=el(V,Z.mode,$),V.return=Z,V;case U:var bt=V._init;return V=bt(V._payload),Ct(Z,V,$)}if(ft(V)||lt(V))return V=an(V,Z.mode,$,null),V.return=Z,V;if(typeof V.then=="function")return Ct(Z,os(V),$);if(V.$$typeof===_)return Ct(Z,Wa(Z,V),$);ls(Z,V)}return null}function nt(Z,V,$,bt){var xt=V!==null?V.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return xt!==null?null:P(Z,V,""+$,bt);if(typeof $=="object"&&$!==null){switch($.$$typeof){case s:return $.key===xt?H(Z,V,$,bt):null;case a:return $.key===xt?tt(Z,V,$,bt):null;case U:return xt=$._init,$=xt($._payload),nt(Z,V,$,bt)}if(ft($)||lt($))return xt!==null?null:dt(Z,V,$,bt,null);if(typeof $.then=="function")return nt(Z,V,os($),bt);if($.$$typeof===_)return nt(Z,V,Wa(Z,$),bt);ls(Z,$)}return null}function st(Z,V,$,bt,xt){if(typeof bt=="string"&&bt!==""||typeof bt=="number"||typeof bt=="bigint")return Z=Z.get($)||null,P(V,Z,""+bt,xt);if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case s:return Z=Z.get(bt.key===null?$:bt.key)||null,H(V,Z,bt,xt);case a:return Z=Z.get(bt.key===null?$:bt.key)||null,tt(V,Z,bt,xt);case U:var Pt=bt._init;return bt=Pt(bt._payload),st(Z,V,$,bt,xt)}if(ft(bt)||lt(bt))return Z=Z.get($)||null,dt(V,Z,bt,xt,null);if(typeof bt.then=="function")return st(Z,V,$,os(bt),xt);if(bt.$$typeof===_)return st(Z,V,$,Wa(V,bt),xt);ls(V,bt)}return null}function Dt(Z,V,$,bt){for(var xt=null,Pt=null,Et=V,Rt=V=0,me=null;Et!==null&&Rt<$.length;Rt++){Et.index>Rt?(me=Et,Et=null):me=Et.sibling;var qt=nt(Z,Et,$[Rt],bt);if(qt===null){Et===null&&(Et=me);break}t&&Et&&qt.alternate===null&&e(Z,Et),V=S(qt,V,Rt),Pt===null?xt=qt:Pt.sibling=qt,Pt=qt,Et=me}if(Rt===$.length)return n(Z,Et),Gt&&on(Z,Rt),xt;if(Et===null){for(;Rt<$.length;Rt++)Et=Ct(Z,$[Rt],bt),Et!==null&&(V=S(Et,V,Rt),Pt===null?xt=Et:Pt.sibling=Et,Pt=Et);return Gt&&on(Z,Rt),xt}for(Et=h(Et);Rt<$.length;Rt++)me=st(Et,Z,Rt,$[Rt],bt),me!==null&&(t&&me.alternate!==null&&Et.delete(me.key===null?Rt:me.key),V=S(me,V,Rt),Pt===null?xt=me:Pt.sibling=me,Pt=me);return t&&Et.forEach(function(Zi){return e(Z,Zi)}),Gt&&on(Z,Rt),xt}function At(Z,V,$,bt){if($==null)throw Error(b(151));for(var xt=null,Pt=null,Et=V,Rt=V=0,me=null,qt=$.next();Et!==null&&!qt.done;Rt++,qt=$.next()){Et.index>Rt?(me=Et,Et=null):me=Et.sibling;var Zi=nt(Z,Et,qt.value,bt);if(Zi===null){Et===null&&(Et=me);break}t&&Et&&Zi.alternate===null&&e(Z,Et),V=S(Zi,V,Rt),Pt===null?xt=Zi:Pt.sibling=Zi,Pt=Zi,Et=me}if(qt.done)return n(Z,Et),Gt&&on(Z,Rt),xt;if(Et===null){for(;!qt.done;Rt++,qt=$.next())qt=Ct(Z,qt.value,bt),qt!==null&&(V=S(qt,V,Rt),Pt===null?xt=qt:Pt.sibling=qt,Pt=qt);return Gt&&on(Z,Rt),xt}for(Et=h(Et);!qt.done;Rt++,qt=$.next())qt=st(Et,Z,Rt,qt.value,bt),qt!==null&&(t&&qt.alternate!==null&&Et.delete(qt.key===null?Rt:qt.key),V=S(qt,V,Rt),Pt===null?xt=qt:Pt.sibling=qt,Pt=qt);return t&&Et.forEach(function(mb){return e(Z,mb)}),Gt&&on(Z,Rt),xt}function Zt(Z,V,$,bt){if(typeof $=="object"&&$!==null&&$.type===f&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case s:t:{for(var xt=$.key;V!==null;){if(V.key===xt){if(xt=$.type,xt===f){if(V.tag===7){n(Z,V.sibling),bt=v(V,$.props.children),bt.return=Z,Z=bt;break t}}else if(V.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===U&&pd(xt)===V.type){n(Z,V.sibling),bt=v(V,$.props),qr(bt,$),bt.return=Z,Z=bt;break t}n(Z,V);break}else e(Z,V);V=V.sibling}$.type===f?(bt=an($.props.children,Z.mode,bt,$.key),bt.return=Z,Z=bt):(bt=qa($.type,$.key,$.props,null,Z.mode,bt),qr(bt,$),bt.return=Z,Z=bt)}return D(Z);case a:t:{for(xt=$.key;V!==null;){if(V.key===xt)if(V.tag===4&&V.stateNode.containerInfo===$.containerInfo&&V.stateNode.implementation===$.implementation){n(Z,V.sibling),bt=v(V,$.children||[]),bt.return=Z,Z=bt;break t}else{n(Z,V);break}else e(Z,V);V=V.sibling}bt=el($,Z.mode,bt),bt.return=Z,Z=bt}return D(Z);case U:return xt=$._init,$=xt($._payload),Zt(Z,V,$,bt)}if(ft($))return Dt(Z,V,$,bt);if(lt($)){if(xt=lt($),typeof xt!="function")throw Error(b(150));return $=xt.call($),At(Z,V,$,bt)}if(typeof $.then=="function")return Zt(Z,V,os($),bt);if($.$$typeof===_)return Zt(Z,V,Wa(Z,$),bt);ls(Z,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,V!==null&&V.tag===6?(n(Z,V.sibling),bt=v(V,$),bt.return=Z,Z=bt):(n(Z,V),bt=tl($,Z.mode,bt),bt.return=Z,Z=bt),D(Z)):n(Z,V)}return function(Z,V,$,bt){try{Xr=0;var xt=Zt(Z,V,$,bt);return Kn=null,xt}catch(Et){if(Et===Lr||Et===Qa)throw Et;var Pt=ke(29,Et,null,Z.mode);return Pt.lanes=bt,Pt.return=Z,Pt}finally{}}}var Qn=md(!0),vd=md(!1),We=E(null),ni=null;function Fi(t){var e=t.alternate;N(he,he.current&1),N(We,t),ni===null&&(e===null||Gn.current!==null||e.memoizedState!==null)&&(ni=t)}function yd(t){if(t.tag===22){if(N(he,he.current),N(We,t),ni===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(ni=t)}}else Pi()}function Pi(){N(he,he.current),N(We,We.current)}function Ci(t){k(We),ni===t&&(ni=null),k(he)}var he=E(0);function us(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||wu(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Ll(t,e,n,h){e=t.memoizedState,n=n(h,e),n=n==null?e:l({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var jl={enqueueSetState:function(t,e,n){t=t._reactInternals;var h=Pe(),v=ki(h);v.payload=e,n!=null&&(v.callback=n),e=Li(t,v,h),e!==null&&(Ne(e,t,h),Fr(e,t,h))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var h=Pe(),v=ki(h);v.tag=1,v.payload=e,n!=null&&(v.callback=n),e=Li(t,v,h),e!==null&&(Ne(e,t,h),Fr(e,t,h))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Pe(),h=ki(n);h.tag=2,e!=null&&(h.callback=e),e=Li(t,h,n),e!==null&&(Ne(e,t,n),Fr(e,t,n))}};function bd(t,e,n,h,v,S,D){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(h,S,D):e.prototype&&e.prototype.isPureReactComponent?!Or(n,h)||!Or(v,S):!0}function Cd(t,e,n,h){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,h),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,h),e.state!==t&&jl.enqueueReplaceState(e,e.state,null)}function gn(t,e){var n=e;if("ref"in e){n={};for(var h in e)h!=="ref"&&(n[h]=e[h])}if(t=t.defaultProps){n===e&&(n=l({},n));for(var v in t)n[v]===void 0&&(n[v]=t[v])}return n}var cs=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Sd(t){cs(t)}function _d(t){console.error(t)}function wd(t){cs(t)}function fs(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(h){setTimeout(function(){throw h})}}function xd(t,e,n){try{var h=t.onCaughtError;h(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Fl(t,e,n){return n=ki(n),n.tag=3,n.payload={element:null},n.callback=function(){fs(t,e)},n}function Td(t){return t=ki(t),t.tag=3,t}function Od(t,e,n,h){var v=n.type.getDerivedStateFromError;if(typeof v=="function"){var S=h.value;t.payload=function(){return v(S)},t.callback=function(){xd(e,n,h)}}var D=n.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(t.callback=function(){xd(e,n,h),typeof v!="function"&&(Xi===null?Xi=new Set([this]):Xi.add(this));var P=h.stack;this.componentDidCatch(h.value,{componentStack:P!==null?P:""})})}function m0(t,e,n,h,v){if(n.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(e=n.alternate,e!==null&&Mr(e,n,v,!0),n=We.current,n!==null){switch(n.tag){case 13:return ni===null?su():n.alternate===null&&se===0&&(se=3),n.flags&=-257,n.flags|=65536,n.lanes=v,h===fl?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([h]):e.add(h),lu(t,h,v)),!1;case 22:return n.flags|=65536,h===fl?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([h])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([h]):n.add(h)),lu(t,h,v)),!1}throw Error(b(435,n.tag))}return lu(t,h,v),su(),!1}if(Gt)return e=We.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=v,h!==rl&&(t=Error(b(422),{cause:h}),Dr(qe(t,n)))):(h!==rl&&(e=Error(b(423),{cause:h}),Dr(qe(e,n))),t=t.current.alternate,t.flags|=65536,v&=-v,t.lanes|=v,h=qe(h,n),v=Fl(t.stateNode,h,v),gl(t,v),se!==4&&(se=2)),!1;var S=Error(b(520),{cause:h});if(S=qe(S,n),Zr===null?Zr=[S]:Zr.push(S),se!==4&&(se=2),e===null)return!0;h=qe(h,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=v&-v,n.lanes|=t,t=Fl(n.stateNode,h,t),gl(n,t),!1;case 1:if(e=n.type,S=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Xi===null||!Xi.has(S))))return n.flags|=65536,v&=-v,n.lanes|=v,v=Td(v),Od(v,t,n,h),gl(n,v),!1}n=n.return}while(n!==null);return!1}var Ed=Error(b(461)),ge=!1;function ve(t,e,n,h){e.child=t===null?vd(e,null,n,h):Qn(e,t.child,n,h)}function Ad(t,e,n,h,v){n=n.render;var S=e.ref;if("ref"in h){var D={};for(var P in h)P!=="ref"&&(D[P]=h[P])}else D=h;return fn(e),h=bl(t,e,n,D,S,v),P=Cl(),t!==null&&!ge?(Sl(t,e,v),Si(t,e,v)):(Gt&&P&&il(e),e.flags|=1,ve(t,e,h,v),e.child)}function Rd(t,e,n,h,v){if(t===null){var S=n.type;return typeof S=="function"&&!$o(S)&&S.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=S,Dd(t,e,S,h,v)):(t=qa(n.type,null,h,e,e.mode,v),t.ref=e.ref,t.return=e,e.child=t)}if(S=t.child,!ql(t,v)){var D=S.memoizedProps;if(n=n.compare,n=n!==null?n:Or,n(D,h)&&t.ref===e.ref)return Si(t,e,v)}return e.flags|=1,t=gi(S,h),t.ref=e.ref,t.return=e,e.child=t}function Dd(t,e,n,h,v){if(t!==null){var S=t.memoizedProps;if(Or(S,h)&&t.ref===e.ref)if(ge=!1,e.pendingProps=h=S,ql(t,v))(t.flags&131072)!==0&&(ge=!0);else return e.lanes=t.lanes,Si(t,e,v)}return Pl(t,e,n,h,v)}function Md(t,e,n){var h=e.pendingProps,v=h.children,S=t!==null?t.memoizedState:null;if(h.mode==="hidden"){if((e.flags&128)!==0){if(h=S!==null?S.baseLanes|n:n,t!==null){for(v=e.child=t.child,S=0;v!==null;)S=S|v.lanes|v.childLanes,v=v.sibling;e.childLanes=S&~h}else e.childLanes=0,e.child=null;return Bd(t,e,h,n)}if((n&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ka(e,S!==null?S.cachePool:null),S!==null?Dh(e,S):ml(),yd(e);else return e.lanes=e.childLanes=536870912,Bd(t,e,S!==null?S.baseLanes|n:n,n)}else S!==null?(Ka(e,S.cachePool),Dh(e,S),Pi(),e.memoizedState=null):(t!==null&&Ka(e,null),ml(),Pi());return ve(t,e,v,n),e.child}function Bd(t,e,n,h){var v=cl();return v=v===null?null:{parent:fe._currentValue,pool:v},e.memoizedState={baseLanes:n,cachePool:v},t!==null&&Ka(e,null),ml(),yd(e),t!==null&&Mr(t,e,h,!0),null}function hs(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(b(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Pl(t,e,n,h,v){return fn(e),n=bl(t,e,n,h,void 0,v),h=Cl(),t!==null&&!ge?(Sl(t,e,v),Si(t,e,v)):(Gt&&h&&il(e),e.flags|=1,ve(t,e,n,v),e.child)}function kd(t,e,n,h,v,S){return fn(e),e.updateQueue=null,n=Bh(e,h,n,v),Mh(t),h=Cl(),t!==null&&!ge?(Sl(t,e,S),Si(t,e,S)):(Gt&&h&&il(e),e.flags|=1,ve(t,e,n,S),e.child)}function Ld(t,e,n,h,v){if(fn(e),e.stateNode===null){var S=zn,D=n.contextType;typeof D=="object"&&D!==null&&(S=Se(D)),S=new n(h,S),e.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=jl,e.stateNode=S,S._reactInternals=e,S=e.stateNode,S.props=h,S.state=e.memoizedState,S.refs={},hl(e),D=n.contextType,S.context=typeof D=="object"&&D!==null?Se(D):zn,S.state=e.memoizedState,D=n.getDerivedStateFromProps,typeof D=="function"&&(Ll(e,n,D,h),S.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(D=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),D!==S.state&&jl.enqueueReplaceState(S,S.state,null),Nr(e,h,S,v),Pr(),S.state=e.memoizedState),typeof S.componentDidMount=="function"&&(e.flags|=4194308),h=!0}else if(t===null){S=e.stateNode;var P=e.memoizedProps,H=gn(n,P);S.props=H;var tt=S.context,dt=n.contextType;D=zn,typeof dt=="object"&&dt!==null&&(D=Se(dt));var Ct=n.getDerivedStateFromProps;dt=typeof Ct=="function"||typeof S.getSnapshotBeforeUpdate=="function",P=e.pendingProps!==P,dt||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(P||tt!==D)&&Cd(e,S,h,D),Bi=!1;var nt=e.memoizedState;S.state=nt,Nr(e,h,S,v),Pr(),tt=e.memoizedState,P||nt!==tt||Bi?(typeof Ct=="function"&&(Ll(e,n,Ct,h),tt=e.memoizedState),(H=Bi||bd(e,n,H,h,nt,tt,D))?(dt||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(e.flags|=4194308)):(typeof S.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=h,e.memoizedState=tt),S.props=h,S.state=tt,S.context=D,h=H):(typeof S.componentDidMount=="function"&&(e.flags|=4194308),h=!1)}else{S=e.stateNode,dl(t,e),D=e.memoizedProps,dt=gn(n,D),S.props=dt,Ct=e.pendingProps,nt=S.context,tt=n.contextType,H=zn,typeof tt=="object"&&tt!==null&&(H=Se(tt)),P=n.getDerivedStateFromProps,(tt=typeof P=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(D!==Ct||nt!==H)&&Cd(e,S,h,H),Bi=!1,nt=e.memoizedState,S.state=nt,Nr(e,h,S,v),Pr();var st=e.memoizedState;D!==Ct||nt!==st||Bi||t!==null&&t.dependencies!==null&&Ia(t.dependencies)?(typeof P=="function"&&(Ll(e,n,P,h),st=e.memoizedState),(dt=Bi||bd(e,n,dt,h,nt,st,H)||t!==null&&t.dependencies!==null&&Ia(t.dependencies))?(tt||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(h,st,H),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(h,st,H)),typeof S.componentDidUpdate=="function"&&(e.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof S.componentDidUpdate!="function"||D===t.memoizedProps&&nt===t.memoizedState||(e.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||D===t.memoizedProps&&nt===t.memoizedState||(e.flags|=1024),e.memoizedProps=h,e.memoizedState=st),S.props=h,S.state=st,S.context=H,h=dt):(typeof S.componentDidUpdate!="function"||D===t.memoizedProps&&nt===t.memoizedState||(e.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||D===t.memoizedProps&&nt===t.memoizedState||(e.flags|=1024),h=!1)}return S=h,hs(t,e),h=(e.flags&128)!==0,S||h?(S=e.stateNode,n=h&&typeof n.getDerivedStateFromError!="function"?null:S.render(),e.flags|=1,t!==null&&h?(e.child=Qn(e,t.child,null,v),e.child=Qn(e,null,n,v)):ve(t,e,n,v),e.memoizedState=S.state,t=e.child):t=Si(t,e,v),t}function jd(t,e,n,h){return Rr(),e.flags|=256,ve(t,e,n,h),e.child}var Nl={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ul(t){return{baseLanes:t,cachePool:_h()}}function zl(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Ke),t}function Fd(t,e,n){var h=e.pendingProps,v=!1,S=(e.flags&128)!==0,D;if((D=S)||(D=t!==null&&t.memoizedState===null?!1:(he.current&2)!==0),D&&(v=!0,e.flags&=-129),D=(e.flags&32)!==0,e.flags&=-33,t===null){if(Gt){if(v?Fi(e):Pi(),Gt){var P=ae,H;if(H=P){t:{for(H=P,P=ii;H.nodeType!==8;){if(!P){P=null;break t}if(H=$e(H.nextSibling),H===null){P=null;break t}}P=H}P!==null?(e.memoizedState={dehydrated:P,treeContext:sn!==null?{id:pi,overflow:mi}:null,retryLane:536870912,hydrationErrors:null},H=ke(18,null,null,0),H.stateNode=P,H.return=e,e.child=H,xe=e,ae=null,H=!0):H=!1}H||un(e)}if(P=e.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return wu(P)?e.lanes=32:e.lanes=536870912,null;Ci(e)}return P=h.children,h=h.fallback,v?(Pi(),v=e.mode,P=ds({mode:"hidden",children:P},v),h=an(h,v,n,null),P.return=e,h.return=e,P.sibling=h,e.child=P,v=e.child,v.memoizedState=Ul(n),v.childLanes=zl(t,D,n),e.memoizedState=Nl,h):(Fi(e),Hl(e,P))}if(H=t.memoizedState,H!==null&&(P=H.dehydrated,P!==null)){if(S)e.flags&256?(Fi(e),e.flags&=-257,e=Yl(t,e,n)):e.memoizedState!==null?(Pi(),e.child=t.child,e.flags|=128,e=null):(Pi(),v=h.fallback,P=e.mode,h=ds({mode:"visible",children:h.children},P),v=an(v,P,n,null),v.flags|=2,h.return=e,v.return=e,h.sibling=v,e.child=h,Qn(e,t.child,null,n),h=e.child,h.memoizedState=Ul(n),h.childLanes=zl(t,D,n),e.memoizedState=Nl,e=v);else if(Fi(e),wu(P)){if(D=P.nextSibling&&P.nextSibling.dataset,D)var tt=D.dgst;D=tt,h=Error(b(419)),h.stack="",h.digest=D,Dr({value:h,source:null,stack:null}),e=Yl(t,e,n)}else if(ge||Mr(t,e,n,!1),D=(n&t.childLanes)!==0,ge||D){if(D=$t,D!==null&&(h=n&-n,h=(h&42)!==0?1:xo(h),h=(h&(D.suspendedLanes|n))!==0?0:h,h!==0&&h!==H.retryLane))throw H.retryLane=h,Un(t,h),Ne(D,t,h),Ed;P.data==="$?"||su(),e=Yl(t,e,n)}else P.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=H.treeContext,ae=$e(P.nextSibling),xe=e,Gt=!0,ln=null,ii=!1,t!==null&&(Ve[Ie++]=pi,Ve[Ie++]=mi,Ve[Ie++]=sn,pi=t.id,mi=t.overflow,sn=e),e=Hl(e,h.children),e.flags|=4096);return e}return v?(Pi(),v=h.fallback,P=e.mode,H=t.child,tt=H.sibling,h=gi(H,{mode:"hidden",children:h.children}),h.subtreeFlags=H.subtreeFlags&65011712,tt!==null?v=gi(tt,v):(v=an(v,P,n,null),v.flags|=2),v.return=e,h.return=e,h.sibling=v,e.child=h,h=v,v=e.child,P=t.child.memoizedState,P===null?P=Ul(n):(H=P.cachePool,H!==null?(tt=fe._currentValue,H=H.parent!==tt?{parent:tt,pool:tt}:H):H=_h(),P={baseLanes:P.baseLanes|n,cachePool:H}),v.memoizedState=P,v.childLanes=zl(t,D,n),e.memoizedState=Nl,h):(Fi(e),n=t.child,t=n.sibling,n=gi(n,{mode:"visible",children:h.children}),n.return=e,n.sibling=null,t!==null&&(D=e.deletions,D===null?(e.deletions=[t],e.flags|=16):D.push(t)),e.child=n,e.memoizedState=null,n)}function Hl(t,e){return e=ds({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function ds(t,e){return t=ke(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Yl(t,e,n){return Qn(e,t.child,null,n),t=Hl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Pd(t,e,n){t.lanes|=e;var h=t.alternate;h!==null&&(h.lanes|=e),sl(t.return,e,n)}function Xl(t,e,n,h,v){var S=t.memoizedState;S===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:h,tail:n,tailMode:v}:(S.isBackwards=e,S.rendering=null,S.renderingStartTime=0,S.last=h,S.tail=n,S.tailMode=v)}function Nd(t,e,n){var h=e.pendingProps,v=h.revealOrder,S=h.tail;if(ve(t,e,h.children,n),h=he.current,(h&2)!==0)h=h&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Pd(t,n,e);else if(t.tag===19)Pd(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}h&=1}switch(N(he,h),v){case"forwards":for(n=e.child,v=null;n!==null;)t=n.alternate,t!==null&&us(t)===null&&(v=n),n=n.sibling;n=v,n===null?(v=e.child,e.child=null):(v=n.sibling,n.sibling=null),Xl(e,!1,v,n,S);break;case"backwards":for(n=null,v=e.child,e.child=null;v!==null;){if(t=v.alternate,t!==null&&us(t)===null){e.child=v;break}t=v.sibling,v.sibling=n,n=v,v=t}Xl(e,!0,n,null,S);break;case"together":Xl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Si(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Yi|=e.lanes,(n&e.childLanes)===0)if(t!==null){if(Mr(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(b(153));if(e.child!==null){for(t=e.child,n=gi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=gi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ql(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&Ia(t)))}function v0(t,e,n){switch(e.tag){case 3:I(e,e.stateNode.containerInfo),Mi(e,fe,t.memoizedState.cache),Rr();break;case 27:case 5:J(e);break;case 4:I(e,e.stateNode.containerInfo);break;case 10:Mi(e,e.type,e.memoizedProps.value);break;case 13:var h=e.memoizedState;if(h!==null)return h.dehydrated!==null?(Fi(e),e.flags|=128,null):(n&e.child.childLanes)!==0?Fd(t,e,n):(Fi(e),t=Si(t,e,n),t!==null?t.sibling:null);Fi(e);break;case 19:var v=(t.flags&128)!==0;if(h=(n&e.childLanes)!==0,h||(Mr(t,e,n,!1),h=(n&e.childLanes)!==0),v){if(h)return Nd(t,e,n);e.flags|=128}if(v=e.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),N(he,he.current),h)break;return null;case 22:case 23:return e.lanes=0,Md(t,e,n);case 24:Mi(e,fe,t.memoizedState.cache)}return Si(t,e,n)}function Ud(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)ge=!0;else{if(!ql(t,n)&&(e.flags&128)===0)return ge=!1,v0(t,e,n);ge=(t.flags&131072)!==0}else ge=!1,Gt&&(e.flags&1048576)!==0&&ph(e,Va,e.index);switch(e.lanes=0,e.tag){case 16:t:{t=e.pendingProps;var h=e.elementType,v=h._init;if(h=v(h._payload),e.type=h,typeof h=="function")$o(h)?(t=gn(h,t),e.tag=1,e=Ld(null,e,h,t,n)):(e.tag=0,e=Pl(null,e,h,t,n));else{if(h!=null){if(v=h.$$typeof,v===w){e.tag=11,e=Ad(null,e,h,t,n);break t}else if(v===j){e.tag=14,e=Rd(null,e,h,t,n);break t}}throw e=ut(h)||h,Error(b(306,e,""))}}return e;case 0:return Pl(t,e,e.type,e.pendingProps,n);case 1:return h=e.type,v=gn(h,e.pendingProps),Ld(t,e,h,v,n);case 3:t:{if(I(e,e.stateNode.containerInfo),t===null)throw Error(b(387));h=e.pendingProps;var S=e.memoizedState;v=S.element,dl(t,e),Nr(e,h,null,n);var D=e.memoizedState;if(h=D.cache,Mi(e,fe,h),h!==S.cache&&ol(e,[fe],n,!0),Pr(),h=D.element,S.isDehydrated)if(S={element:h,isDehydrated:!1,cache:D.cache},e.updateQueue.baseState=S,e.memoizedState=S,e.flags&256){e=jd(t,e,h,n);break t}else if(h!==v){v=qe(Error(b(424)),e),Dr(v),e=jd(t,e,h,n);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ae=$e(t.firstChild),xe=e,Gt=!0,ln=null,ii=!0,n=vd(e,null,h,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Rr(),h===v){e=Si(t,e,n);break t}ve(t,e,h,n)}e=e.child}return e;case 26:return hs(t,e),t===null?(n=Xg(e.type,null,e.pendingProps,null))?e.memoizedState=n:Gt||(n=e.type,t=e.pendingProps,h=Es(z.current).createElement(n),h[Ce]=e,h[Te]=t,be(h,n,t),de(h),e.stateNode=h):e.memoizedState=Xg(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return J(e),t===null&&Gt&&(h=e.stateNode=zg(e.type,e.pendingProps,z.current),xe=e,ii=!0,v=ae,Vi(e.type)?(xu=v,ae=$e(h.firstChild)):ae=v),ve(t,e,e.pendingProps.children,n),hs(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Gt&&((v=h=ae)&&(h=G0(h,e.type,e.pendingProps,ii),h!==null?(e.stateNode=h,xe=e,ae=$e(h.firstChild),ii=!1,v=!0):v=!1),v||un(e)),J(e),v=e.type,S=e.pendingProps,D=t!==null?t.memoizedProps:null,h=S.children,Cu(v,S)?h=null:D!==null&&Cu(v,D)&&(e.flags|=32),e.memoizedState!==null&&(v=bl(t,e,u0,null,null,n),sa._currentValue=v),hs(t,e),ve(t,e,h,n),e.child;case 6:return t===null&&Gt&&((t=n=ae)&&(n=V0(n,e.pendingProps,ii),n!==null?(e.stateNode=n,xe=e,ae=null,t=!0):t=!1),t||un(e)),null;case 13:return Fd(t,e,n);case 4:return I(e,e.stateNode.containerInfo),h=e.pendingProps,t===null?e.child=Qn(e,null,h,n):ve(t,e,h,n),e.child;case 11:return Ad(t,e,e.type,e.pendingProps,n);case 7:return ve(t,e,e.pendingProps,n),e.child;case 8:return ve(t,e,e.pendingProps.children,n),e.child;case 12:return ve(t,e,e.pendingProps.children,n),e.child;case 10:return h=e.pendingProps,Mi(e,e.type,h.value),ve(t,e,h.children,n),e.child;case 9:return v=e.type._context,h=e.pendingProps.children,fn(e),v=Se(v),h=h(v),e.flags|=1,ve(t,e,h,n),e.child;case 14:return Rd(t,e,e.type,e.pendingProps,n);case 15:return Dd(t,e,e.type,e.pendingProps,n);case 19:return Nd(t,e,n);case 31:return h=e.pendingProps,n=e.mode,h={mode:h.mode,children:h.children},t===null?(n=ds(h,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=gi(t.child,h),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return Md(t,e,n);case 24:return fn(e),h=Se(fe),t===null?(v=cl(),v===null&&(v=$t,S=ll(),v.pooledCache=S,S.refCount++,S!==null&&(v.pooledCacheLanes|=n),v=S),e.memoizedState={parent:h,cache:v},hl(e),Mi(e,fe,v)):((t.lanes&n)!==0&&(dl(t,e),Nr(e,null,null,n),Pr()),v=t.memoizedState,S=e.memoizedState,v.parent!==h?(v={parent:h,cache:h},e.memoizedState=v,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=v),Mi(e,fe,h)):(h=S.cache,Mi(e,fe,h),h!==v.cache&&ol(e,[fe],n,!0))),ve(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(b(156,e.tag))}function _i(t){t.flags|=4}function zd(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Wg(e)){if(e=We.current,e!==null&&((Xt&4194048)===Xt?ni!==null:(Xt&62914560)!==Xt&&(Xt&536870912)===0||e!==ni))throw jr=fl,wh;t.flags|=8192}}function gs(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?yf():536870912,t.lanes|=e,tr|=e)}function Gr(t,e){if(!Gt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var h=null;n!==null;)n.alternate!==null&&(h=n),n=n.sibling;h===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:h.sibling=null}}function ne(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,h=0;if(e)for(var v=t.child;v!==null;)n|=v.lanes|v.childLanes,h|=v.subtreeFlags&65011712,h|=v.flags&65011712,v.return=t,v=v.sibling;else for(v=t.child;v!==null;)n|=v.lanes|v.childLanes,h|=v.subtreeFlags,h|=v.flags,v.return=t,v=v.sibling;return t.subtreeFlags|=h,t.childLanes=n,e}function y0(t,e,n){var h=e.pendingProps;switch(nl(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(e),null;case 1:return ne(e),null;case 3:return n=e.stateNode,h=null,t!==null&&(h=t.memoizedState.cache),e.memoizedState.cache!==h&&(e.flags|=2048),yi(fe),q(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ar(e)?_i(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,yh())),ne(e),null;case 26:return n=e.memoizedState,t===null?(_i(e),n!==null?(ne(e),zd(e,n)):(ne(e),e.flags&=-16777217)):n?n!==t.memoizedState?(_i(e),ne(e),zd(e,n)):(ne(e),e.flags&=-16777217):(t.memoizedProps!==h&&_i(e),ne(e),e.flags&=-16777217),null;case 27:ht(e),n=z.current;var v=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==h&&_i(e);else{if(!h){if(e.stateNode===null)throw Error(b(166));return ne(e),null}t=F.current,Ar(e)?mh(e):(t=zg(v,h,n),e.stateNode=t,_i(e))}return ne(e),null;case 5:if(ht(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==h&&_i(e);else{if(!h){if(e.stateNode===null)throw Error(b(166));return ne(e),null}if(t=F.current,Ar(e))mh(e);else{switch(v=Es(z.current),t){case 1:t=v.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=v.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=v.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=v.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=v.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof h.is=="string"?v.createElement("select",{is:h.is}):v.createElement("select"),h.multiple?t.multiple=!0:h.size&&(t.size=h.size);break;default:t=typeof h.is=="string"?v.createElement(n,{is:h.is}):v.createElement(n)}}t[Ce]=e,t[Te]=h;t:for(v=e.child;v!==null;){if(v.tag===5||v.tag===6)t.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break t;for(;v.sibling===null;){if(v.return===null||v.return===e)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}e.stateNode=t;t:switch(be(t,n,h),n){case"button":case"input":case"select":case"textarea":t=!!h.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&_i(e)}}return ne(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==h&&_i(e);else{if(typeof h!="string"&&e.stateNode===null)throw Error(b(166));if(t=z.current,Ar(e)){if(t=e.stateNode,n=e.memoizedProps,h=null,v=xe,v!==null)switch(v.tag){case 27:case 5:h=v.memoizedProps}t[Ce]=e,t=!!(t.nodeValue===n||h!==null&&h.suppressHydrationWarning===!0||kg(t.nodeValue,n)),t||un(e)}else t=Es(t).createTextNode(h),t[Ce]=e,e.stateNode=t}return ne(e),null;case 13:if(h=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(v=Ar(e),h!==null&&h.dehydrated!==null){if(t===null){if(!v)throw Error(b(318));if(v=e.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(b(317));v[Ce]=e}else Rr(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;ne(e),v=!1}else v=yh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=v),v=!0;if(!v)return e.flags&256?(Ci(e),e):(Ci(e),null)}if(Ci(e),(e.flags&128)!==0)return e.lanes=n,e;if(n=h!==null,t=t!==null&&t.memoizedState!==null,n){h=e.child,v=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(v=h.alternate.memoizedState.cachePool.pool);var S=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(S=h.memoizedState.cachePool.pool),S!==v&&(h.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),gs(e,e.updateQueue),ne(e),null;case 4:return q(),t===null&&pu(e.stateNode.containerInfo),ne(e),null;case 10:return yi(e.type),ne(e),null;case 19:if(k(he),v=e.memoizedState,v===null)return ne(e),null;if(h=(e.flags&128)!==0,S=v.rendering,S===null)if(h)Gr(v,!1);else{if(se!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(S=us(t),S!==null){for(e.flags|=128,Gr(v,!1),t=S.updateQueue,e.updateQueue=t,gs(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)gh(n,t),n=n.sibling;return N(he,he.current&1|2),e.child}t=t.sibling}v.tail!==null&&ot()>vs&&(e.flags|=128,h=!0,Gr(v,!1),e.lanes=4194304)}else{if(!h)if(t=us(S),t!==null){if(e.flags|=128,h=!0,t=t.updateQueue,e.updateQueue=t,gs(e,t),Gr(v,!0),v.tail===null&&v.tailMode==="hidden"&&!S.alternate&&!Gt)return ne(e),null}else 2*ot()-v.renderingStartTime>vs&&n!==536870912&&(e.flags|=128,h=!0,Gr(v,!1),e.lanes=4194304);v.isBackwards?(S.sibling=e.child,e.child=S):(t=v.last,t!==null?t.sibling=S:e.child=S,v.last=S)}return v.tail!==null?(e=v.tail,v.rendering=e,v.tail=e.sibling,v.renderingStartTime=ot(),e.sibling=null,t=he.current,N(he,h?t&1|2:t&1),e):(ne(e),null);case 22:case 23:return Ci(e),vl(),h=e.memoizedState!==null,t!==null?t.memoizedState!==null!==h&&(e.flags|=8192):h&&(e.flags|=8192),h?(n&536870912)!==0&&(e.flags&128)===0&&(ne(e),e.subtreeFlags&6&&(e.flags|=8192)):ne(e),n=e.updateQueue,n!==null&&gs(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),h=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(h=e.memoizedState.cachePool.pool),h!==n&&(e.flags|=2048),t!==null&&k(hn),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),yi(fe),ne(e),null;case 25:return null;case 30:return null}throw Error(b(156,e.tag))}function b0(t,e){switch(nl(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return yi(fe),q(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return ht(e),null;case 13:if(Ci(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(b(340));Rr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return k(he),null;case 4:return q(),null;case 10:return yi(e.type),null;case 22:case 23:return Ci(e),vl(),t!==null&&k(hn),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return yi(fe),null;case 25:return null;default:return null}}function Hd(t,e){switch(nl(e),e.tag){case 3:yi(fe),q();break;case 26:case 27:case 5:ht(e);break;case 4:q();break;case 13:Ci(e);break;case 19:k(he);break;case 10:yi(e.type);break;case 22:case 23:Ci(e),vl(),t!==null&&k(hn);break;case 24:yi(fe)}}function Vr(t,e){try{var n=e.updateQueue,h=n!==null?n.lastEffect:null;if(h!==null){var v=h.next;n=v;do{if((n.tag&t)===t){h=void 0;var S=n.create,D=n.inst;h=S(),D.destroy=h}n=n.next}while(n!==v)}}catch(P){Jt(e,e.return,P)}}function Ni(t,e,n){try{var h=e.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var S=v.next;h=S;do{if((h.tag&t)===t){var D=h.inst,P=D.destroy;if(P!==void 0){D.destroy=void 0,v=e;var H=n,tt=P;try{tt()}catch(dt){Jt(v,H,dt)}}}h=h.next}while(h!==S)}}catch(dt){Jt(e,e.return,dt)}}function Yd(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{Rh(e,n)}catch(h){Jt(t,t.return,h)}}}function Xd(t,e,n){n.props=gn(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(h){Jt(t,e,h)}}function Ir(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var h=t.stateNode;break;case 30:h=t.stateNode;break;default:h=t.stateNode}typeof n=="function"?t.refCleanup=n(h):n.current=h}}catch(v){Jt(t,e,v)}}function ri(t,e){var n=t.ref,h=t.refCleanup;if(n!==null)if(typeof h=="function")try{h()}catch(v){Jt(t,e,v)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(v){Jt(t,e,v)}else n.current=null}function qd(t){var e=t.type,n=t.memoizedProps,h=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&h.focus();break t;case"img":n.src?h.src=n.src:n.srcSet&&(h.srcset=n.srcSet)}}catch(v){Jt(t,t.return,v)}}function Gl(t,e,n){try{var h=t.stateNode;z0(h,t.type,n,e),h[Te]=e}catch(v){Jt(t,t.return,v)}}function Gd(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Vi(t.type)||t.tag===4}function Vl(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Gd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Vi(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Il(t,e,n){var h=t.tag;if(h===5||h===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Os));else if(h!==4&&(h===27&&Vi(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Il(t,e,n),t=t.sibling;t!==null;)Il(t,e,n),t=t.sibling}function ps(t,e,n){var h=t.tag;if(h===5||h===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(h!==4&&(h===27&&Vi(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(ps(t,e,n),t=t.sibling;t!==null;)ps(t,e,n),t=t.sibling}function Vd(t){var e=t.stateNode,n=t.memoizedProps;try{for(var h=t.type,v=e.attributes;v.length;)e.removeAttributeNode(v[0]);be(e,h,n),e[Ce]=t,e[Te]=n}catch(S){Jt(t,t.return,S)}}var wi=!1,le=!1,Wl=!1,Id=typeof WeakSet=="function"?WeakSet:Set,pe=null;function C0(t,e){if(t=t.containerInfo,yu=ks,t=rh(t),Vo(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{n=(n=t.ownerDocument)&&n.defaultView||window;var h=n.getSelection&&n.getSelection();if(h&&h.rangeCount!==0){n=h.anchorNode;var v=h.anchorOffset,S=h.focusNode;h=h.focusOffset;try{n.nodeType,S.nodeType}catch{n=null;break t}var D=0,P=-1,H=-1,tt=0,dt=0,Ct=t,nt=null;e:for(;;){for(var st;Ct!==n||v!==0&&Ct.nodeType!==3||(P=D+v),Ct!==S||h!==0&&Ct.nodeType!==3||(H=D+h),Ct.nodeType===3&&(D+=Ct.nodeValue.length),(st=Ct.firstChild)!==null;)nt=Ct,Ct=st;for(;;){if(Ct===t)break e;if(nt===n&&++tt===v&&(P=D),nt===S&&++dt===h&&(H=D),(st=Ct.nextSibling)!==null)break;Ct=nt,nt=Ct.parentNode}Ct=st}n=P===-1||H===-1?null:{start:P,end:H}}else n=null}n=n||{start:0,end:0}}else n=null;for(bu={focusedElem:t,selectionRange:n},ks=!1,pe=e;pe!==null;)if(e=pe,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,pe=t;else for(;pe!==null;){switch(e=pe,S=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&S!==null){t=void 0,n=e,v=S.memoizedProps,S=S.memoizedState,h=n.stateNode;try{var Dt=gn(n.type,v,n.elementType===n.type);t=h.getSnapshotBeforeUpdate(Dt,S),h.__reactInternalSnapshotBeforeUpdate=t}catch(At){Jt(n,n.return,At)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)_u(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":_u(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(b(163))}if(t=e.sibling,t!==null){t.return=e.return,pe=t;break}pe=e.return}}function Wd(t,e,n){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Ui(t,n),h&4&&Vr(5,n);break;case 1:if(Ui(t,n),h&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(D){Jt(n,n.return,D)}else{var v=gn(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(v,e,t.__reactInternalSnapshotBeforeUpdate)}catch(D){Jt(n,n.return,D)}}h&64&&Yd(n),h&512&&Ir(n,n.return);break;case 3:if(Ui(t,n),h&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{Rh(t,e)}catch(D){Jt(n,n.return,D)}}break;case 27:e===null&&h&4&&Vd(n);case 26:case 5:Ui(t,n),e===null&&h&4&&qd(n),h&512&&Ir(n,n.return);break;case 12:Ui(t,n);break;case 13:Ui(t,n),h&4&&Zd(t,n),h&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=R0.bind(null,n),I0(t,n))));break;case 22:if(h=n.memoizedState!==null||wi,!h){e=e!==null&&e.memoizedState!==null||le,v=wi;var S=le;wi=h,(le=e)&&!S?zi(t,n,(n.subtreeFlags&8772)!==0):Ui(t,n),wi=v,le=S}break;case 30:break;default:Ui(t,n)}}function Kd(t){var e=t.alternate;e!==null&&(t.alternate=null,Kd(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Eo(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ie=null,Ae=!1;function xi(t,e,n){for(n=n.child;n!==null;)Qd(t,e,n),n=n.sibling}function Qd(t,e,n){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(Vt,n)}catch{}switch(n.tag){case 26:le||ri(n,e),xi(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:le||ri(n,e);var h=ie,v=Ae;Vi(n.type)&&(ie=n.stateNode,Ae=!1),xi(t,e,n),ia(n.stateNode),ie=h,Ae=v;break;case 5:le||ri(n,e);case 6:if(h=ie,v=Ae,ie=null,xi(t,e,n),ie=h,Ae=v,ie!==null)if(Ae)try{(ie.nodeType===9?ie.body:ie.nodeName==="HTML"?ie.ownerDocument.body:ie).removeChild(n.stateNode)}catch(S){Jt(n,e,S)}else try{ie.removeChild(n.stateNode)}catch(S){Jt(n,e,S)}break;case 18:ie!==null&&(Ae?(t=ie,Ng(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),ca(t)):Ng(ie,n.stateNode));break;case 4:h=ie,v=Ae,ie=n.stateNode.containerInfo,Ae=!0,xi(t,e,n),ie=h,Ae=v;break;case 0:case 11:case 14:case 15:le||Ni(2,n,e),le||Ni(4,n,e),xi(t,e,n);break;case 1:le||(ri(n,e),h=n.stateNode,typeof h.componentWillUnmount=="function"&&Xd(n,e,h)),xi(t,e,n);break;case 21:xi(t,e,n);break;case 22:le=(h=le)||n.memoizedState!==null,xi(t,e,n),le=h;break;default:xi(t,e,n)}}function Zd(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ca(t)}catch(n){Jt(e,e.return,n)}}function S0(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Id),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Id),e;default:throw Error(b(435,t.tag))}}function Kl(t,e){var n=S0(t);e.forEach(function(h){var v=D0.bind(null,t,h);n.has(h)||(n.add(h),h.then(v,v))})}function Le(t,e){var n=e.deletions;if(n!==null)for(var h=0;h<n.length;h++){var v=n[h],S=t,D=e,P=D;t:for(;P!==null;){switch(P.tag){case 27:if(Vi(P.type)){ie=P.stateNode,Ae=!1;break t}break;case 5:ie=P.stateNode,Ae=!1;break t;case 3:case 4:ie=P.stateNode.containerInfo,Ae=!0;break t}P=P.return}if(ie===null)throw Error(b(160));Qd(S,D,v),ie=null,Ae=!1,S=v.alternate,S!==null&&(S.return=null),v.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)Jd(e,t),e=e.sibling}var Je=null;function Jd(t,e){var n=t.alternate,h=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Le(e,t),je(t),h&4&&(Ni(3,t,t.return),Vr(3,t),Ni(5,t,t.return));break;case 1:Le(e,t),je(t),h&512&&(le||n===null||ri(n,n.return)),h&64&&wi&&(t=t.updateQueue,t!==null&&(h=t.callbacks,h!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?h:n.concat(h))));break;case 26:var v=Je;if(Le(e,t),je(t),h&512&&(le||n===null||ri(n,n.return)),h&4){var S=n!==null?n.memoizedState:null;if(h=t.memoizedState,n===null)if(h===null)if(t.stateNode===null){t:{h=t.type,n=t.memoizedProps,v=v.ownerDocument||v;e:switch(h){case"title":S=v.getElementsByTagName("title")[0],(!S||S[vr]||S[Ce]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=v.createElement(h),v.head.insertBefore(S,v.querySelector("head > title"))),be(S,h,n),S[Ce]=t,de(S),h=S;break t;case"link":var D=Vg("link","href",v).get(h+(n.href||""));if(D){for(var P=0;P<D.length;P++)if(S=D[P],S.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&S.getAttribute("rel")===(n.rel==null?null:n.rel)&&S.getAttribute("title")===(n.title==null?null:n.title)&&S.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){D.splice(P,1);break e}}S=v.createElement(h),be(S,h,n),v.head.appendChild(S);break;case"meta":if(D=Vg("meta","content",v).get(h+(n.content||""))){for(P=0;P<D.length;P++)if(S=D[P],S.getAttribute("content")===(n.content==null?null:""+n.content)&&S.getAttribute("name")===(n.name==null?null:n.name)&&S.getAttribute("property")===(n.property==null?null:n.property)&&S.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&S.getAttribute("charset")===(n.charSet==null?null:n.charSet)){D.splice(P,1);break e}}S=v.createElement(h),be(S,h,n),v.head.appendChild(S);break;default:throw Error(b(468,h))}S[Ce]=t,de(S),h=S}t.stateNode=h}else Ig(v,t.type,t.stateNode);else t.stateNode=Gg(v,h,t.memoizedProps);else S!==h?(S===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):S.count--,h===null?Ig(v,t.type,t.stateNode):Gg(v,h,t.memoizedProps)):h===null&&t.stateNode!==null&&Gl(t,t.memoizedProps,n.memoizedProps)}break;case 27:Le(e,t),je(t),h&512&&(le||n===null||ri(n,n.return)),n!==null&&h&4&&Gl(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Le(e,t),je(t),h&512&&(le||n===null||ri(n,n.return)),t.flags&32){v=t.stateNode;try{Bn(v,"")}catch(st){Jt(t,t.return,st)}}h&4&&t.stateNode!=null&&(v=t.memoizedProps,Gl(t,v,n!==null?n.memoizedProps:v)),h&1024&&(Wl=!0);break;case 6:if(Le(e,t),je(t),h&4){if(t.stateNode===null)throw Error(b(162));h=t.memoizedProps,n=t.stateNode;try{n.nodeValue=h}catch(st){Jt(t,t.return,st)}}break;case 3:if(Ds=null,v=Je,Je=As(e.containerInfo),Le(e,t),Je=v,je(t),h&4&&n!==null&&n.memoizedState.isDehydrated)try{ca(e.containerInfo)}catch(st){Jt(t,t.return,st)}Wl&&(Wl=!1,$d(t));break;case 4:h=Je,Je=As(t.stateNode.containerInfo),Le(e,t),je(t),Je=h;break;case 12:Le(e,t),je(t);break;case 13:Le(e,t),je(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(eu=ot()),h&4&&(h=t.updateQueue,h!==null&&(t.updateQueue=null,Kl(t,h)));break;case 22:v=t.memoizedState!==null;var H=n!==null&&n.memoizedState!==null,tt=wi,dt=le;if(wi=tt||v,le=dt||H,Le(e,t),le=dt,wi=tt,je(t),h&8192)t:for(e=t.stateNode,e._visibility=v?e._visibility&-2:e._visibility|1,v&&(n===null||H||wi||le||pn(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){H=n=e;try{if(S=H.stateNode,v)D=S.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{P=H.stateNode;var Ct=H.memoizedProps.style,nt=Ct!=null&&Ct.hasOwnProperty("display")?Ct.display:null;P.style.display=nt==null||typeof nt=="boolean"?"":(""+nt).trim()}}catch(st){Jt(H,H.return,st)}}}else if(e.tag===6){if(n===null){H=e;try{H.stateNode.nodeValue=v?"":H.memoizedProps}catch(st){Jt(H,H.return,st)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}h&4&&(h=t.updateQueue,h!==null&&(n=h.retryQueue,n!==null&&(h.retryQueue=null,Kl(t,n))));break;case 19:Le(e,t),je(t),h&4&&(h=t.updateQueue,h!==null&&(t.updateQueue=null,Kl(t,h)));break;case 30:break;case 21:break;default:Le(e,t),je(t)}}function je(t){var e=t.flags;if(e&2){try{for(var n,h=t.return;h!==null;){if(Gd(h)){n=h;break}h=h.return}if(n==null)throw Error(b(160));switch(n.tag){case 27:var v=n.stateNode,S=Vl(t);ps(t,S,v);break;case 5:var D=n.stateNode;n.flags&32&&(Bn(D,""),n.flags&=-33);var P=Vl(t);ps(t,P,D);break;case 3:case 4:var H=n.stateNode.containerInfo,tt=Vl(t);Il(t,tt,H);break;default:throw Error(b(161))}}catch(dt){Jt(t,t.return,dt)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function $d(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;$d(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Ui(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Wd(t,e.alternate,e),e=e.sibling}function pn(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Ni(4,e,e.return),pn(e);break;case 1:ri(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&Xd(e,e.return,n),pn(e);break;case 27:ia(e.stateNode);case 26:case 5:ri(e,e.return),pn(e);break;case 22:e.memoizedState===null&&pn(e);break;case 30:pn(e);break;default:pn(e)}t=t.sibling}}function zi(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var h=e.alternate,v=t,S=e,D=S.flags;switch(S.tag){case 0:case 11:case 15:zi(v,S,n),Vr(4,S);break;case 1:if(zi(v,S,n),h=S,v=h.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(tt){Jt(h,h.return,tt)}if(h=S,v=h.updateQueue,v!==null){var P=h.stateNode;try{var H=v.shared.hiddenCallbacks;if(H!==null)for(v.shared.hiddenCallbacks=null,v=0;v<H.length;v++)Ah(H[v],P)}catch(tt){Jt(h,h.return,tt)}}n&&D&64&&Yd(S),Ir(S,S.return);break;case 27:Vd(S);case 26:case 5:zi(v,S,n),n&&h===null&&D&4&&qd(S),Ir(S,S.return);break;case 12:zi(v,S,n);break;case 13:zi(v,S,n),n&&D&4&&Zd(v,S);break;case 22:S.memoizedState===null&&zi(v,S,n),Ir(S,S.return);break;case 30:break;default:zi(v,S,n)}e=e.sibling}}function Ql(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Br(n))}function Zl(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Br(t))}function ai(t,e,n,h){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)tg(t,e,n,h),e=e.sibling}function tg(t,e,n,h){var v=e.flags;switch(e.tag){case 0:case 11:case 15:ai(t,e,n,h),v&2048&&Vr(9,e);break;case 1:ai(t,e,n,h);break;case 3:ai(t,e,n,h),v&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Br(t)));break;case 12:if(v&2048){ai(t,e,n,h),t=e.stateNode;try{var S=e.memoizedProps,D=S.id,P=S.onPostCommit;typeof P=="function"&&P(D,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(H){Jt(e,e.return,H)}}else ai(t,e,n,h);break;case 13:ai(t,e,n,h);break;case 23:break;case 22:S=e.stateNode,D=e.alternate,e.memoizedState!==null?S._visibility&2?ai(t,e,n,h):Wr(t,e):S._visibility&2?ai(t,e,n,h):(S._visibility|=2,Zn(t,e,n,h,(e.subtreeFlags&10256)!==0)),v&2048&&Ql(D,e);break;case 24:ai(t,e,n,h),v&2048&&Zl(e.alternate,e);break;default:ai(t,e,n,h)}}function Zn(t,e,n,h,v){for(v=v&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var S=t,D=e,P=n,H=h,tt=D.flags;switch(D.tag){case 0:case 11:case 15:Zn(S,D,P,H,v),Vr(8,D);break;case 23:break;case 22:var dt=D.stateNode;D.memoizedState!==null?dt._visibility&2?Zn(S,D,P,H,v):Wr(S,D):(dt._visibility|=2,Zn(S,D,P,H,v)),v&&tt&2048&&Ql(D.alternate,D);break;case 24:Zn(S,D,P,H,v),v&&tt&2048&&Zl(D.alternate,D);break;default:Zn(S,D,P,H,v)}e=e.sibling}}function Wr(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,h=e,v=h.flags;switch(h.tag){case 22:Wr(n,h),v&2048&&Ql(h.alternate,h);break;case 24:Wr(n,h),v&2048&&Zl(h.alternate,h);break;default:Wr(n,h)}e=e.sibling}}var Kr=8192;function Jn(t){if(t.subtreeFlags&Kr)for(t=t.child;t!==null;)eg(t),t=t.sibling}function eg(t){switch(t.tag){case 26:Jn(t),t.flags&Kr&&t.memoizedState!==null&&sb(Je,t.memoizedState,t.memoizedProps);break;case 5:Jn(t);break;case 3:case 4:var e=Je;Je=As(t.stateNode.containerInfo),Jn(t),Je=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=Kr,Kr=16777216,Jn(t),Kr=e):Jn(t));break;default:Jn(t)}}function ig(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Qr(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var h=e[n];pe=h,rg(h,t)}ig(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ng(t),t=t.sibling}function ng(t){switch(t.tag){case 0:case 11:case 15:Qr(t),t.flags&2048&&Ni(9,t,t.return);break;case 3:Qr(t);break;case 12:Qr(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,ms(t)):Qr(t);break;default:Qr(t)}}function ms(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var h=e[n];pe=h,rg(h,t)}ig(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Ni(8,e,e.return),ms(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,ms(e));break;default:ms(e)}t=t.sibling}}function rg(t,e){for(;pe!==null;){var n=pe;switch(n.tag){case 0:case 11:case 15:Ni(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var h=n.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Br(n.memoizedState.cache)}if(h=n.child,h!==null)h.return=n,pe=h;else t:for(n=t;pe!==null;){h=pe;var v=h.sibling,S=h.return;if(Kd(h),h===n){pe=null;break t}if(v!==null){v.return=S,pe=v;break t}pe=S}}}var _0={getCacheForType:function(t){var e=Se(fe),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},w0=typeof WeakMap=="function"?WeakMap:Map,It=0,$t=null,Ut=null,Xt=0,Wt=0,Fe=null,Hi=!1,$n=!1,Jl=!1,Ti=0,se=0,Yi=0,mn=0,$l=0,Ke=0,tr=0,Zr=null,Re=null,tu=!1,eu=0,vs=1/0,ys=null,Xi=null,ye=0,qi=null,er=null,ir=0,iu=0,nu=null,ag=null,Jr=0,ru=null;function Pe(){if((It&2)!==0&&Xt!==0)return Xt&-Xt;if(G.T!==null){var t=Xn;return t!==0?t:fu()}return Sf()}function sg(){Ke===0&&(Ke=(Xt&536870912)===0||Gt?vf():536870912);var t=We.current;return t!==null&&(t.flags|=32),Ke}function Ne(t,e,n){(t===$t&&(Wt===2||Wt===9)||t.cancelPendingCommit!==null)&&(nr(t,0),Gi(t,Xt,Ke,!1)),mr(t,n),((It&2)===0||t!==$t)&&(t===$t&&((It&2)===0&&(mn|=n),se===4&&Gi(t,Xt,Ke,!1)),si(t))}function og(t,e,n){if((It&6)!==0)throw Error(b(327));var h=!n&&(e&124)===0&&(e&t.expiredLanes)===0||pr(t,e),v=h?O0(t,e):ou(t,e,!0),S=h;do{if(v===0){$n&&!h&&Gi(t,e,0,!1);break}else{if(n=t.current.alternate,S&&!x0(n)){v=ou(t,e,!1),S=!1;continue}if(v===2){if(S=e,t.errorRecoveryDisabledLanes&S)var D=0;else D=t.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){e=D;t:{var P=t;v=Zr;var H=P.current.memoizedState.isDehydrated;if(H&&(nr(P,D).flags|=256),D=ou(P,D,!1),D!==2){if(Jl&&!H){P.errorRecoveryDisabledLanes|=S,mn|=S,v=4;break t}S=Re,Re=v,S!==null&&(Re===null?Re=S:Re.push.apply(Re,S))}v=D}if(S=!1,v!==2)continue}}if(v===1){nr(t,0),Gi(t,e,0,!0);break}t:{switch(h=t,S=v,S){case 0:case 1:throw Error(b(345));case 4:if((e&4194048)!==e)break;case 6:Gi(h,e,Ke,!Hi);break t;case 2:Re=null;break;case 3:case 5:break;default:throw Error(b(329))}if((e&62914560)===e&&(v=eu+300-ot(),10<v)){if(Gi(h,e,Ke,!Hi),xn(h,0,!0)!==0)break t;h.timeoutHandle=Fg(lg.bind(null,h,n,Re,ys,tu,e,Ke,mn,tr,Hi,S,2,-0,0),v);break t}lg(h,n,Re,ys,tu,e,Ke,mn,tr,Hi,S,0,-0,0)}}break}while(!0);si(t)}function lg(t,e,n,h,v,S,D,P,H,tt,dt,Ct,nt,st){if(t.timeoutHandle=-1,Ct=e.subtreeFlags,(Ct&8192||(Ct&16785408)===16785408)&&(aa={stylesheets:null,count:0,unsuspend:ab},eg(e),Ct=ob(),Ct!==null)){t.cancelPendingCommit=Ct(pg.bind(null,t,e,S,n,h,v,D,P,H,dt,1,nt,st)),Gi(t,S,D,!tt);return}pg(t,e,S,n,h,v,D,P,H)}function x0(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var h=0;h<n.length;h++){var v=n[h],S=v.getSnapshot;v=v.value;try{if(!Be(S(),v))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Gi(t,e,n,h){e&=~$l,e&=~mn,t.suspendedLanes|=e,t.pingedLanes&=~e,h&&(t.warmLanes|=e),h=t.expirationTimes;for(var v=e;0<v;){var S=31-Yt(v),D=1<<S;h[S]=-1,v&=~D}n!==0&&bf(t,n,e)}function bs(){return(It&6)===0?($r(0),!1):!0}function au(){if(Ut!==null){if(Wt===0)var t=Ut.return;else t=Ut,vi=cn=null,_l(t),Kn=null,Xr=0,t=Ut;for(;t!==null;)Hd(t.alternate,t),t=t.return;Ut=null}}function nr(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,Y0(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),au(),$t=t,Ut=n=gi(t.current,null),Xt=e,Wt=0,Fe=null,Hi=!1,$n=pr(t,e),Jl=!1,tr=Ke=$l=mn=Yi=se=0,Re=Zr=null,tu=!1,(e&8)!==0&&(e|=e&32);var h=t.entangledLanes;if(h!==0)for(t=t.entanglements,h&=e;0<h;){var v=31-Yt(h),S=1<<v;e|=t[v],h&=~S}return Ti=e,Ha(),n}function ug(t,e){Ft=null,G.H=ss,e===Lr||e===Qa?(e=Oh(),Wt=3):e===wh?(e=Oh(),Wt=4):Wt=e===Ed?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Fe=e,Ut===null&&(se=1,fs(t,qe(e,t.current)))}function cg(){var t=G.H;return G.H=ss,t===null?ss:t}function fg(){var t=G.A;return G.A=_0,t}function su(){se=4,Hi||(Xt&4194048)!==Xt&&We.current!==null||($n=!0),(Yi&134217727)===0&&(mn&134217727)===0||$t===null||Gi($t,Xt,Ke,!1)}function ou(t,e,n){var h=It;It|=2;var v=cg(),S=fg();($t!==t||Xt!==e)&&(ys=null,nr(t,e)),e=!1;var D=se;t:do try{if(Wt!==0&&Ut!==null){var P=Ut,H=Fe;switch(Wt){case 8:au(),D=6;break t;case 3:case 2:case 9:case 6:We.current===null&&(e=!0);var tt=Wt;if(Wt=0,Fe=null,rr(t,P,H,tt),n&&$n){D=0;break t}break;default:tt=Wt,Wt=0,Fe=null,rr(t,P,H,tt)}}T0(),D=se;break}catch(dt){ug(t,dt)}while(!0);return e&&t.shellSuspendCounter++,vi=cn=null,It=h,G.H=v,G.A=S,Ut===null&&($t=null,Xt=0,Ha()),D}function T0(){for(;Ut!==null;)hg(Ut)}function O0(t,e){var n=It;It|=2;var h=cg(),v=fg();$t!==t||Xt!==e?(ys=null,vs=ot()+500,nr(t,e)):$n=pr(t,e);t:do try{if(Wt!==0&&Ut!==null){e=Ut;var S=Fe;e:switch(Wt){case 1:Wt=0,Fe=null,rr(t,e,S,1);break;case 2:case 9:if(xh(S)){Wt=0,Fe=null,dg(e);break}e=function(){Wt!==2&&Wt!==9||$t!==t||(Wt=7),si(t)},S.then(e,e);break t;case 3:Wt=7;break t;case 4:Wt=5;break t;case 7:xh(S)?(Wt=0,Fe=null,dg(e)):(Wt=0,Fe=null,rr(t,e,S,7));break;case 5:var D=null;switch(Ut.tag){case 26:D=Ut.memoizedState;case 5:case 27:var P=Ut;if(!D||Wg(D)){Wt=0,Fe=null;var H=P.sibling;if(H!==null)Ut=H;else{var tt=P.return;tt!==null?(Ut=tt,Cs(tt)):Ut=null}break e}}Wt=0,Fe=null,rr(t,e,S,5);break;case 6:Wt=0,Fe=null,rr(t,e,S,6);break;case 8:au(),se=6;break t;default:throw Error(b(462))}}E0();break}catch(dt){ug(t,dt)}while(!0);return vi=cn=null,G.H=h,G.A=v,It=n,Ut!==null?0:($t=null,Xt=0,Ha(),se)}function E0(){for(;Ut!==null&&!vt();)hg(Ut)}function hg(t){var e=Ud(t.alternate,t,Ti);t.memoizedProps=t.pendingProps,e===null?Cs(t):Ut=e}function dg(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=kd(n,e,e.pendingProps,e.type,void 0,Xt);break;case 11:e=kd(n,e,e.pendingProps,e.type.render,e.ref,Xt);break;case 5:_l(e);default:Hd(n,e),e=Ut=gh(e,Ti),e=Ud(n,e,Ti)}t.memoizedProps=t.pendingProps,e===null?Cs(t):Ut=e}function rr(t,e,n,h){vi=cn=null,_l(e),Kn=null,Xr=0;var v=e.return;try{if(m0(t,v,e,n,Xt)){se=1,fs(t,qe(n,t.current)),Ut=null;return}}catch(S){if(v!==null)throw Ut=v,S;se=1,fs(t,qe(n,t.current)),Ut=null;return}e.flags&32768?(Gt||h===1?t=!0:$n||(Xt&536870912)!==0?t=!1:(Hi=t=!0,(h===2||h===9||h===3||h===6)&&(h=We.current,h!==null&&h.tag===13&&(h.flags|=16384))),gg(e,t)):Cs(e)}function Cs(t){var e=t;do{if((e.flags&32768)!==0){gg(e,Hi);return}t=e.return;var n=y0(e.alternate,e,Ti);if(n!==null){Ut=n;return}if(e=e.sibling,e!==null){Ut=e;return}Ut=e=t}while(e!==null);se===0&&(se=5)}function gg(t,e){do{var n=b0(t.alternate,t);if(n!==null){n.flags&=32767,Ut=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){Ut=t;return}Ut=t=n}while(t!==null);se=6,Ut=null}function pg(t,e,n,h,v,S,D,P,H){t.cancelPendingCommit=null;do Ss();while(ye!==0);if((It&6)!==0)throw Error(b(327));if(e!==null){if(e===t.current)throw Error(b(177));if(S=e.lanes|e.childLanes,S|=Zo,ay(t,n,S,D,P,H),t===$t&&(Ut=$t=null,Xt=0),er=e,qi=t,ir=n,iu=S,nu=v,ag=h,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,M0(Tt,function(){return Cg(),null})):(t.callbackNode=null,t.callbackPriority=0),h=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||h){h=G.T,G.T=null,v=et.p,et.p=2,D=It,It|=4;try{C0(t,e,n)}finally{It=D,et.p=v,G.T=h}}ye=1,mg(),vg(),yg()}}function mg(){if(ye===1){ye=0;var t=qi,e=er,n=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||n){n=G.T,G.T=null;var h=et.p;et.p=2;var v=It;It|=4;try{Jd(e,t);var S=bu,D=rh(t.containerInfo),P=S.focusedElem,H=S.selectionRange;if(D!==P&&P&&P.ownerDocument&&nh(P.ownerDocument.documentElement,P)){if(H!==null&&Vo(P)){var tt=H.start,dt=H.end;if(dt===void 0&&(dt=tt),"selectionStart"in P)P.selectionStart=tt,P.selectionEnd=Math.min(dt,P.value.length);else{var Ct=P.ownerDocument||document,nt=Ct&&Ct.defaultView||window;if(nt.getSelection){var st=nt.getSelection(),Dt=P.textContent.length,At=Math.min(H.start,Dt),Zt=H.end===void 0?At:Math.min(H.end,Dt);!st.extend&&At>Zt&&(D=Zt,Zt=At,At=D);var Z=ih(P,At),V=ih(P,Zt);if(Z&&V&&(st.rangeCount!==1||st.anchorNode!==Z.node||st.anchorOffset!==Z.offset||st.focusNode!==V.node||st.focusOffset!==V.offset)){var $=Ct.createRange();$.setStart(Z.node,Z.offset),st.removeAllRanges(),At>Zt?(st.addRange($),st.extend(V.node,V.offset)):($.setEnd(V.node,V.offset),st.addRange($))}}}}for(Ct=[],st=P;st=st.parentNode;)st.nodeType===1&&Ct.push({element:st,left:st.scrollLeft,top:st.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<Ct.length;P++){var bt=Ct[P];bt.element.scrollLeft=bt.left,bt.element.scrollTop=bt.top}}ks=!!yu,bu=yu=null}finally{It=v,et.p=h,G.T=n}}t.current=e,ye=2}}function vg(){if(ye===2){ye=0;var t=qi,e=er,n=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||n){n=G.T,G.T=null;var h=et.p;et.p=2;var v=It;It|=4;try{Wd(t,e.alternate,e)}finally{It=v,et.p=h,G.T=n}}ye=3}}function yg(){if(ye===4||ye===3){ye=0,pt();var t=qi,e=er,n=ir,h=ag;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?ye=5:(ye=0,er=qi=null,bg(t,t.pendingLanes));var v=t.pendingLanes;if(v===0&&(Xi=null),To(n),e=e.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(Vt,e,void 0,(e.current.flags&128)===128)}catch{}if(h!==null){e=G.T,v=et.p,et.p=2,G.T=null;try{for(var S=t.onRecoverableError,D=0;D<h.length;D++){var P=h[D];S(P.value,{componentStack:P.stack})}}finally{G.T=e,et.p=v}}(ir&3)!==0&&Ss(),si(t),v=t.pendingLanes,(n&4194090)!==0&&(v&42)!==0?t===ru?Jr++:(Jr=0,ru=t):Jr=0,$r(0)}}function bg(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Br(e)))}function Ss(t){return mg(),vg(),yg(),Cg()}function Cg(){if(ye!==5)return!1;var t=qi,e=iu;iu=0;var n=To(ir),h=G.T,v=et.p;try{et.p=32>n?32:n,G.T=null,n=nu,nu=null;var S=qi,D=ir;if(ye=0,er=qi=null,ir=0,(It&6)!==0)throw Error(b(331));var P=It;if(It|=4,ng(S.current),tg(S,S.current,D,n),It=P,$r(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(Vt,S)}catch{}return!0}finally{et.p=v,G.T=h,bg(t,e)}}function Sg(t,e,n){e=qe(n,e),e=Fl(t.stateNode,e,2),t=Li(t,e,2),t!==null&&(mr(t,2),si(t))}function Jt(t,e,n){if(t.tag===3)Sg(t,t,n);else for(;e!==null;){if(e.tag===3){Sg(e,t,n);break}else if(e.tag===1){var h=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Xi===null||!Xi.has(h))){t=qe(n,t),n=Td(2),h=Li(e,n,2),h!==null&&(Od(n,h,e,t),mr(h,2),si(h));break}}e=e.return}}function lu(t,e,n){var h=t.pingCache;if(h===null){h=t.pingCache=new w0;var v=new Set;h.set(e,v)}else v=h.get(e),v===void 0&&(v=new Set,h.set(e,v));v.has(n)||(Jl=!0,v.add(n),t=A0.bind(null,t,e,n),e.then(t,t))}function A0(t,e,n){var h=t.pingCache;h!==null&&h.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,$t===t&&(Xt&n)===n&&(se===4||se===3&&(Xt&62914560)===Xt&&300>ot()-eu?(It&2)===0&&nr(t,0):$l|=n,tr===Xt&&(tr=0)),si(t)}function _g(t,e){e===0&&(e=yf()),t=Un(t,e),t!==null&&(mr(t,e),si(t))}function R0(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),_g(t,n)}function D0(t,e){var n=0;switch(t.tag){case 13:var h=t.stateNode,v=t.memoizedState;v!==null&&(n=v.retryLane);break;case 19:h=t.stateNode;break;case 22:h=t.stateNode._retryCache;break;default:throw Error(b(314))}h!==null&&h.delete(e),_g(t,n)}function M0(t,e){return at(t,e)}var _s=null,ar=null,uu=!1,ws=!1,cu=!1,vn=0;function si(t){t!==ar&&t.next===null&&(ar===null?_s=ar=t:ar=ar.next=t),ws=!0,uu||(uu=!0,k0())}function $r(t,e){if(!cu&&ws){cu=!0;do for(var n=!1,h=_s;h!==null;){if(t!==0){var v=h.pendingLanes;if(v===0)var S=0;else{var D=h.suspendedLanes,P=h.pingedLanes;S=(1<<31-Yt(42|t)+1)-1,S&=v&~(D&~P),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(n=!0,Og(h,S))}else S=Xt,S=xn(h,h===$t?S:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(S&3)===0||pr(h,S)||(n=!0,Og(h,S));h=h.next}while(n);cu=!1}}function B0(){wg()}function wg(){ws=uu=!1;var t=0;vn!==0&&(H0()&&(t=vn),vn=0);for(var e=ot(),n=null,h=_s;h!==null;){var v=h.next,S=xg(h,e);S===0?(h.next=null,n===null?_s=v:n.next=v,v===null&&(ar=n)):(n=h,(t!==0||(S&3)!==0)&&(ws=!0)),h=v}$r(t)}function xg(t,e){for(var n=t.suspendedLanes,h=t.pingedLanes,v=t.expirationTimes,S=t.pendingLanes&-62914561;0<S;){var D=31-Yt(S),P=1<<D,H=v[D];H===-1?((P&n)===0||(P&h)!==0)&&(v[D]=ry(P,e)):H<=e&&(t.expiredLanes|=P),S&=~P}if(e=$t,n=Xt,n=xn(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),h=t.callbackNode,n===0||t===e&&(Wt===2||Wt===9)||t.cancelPendingCommit!==null)return h!==null&&h!==null&&K(h),t.callbackNode=null,t.callbackPriority=0;if((n&3)===0||pr(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(h!==null&&K(h),To(n)){case 2:case 8:n=Mt;break;case 32:n=Tt;break;case 268435456:n=Ot;break;default:n=Tt}return h=Tg.bind(null,t),n=at(n,h),t.callbackPriority=e,t.callbackNode=n,e}return h!==null&&h!==null&&K(h),t.callbackPriority=2,t.callbackNode=null,2}function Tg(t,e){if(ye!==0&&ye!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Ss()&&t.callbackNode!==n)return null;var h=Xt;return h=xn(t,t===$t?h:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),h===0?null:(og(t,h,e),xg(t,ot()),t.callbackNode!=null&&t.callbackNode===n?Tg.bind(null,t):null)}function Og(t,e){if(Ss())return null;og(t,e,!0)}function k0(){X0(function(){(It&6)!==0?at(wt,B0):wg()})}function fu(){return vn===0&&(vn=vf()),vn}function Eg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:La(""+t)}function Ag(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function L0(t,e,n,h,v){if(e==="submit"&&n&&n.stateNode===v){var S=Eg((v[Te]||null).action),D=h.submitter;D&&(e=(e=D[Te]||null)?Eg(e.formAction):D.getAttribute("formAction"),e!==null&&(S=e,D=null));var P=new Na("action","action",null,h,v);t.push({event:P,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(vn!==0){var H=D?Ag(v,D):new FormData(v);Ml(n,{pending:!0,data:H,method:v.method,action:S},null,H)}}else typeof S=="function"&&(P.preventDefault(),H=D?Ag(v,D):new FormData(v),Ml(n,{pending:!0,data:H,method:v.method,action:S},S,H))},currentTarget:v}]})}}for(var hu=0;hu<Qo.length;hu++){var du=Qo[hu],j0=du.toLowerCase(),F0=du[0].toUpperCase()+du.slice(1);Ze(j0,"on"+F0)}Ze(oh,"onAnimationEnd"),Ze(lh,"onAnimationIteration"),Ze(uh,"onAnimationStart"),Ze("dblclick","onDoubleClick"),Ze("focusin","onFocus"),Ze("focusout","onBlur"),Ze($y,"onTransitionRun"),Ze(t0,"onTransitionStart"),Ze(e0,"onTransitionCancel"),Ze(ch,"onTransitionEnd"),Rn("onMouseEnter",["mouseout","mouseover"]),Rn("onMouseLeave",["mouseout","mouseover"]),Rn("onPointerEnter",["pointerout","pointerover"]),Rn("onPointerLeave",["pointerout","pointerover"]),tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),tn("onBeforeInput",["compositionend","keypress","textInput","paste"]),tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ta="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),P0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ta));function Rg(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var h=t[n],v=h.event;h=h.listeners;t:{var S=void 0;if(e)for(var D=h.length-1;0<=D;D--){var P=h[D],H=P.instance,tt=P.currentTarget;if(P=P.listener,H!==S&&v.isPropagationStopped())break t;S=P,v.currentTarget=tt;try{S(v)}catch(dt){cs(dt)}v.currentTarget=null,S=H}else for(D=0;D<h.length;D++){if(P=h[D],H=P.instance,tt=P.currentTarget,P=P.listener,H!==S&&v.isPropagationStopped())break t;S=P,v.currentTarget=tt;try{S(v)}catch(dt){cs(dt)}v.currentTarget=null,S=H}}}}function zt(t,e){var n=e[Oo];n===void 0&&(n=e[Oo]=new Set);var h=t+"__bubble";n.has(h)||(Dg(e,t,2,!1),n.add(h))}function gu(t,e,n){var h=0;e&&(h|=4),Dg(n,t,h,e)}var xs="_reactListening"+Math.random().toString(36).slice(2);function pu(t){if(!t[xs]){t[xs]=!0,wf.forEach(function(n){n!=="selectionchange"&&(P0.has(n)||gu(n,!1,t),gu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[xs]||(e[xs]=!0,gu("selectionchange",!1,e))}}function Dg(t,e,n,h){switch(tp(e)){case 2:var v=cb;break;case 8:v=fb;break;default:v=Ru}n=v.bind(null,e,n,t),v=void 0,!Po||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(v=!0),h?v!==void 0?t.addEventListener(e,n,{capture:!0,passive:v}):t.addEventListener(e,n,!0):v!==void 0?t.addEventListener(e,n,{passive:v}):t.addEventListener(e,n,!1)}function mu(t,e,n,h,v){var S=h;if((e&1)===0&&(e&2)===0&&h!==null)t:for(;;){if(h===null)return;var D=h.tag;if(D===3||D===4){var P=h.stateNode.containerInfo;if(P===v)break;if(D===4)for(D=h.return;D!==null;){var H=D.tag;if((H===3||H===4)&&D.stateNode.containerInfo===v)return;D=D.return}for(;P!==null;){if(D=On(P),D===null)return;if(H=D.tag,H===5||H===6||H===26||H===27){h=S=D;continue t}P=P.parentNode}}h=h.return}Pf(function(){var tt=S,dt=jo(n),Ct=[];t:{var nt=fh.get(t);if(nt!==void 0){var st=Na,Dt=t;switch(t){case"keypress":if(Fa(n)===0)break t;case"keydown":case"keyup":st=My;break;case"focusin":Dt="focus",st=Ho;break;case"focusout":Dt="blur",st=Ho;break;case"beforeblur":case"afterblur":st=Ho;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":st=zf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":st=by;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":st=Ly;break;case oh:case lh:case uh:st=_y;break;case ch:st=Fy;break;case"scroll":case"scrollend":st=vy;break;case"wheel":st=Ny;break;case"copy":case"cut":case"paste":st=xy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":st=Yf;break;case"toggle":case"beforetoggle":st=zy}var At=(e&4)!==0,Zt=!At&&(t==="scroll"||t==="scrollend"),Z=At?nt!==null?nt+"Capture":null:nt;At=[];for(var V=tt,$;V!==null;){var bt=V;if($=bt.stateNode,bt=bt.tag,bt!==5&&bt!==26&&bt!==27||$===null||Z===null||(bt=br(V,Z),bt!=null&&At.push(ea(V,bt,$))),Zt)break;V=V.return}0<At.length&&(nt=new st(nt,Dt,null,n,dt),Ct.push({event:nt,listeners:At}))}}if((e&7)===0){t:{if(nt=t==="mouseover"||t==="pointerover",st=t==="mouseout"||t==="pointerout",nt&&n!==Lo&&(Dt=n.relatedTarget||n.fromElement)&&(On(Dt)||Dt[Tn]))break t;if((st||nt)&&(nt=dt.window===dt?dt:(nt=dt.ownerDocument)?nt.defaultView||nt.parentWindow:window,st?(Dt=n.relatedTarget||n.toElement,st=tt,Dt=Dt?On(Dt):null,Dt!==null&&(Zt=T(Dt),At=Dt.tag,Dt!==Zt||At!==5&&At!==27&&At!==6)&&(Dt=null)):(st=null,Dt=tt),st!==Dt)){if(At=zf,bt="onMouseLeave",Z="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(At=Yf,bt="onPointerLeave",Z="onPointerEnter",V="pointer"),Zt=st==null?nt:yr(st),$=Dt==null?nt:yr(Dt),nt=new At(bt,V+"leave",st,n,dt),nt.target=Zt,nt.relatedTarget=$,bt=null,On(dt)===tt&&(At=new At(Z,V+"enter",Dt,n,dt),At.target=$,At.relatedTarget=Zt,bt=At),Zt=bt,st&&Dt)e:{for(At=st,Z=Dt,V=0,$=At;$;$=sr($))V++;for($=0,bt=Z;bt;bt=sr(bt))$++;for(;0<V-$;)At=sr(At),V--;for(;0<$-V;)Z=sr(Z),$--;for(;V--;){if(At===Z||Z!==null&&At===Z.alternate)break e;At=sr(At),Z=sr(Z)}At=null}else At=null;st!==null&&Mg(Ct,nt,st,At,!1),Dt!==null&&Zt!==null&&Mg(Ct,Zt,Dt,At,!0)}}t:{if(nt=tt?yr(tt):window,st=nt.nodeName&&nt.nodeName.toLowerCase(),st==="select"||st==="input"&&nt.type==="file")var xt=Qf;else if(Wf(nt))if(Zf)xt=Qy;else{xt=Wy;var Pt=Iy}else st=nt.nodeName,!st||st.toLowerCase()!=="input"||nt.type!=="checkbox"&&nt.type!=="radio"?tt&&ko(tt.elementType)&&(xt=Qf):xt=Ky;if(xt&&(xt=xt(t,tt))){Kf(Ct,xt,n,dt);break t}Pt&&Pt(t,nt,tt),t==="focusout"&&tt&&nt.type==="number"&&tt.memoizedProps.value!=null&&Bo(nt,"number",nt.value)}switch(Pt=tt?yr(tt):window,t){case"focusin":(Wf(Pt)||Pt.contentEditable==="true")&&(Fn=Pt,Io=tt,Er=null);break;case"focusout":Er=Io=Fn=null;break;case"mousedown":Wo=!0;break;case"contextmenu":case"mouseup":case"dragend":Wo=!1,ah(Ct,n,dt);break;case"selectionchange":if(Jy)break;case"keydown":case"keyup":ah(Ct,n,dt)}var Et;if(Xo)t:{switch(t){case"compositionstart":var Rt="onCompositionStart";break t;case"compositionend":Rt="onCompositionEnd";break t;case"compositionupdate":Rt="onCompositionUpdate";break t}Rt=void 0}else jn?Vf(t,n)&&(Rt="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(Rt="onCompositionStart");Rt&&(Xf&&n.locale!=="ko"&&(jn||Rt!=="onCompositionStart"?Rt==="onCompositionEnd"&&jn&&(Et=Nf()):(Di=dt,No="value"in Di?Di.value:Di.textContent,jn=!0)),Pt=Ts(tt,Rt),0<Pt.length&&(Rt=new Hf(Rt,t,null,n,dt),Ct.push({event:Rt,listeners:Pt}),Et?Rt.data=Et:(Et=If(n),Et!==null&&(Rt.data=Et)))),(Et=Yy?Xy(t,n):qy(t,n))&&(Rt=Ts(tt,"onBeforeInput"),0<Rt.length&&(Pt=new Hf("onBeforeInput","beforeinput",null,n,dt),Ct.push({event:Pt,listeners:Rt}),Pt.data=Et)),L0(Ct,t,tt,n,dt)}Rg(Ct,e)})}function ea(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ts(t,e){for(var n=e+"Capture",h=[];t!==null;){var v=t,S=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||S===null||(v=br(t,n),v!=null&&h.unshift(ea(t,v,S)),v=br(t,e),v!=null&&h.push(ea(t,v,S))),t.tag===3)return h;t=t.return}return[]}function sr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Mg(t,e,n,h,v){for(var S=e._reactName,D=[];n!==null&&n!==h;){var P=n,H=P.alternate,tt=P.stateNode;if(P=P.tag,H!==null&&H===h)break;P!==5&&P!==26&&P!==27||tt===null||(H=tt,v?(tt=br(n,S),tt!=null&&D.unshift(ea(n,tt,H))):v||(tt=br(n,S),tt!=null&&D.push(ea(n,tt,H)))),n=n.return}D.length!==0&&t.push({event:e,listeners:D})}var N0=/\r\n?/g,U0=/\u0000|\uFFFD/g;function Bg(t){return(typeof t=="string"?t:""+t).replace(N0,`
`).replace(U0,"")}function kg(t,e){return e=Bg(e),Bg(t)===e}function Os(){}function Qt(t,e,n,h,v,S){switch(n){case"children":typeof h=="string"?e==="body"||e==="textarea"&&h===""||Bn(t,h):(typeof h=="number"||typeof h=="bigint")&&e!=="body"&&Bn(t,""+h);break;case"className":Ma(t,"class",h);break;case"tabIndex":Ma(t,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Ma(t,n,h);break;case"style":jf(t,h,S);break;case"data":if(e!=="object"){Ma(t,"data",h);break}case"src":case"href":if(h===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){t.removeAttribute(n);break}h=La(""+h),t.setAttribute(n,h);break;case"action":case"formAction":if(typeof h=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(n==="formAction"?(e!=="input"&&Qt(t,e,"name",v.name,v,null),Qt(t,e,"formEncType",v.formEncType,v,null),Qt(t,e,"formMethod",v.formMethod,v,null),Qt(t,e,"formTarget",v.formTarget,v,null)):(Qt(t,e,"encType",v.encType,v,null),Qt(t,e,"method",v.method,v,null),Qt(t,e,"target",v.target,v,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){t.removeAttribute(n);break}h=La(""+h),t.setAttribute(n,h);break;case"onClick":h!=null&&(t.onclick=Os);break;case"onScroll":h!=null&&zt("scroll",t);break;case"onScrollEnd":h!=null&&zt("scrollend",t);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(b(61));if(n=h.__html,n!=null){if(v.children!=null)throw Error(b(60));t.innerHTML=n}}break;case"multiple":t.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":t.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){t.removeAttribute("xlink:href");break}n=La(""+h),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?t.setAttribute(n,""+h):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":h===!0?t.setAttribute(n,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?t.setAttribute(n,h):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?t.setAttribute(n,h):t.removeAttribute(n);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?t.removeAttribute(n):t.setAttribute(n,h);break;case"popover":zt("beforetoggle",t),zt("toggle",t),Da(t,"popover",h);break;case"xlinkActuate":hi(t,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":hi(t,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":hi(t,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":hi(t,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":hi(t,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":hi(t,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":hi(t,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":hi(t,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":hi(t,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Da(t,"is",h);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=py.get(n)||n,Da(t,n,h))}}function vu(t,e,n,h,v,S){switch(n){case"style":jf(t,h,S);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(b(61));if(n=h.__html,n!=null){if(v.children!=null)throw Error(b(60));t.innerHTML=n}}break;case"children":typeof h=="string"?Bn(t,h):(typeof h=="number"||typeof h=="bigint")&&Bn(t,""+h);break;case"onScroll":h!=null&&zt("scroll",t);break;case"onScrollEnd":h!=null&&zt("scrollend",t);break;case"onClick":h!=null&&(t.onclick=Os);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xf.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(v=n.endsWith("Capture"),e=n.slice(2,v?n.length-7:void 0),S=t[Te]||null,S=S!=null?S[n]:null,typeof S=="function"&&t.removeEventListener(e,S,v),typeof h=="function")){typeof S!="function"&&S!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,h,v);break t}n in t?t[n]=h:h===!0?t.setAttribute(n,""):Da(t,n,h)}}}function be(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":zt("error",t),zt("load",t);var h=!1,v=!1,S;for(S in n)if(n.hasOwnProperty(S)){var D=n[S];if(D!=null)switch(S){case"src":h=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(b(137,e));default:Qt(t,e,S,D,n,null)}}v&&Qt(t,e,"srcSet",n.srcSet,n,null),h&&Qt(t,e,"src",n.src,n,null);return;case"input":zt("invalid",t);var P=S=D=v=null,H=null,tt=null;for(h in n)if(n.hasOwnProperty(h)){var dt=n[h];if(dt!=null)switch(h){case"name":v=dt;break;case"type":D=dt;break;case"checked":H=dt;break;case"defaultChecked":tt=dt;break;case"value":S=dt;break;case"defaultValue":P=dt;break;case"children":case"dangerouslySetInnerHTML":if(dt!=null)throw Error(b(137,e));break;default:Qt(t,e,h,dt,n,null)}}Mf(t,S,P,H,tt,D,v,!1),Ba(t);return;case"select":zt("invalid",t),h=D=S=null;for(v in n)if(n.hasOwnProperty(v)&&(P=n[v],P!=null))switch(v){case"value":S=P;break;case"defaultValue":D=P;break;case"multiple":h=P;default:Qt(t,e,v,P,n,null)}e=S,n=D,t.multiple=!!h,e!=null?Mn(t,!!h,e,!1):n!=null&&Mn(t,!!h,n,!0);return;case"textarea":zt("invalid",t),S=v=h=null;for(D in n)if(n.hasOwnProperty(D)&&(P=n[D],P!=null))switch(D){case"value":h=P;break;case"defaultValue":v=P;break;case"children":S=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(b(91));break;default:Qt(t,e,D,P,n,null)}kf(t,h,v,S),Ba(t);return;case"option":for(H in n)if(n.hasOwnProperty(H)&&(h=n[H],h!=null))switch(H){case"selected":t.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Qt(t,e,H,h,n,null)}return;case"dialog":zt("beforetoggle",t),zt("toggle",t),zt("cancel",t),zt("close",t);break;case"iframe":case"object":zt("load",t);break;case"video":case"audio":for(h=0;h<ta.length;h++)zt(ta[h],t);break;case"image":zt("error",t),zt("load",t);break;case"details":zt("toggle",t);break;case"embed":case"source":case"link":zt("error",t),zt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(tt in n)if(n.hasOwnProperty(tt)&&(h=n[tt],h!=null))switch(tt){case"children":case"dangerouslySetInnerHTML":throw Error(b(137,e));default:Qt(t,e,tt,h,n,null)}return;default:if(ko(e)){for(dt in n)n.hasOwnProperty(dt)&&(h=n[dt],h!==void 0&&vu(t,e,dt,h,n,void 0));return}}for(P in n)n.hasOwnProperty(P)&&(h=n[P],h!=null&&Qt(t,e,P,h,n,null))}function z0(t,e,n,h){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,S=null,D=null,P=null,H=null,tt=null,dt=null;for(st in n){var Ct=n[st];if(n.hasOwnProperty(st)&&Ct!=null)switch(st){case"checked":break;case"value":break;case"defaultValue":H=Ct;default:h.hasOwnProperty(st)||Qt(t,e,st,null,h,Ct)}}for(var nt in h){var st=h[nt];if(Ct=n[nt],h.hasOwnProperty(nt)&&(st!=null||Ct!=null))switch(nt){case"type":S=st;break;case"name":v=st;break;case"checked":tt=st;break;case"defaultChecked":dt=st;break;case"value":D=st;break;case"defaultValue":P=st;break;case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(b(137,e));break;default:st!==Ct&&Qt(t,e,nt,st,h,Ct)}}Mo(t,D,P,H,tt,dt,S,v);return;case"select":st=D=P=nt=null;for(S in n)if(H=n[S],n.hasOwnProperty(S)&&H!=null)switch(S){case"value":break;case"multiple":st=H;default:h.hasOwnProperty(S)||Qt(t,e,S,null,h,H)}for(v in h)if(S=h[v],H=n[v],h.hasOwnProperty(v)&&(S!=null||H!=null))switch(v){case"value":nt=S;break;case"defaultValue":P=S;break;case"multiple":D=S;default:S!==H&&Qt(t,e,v,S,h,H)}e=P,n=D,h=st,nt!=null?Mn(t,!!n,nt,!1):!!h!=!!n&&(e!=null?Mn(t,!!n,e,!0):Mn(t,!!n,n?[]:"",!1));return;case"textarea":st=nt=null;for(P in n)if(v=n[P],n.hasOwnProperty(P)&&v!=null&&!h.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:Qt(t,e,P,null,h,v)}for(D in h)if(v=h[D],S=n[D],h.hasOwnProperty(D)&&(v!=null||S!=null))switch(D){case"value":nt=v;break;case"defaultValue":st=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(b(91));break;default:v!==S&&Qt(t,e,D,v,h,S)}Bf(t,nt,st);return;case"option":for(var Dt in n)if(nt=n[Dt],n.hasOwnProperty(Dt)&&nt!=null&&!h.hasOwnProperty(Dt))switch(Dt){case"selected":t.selected=!1;break;default:Qt(t,e,Dt,null,h,nt)}for(H in h)if(nt=h[H],st=n[H],h.hasOwnProperty(H)&&nt!==st&&(nt!=null||st!=null))switch(H){case"selected":t.selected=nt&&typeof nt!="function"&&typeof nt!="symbol";break;default:Qt(t,e,H,nt,h,st)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in n)nt=n[At],n.hasOwnProperty(At)&&nt!=null&&!h.hasOwnProperty(At)&&Qt(t,e,At,null,h,nt);for(tt in h)if(nt=h[tt],st=n[tt],h.hasOwnProperty(tt)&&nt!==st&&(nt!=null||st!=null))switch(tt){case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(b(137,e));break;default:Qt(t,e,tt,nt,h,st)}return;default:if(ko(e)){for(var Zt in n)nt=n[Zt],n.hasOwnProperty(Zt)&&nt!==void 0&&!h.hasOwnProperty(Zt)&&vu(t,e,Zt,void 0,h,nt);for(dt in h)nt=h[dt],st=n[dt],!h.hasOwnProperty(dt)||nt===st||nt===void 0&&st===void 0||vu(t,e,dt,nt,h,st);return}}for(var Z in n)nt=n[Z],n.hasOwnProperty(Z)&&nt!=null&&!h.hasOwnProperty(Z)&&Qt(t,e,Z,null,h,nt);for(Ct in h)nt=h[Ct],st=n[Ct],!h.hasOwnProperty(Ct)||nt===st||nt==null&&st==null||Qt(t,e,Ct,nt,h,st)}var yu=null,bu=null;function Es(t){return t.nodeType===9?t:t.ownerDocument}function Lg(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jg(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Cu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Su=null;function H0(){var t=window.event;return t&&t.type==="popstate"?t===Su?!1:(Su=t,!0):(Su=null,!1)}var Fg=typeof setTimeout=="function"?setTimeout:void 0,Y0=typeof clearTimeout=="function"?clearTimeout:void 0,Pg=typeof Promise=="function"?Promise:void 0,X0=typeof queueMicrotask=="function"?queueMicrotask:typeof Pg<"u"?function(t){return Pg.resolve(null).then(t).catch(q0)}:Fg;function q0(t){setTimeout(function(){throw t})}function Vi(t){return t==="head"}function Ng(t,e){var n=e,h=0,v=0;do{var S=n.nextSibling;if(t.removeChild(n),S&&S.nodeType===8)if(n=S.data,n==="/$"){if(0<h&&8>h){n=h;var D=t.ownerDocument;if(n&1&&ia(D.documentElement),n&2&&ia(D.body),n&4)for(n=D.head,ia(n),D=n.firstChild;D;){var P=D.nextSibling,H=D.nodeName;D[vr]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&D.rel.toLowerCase()==="stylesheet"||n.removeChild(D),D=P}}if(v===0){t.removeChild(S),ca(e);return}v--}else n==="$"||n==="$?"||n==="$!"?v++:h=n.charCodeAt(0)-48;else h=0;n=S}while(n);ca(e)}function _u(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":_u(n),Eo(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function G0(t,e,n,h){for(;t.nodeType===1;){var v=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!h&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(h){if(!t[vr])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(S=t.getAttribute("rel"),S==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(S!==v.rel||t.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||t.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||t.getAttribute("title")!==(v.title==null?null:v.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(S=t.getAttribute("src"),(S!==(v.src==null?null:v.src)||t.getAttribute("type")!==(v.type==null?null:v.type)||t.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&S&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var S=v.name==null?null:""+v.name;if(v.type==="hidden"&&t.getAttribute("name")===S)return t}else return t;if(t=$e(t.nextSibling),t===null)break}return null}function V0(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=$e(t.nextSibling),t===null))return null;return t}function wu(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function I0(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var h=function(){e(),n.removeEventListener("DOMContentLoaded",h)};n.addEventListener("DOMContentLoaded",h),t._reactRetry=h}}function $e(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var xu=null;function Ug(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function zg(t,e,n){switch(e=Es(n),t){case"html":if(t=e.documentElement,!t)throw Error(b(452));return t;case"head":if(t=e.head,!t)throw Error(b(453));return t;case"body":if(t=e.body,!t)throw Error(b(454));return t;default:throw Error(b(451))}}function ia(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Eo(t)}var Qe=new Map,Hg=new Set;function As(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Oi=et.d;et.d={f:W0,r:K0,D:Q0,C:Z0,L:J0,m:$0,X:eb,S:tb,M:ib};function W0(){var t=Oi.f(),e=bs();return t||e}function K0(t){var e=En(t);e!==null&&e.tag===5&&e.type==="form"?od(e):Oi.r(t)}var or=typeof document>"u"?null:document;function Yg(t,e,n){var h=or;if(h&&typeof e=="string"&&e){var v=Xe(e);v='link[rel="'+t+'"][href="'+v+'"]',typeof n=="string"&&(v+='[crossorigin="'+n+'"]'),Hg.has(v)||(Hg.add(v),t={rel:t,crossOrigin:n,href:e},h.querySelector(v)===null&&(e=h.createElement("link"),be(e,"link",t),de(e),h.head.appendChild(e)))}}function Q0(t){Oi.D(t),Yg("dns-prefetch",t,null)}function Z0(t,e){Oi.C(t,e),Yg("preconnect",t,e)}function J0(t,e,n){Oi.L(t,e,n);var h=or;if(h&&t&&e){var v='link[rel="preload"][as="'+Xe(e)+'"]';e==="image"&&n&&n.imageSrcSet?(v+='[imagesrcset="'+Xe(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(v+='[imagesizes="'+Xe(n.imageSizes)+'"]')):v+='[href="'+Xe(t)+'"]';var S=v;switch(e){case"style":S=lr(t);break;case"script":S=ur(t)}Qe.has(S)||(t=l({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Qe.set(S,t),h.querySelector(v)!==null||e==="style"&&h.querySelector(na(S))||e==="script"&&h.querySelector(ra(S))||(e=h.createElement("link"),be(e,"link",t),de(e),h.head.appendChild(e)))}}function $0(t,e){Oi.m(t,e);var n=or;if(n&&t){var h=e&&typeof e.as=="string"?e.as:"script",v='link[rel="modulepreload"][as="'+Xe(h)+'"][href="'+Xe(t)+'"]',S=v;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=ur(t)}if(!Qe.has(S)&&(t=l({rel:"modulepreload",href:t},e),Qe.set(S,t),n.querySelector(v)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(ra(S)))return}h=n.createElement("link"),be(h,"link",t),de(h),n.head.appendChild(h)}}}function tb(t,e,n){Oi.S(t,e,n);var h=or;if(h&&t){var v=An(h).hoistableStyles,S=lr(t);e=e||"default";var D=v.get(S);if(!D){var P={loading:0,preload:null};if(D=h.querySelector(na(S)))P.loading=5;else{t=l({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Qe.get(S))&&Tu(t,n);var H=D=h.createElement("link");de(H),be(H,"link",t),H._p=new Promise(function(tt,dt){H.onload=tt,H.onerror=dt}),H.addEventListener("load",function(){P.loading|=1}),H.addEventListener("error",function(){P.loading|=2}),P.loading|=4,Rs(D,e,h)}D={type:"stylesheet",instance:D,count:1,state:P},v.set(S,D)}}}function eb(t,e){Oi.X(t,e);var n=or;if(n&&t){var h=An(n).hoistableScripts,v=ur(t),S=h.get(v);S||(S=n.querySelector(ra(v)),S||(t=l({src:t,async:!0},e),(e=Qe.get(v))&&Ou(t,e),S=n.createElement("script"),de(S),be(S,"link",t),n.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},h.set(v,S))}}function ib(t,e){Oi.M(t,e);var n=or;if(n&&t){var h=An(n).hoistableScripts,v=ur(t),S=h.get(v);S||(S=n.querySelector(ra(v)),S||(t=l({src:t,async:!0,type:"module"},e),(e=Qe.get(v))&&Ou(t,e),S=n.createElement("script"),de(S),be(S,"link",t),n.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},h.set(v,S))}}function Xg(t,e,n,h){var v=(v=z.current)?As(v):null;if(!v)throw Error(b(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=lr(n.href),n=An(v).hoistableStyles,h=n.get(e),h||(h={type:"style",instance:null,count:0,state:null},n.set(e,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=lr(n.href);var S=An(v).hoistableStyles,D=S.get(t);if(D||(v=v.ownerDocument||v,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(t,D),(S=v.querySelector(na(t)))&&!S._p&&(D.instance=S,D.state.loading=5),Qe.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Qe.set(t,n),S||nb(v,t,n,D.state))),e&&h===null)throw Error(b(528,""));return D}if(e&&h!==null)throw Error(b(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=ur(n),n=An(v).hoistableScripts,h=n.get(e),h||(h={type:"script",instance:null,count:0,state:null},n.set(e,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(b(444,t))}}function lr(t){return'href="'+Xe(t)+'"'}function na(t){return'link[rel="stylesheet"]['+t+"]"}function qg(t){return l({},t,{"data-precedence":t.precedence,precedence:null})}function nb(t,e,n,h){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?h.loading=1:(e=t.createElement("link"),h.preload=e,e.addEventListener("load",function(){return h.loading|=1}),e.addEventListener("error",function(){return h.loading|=2}),be(e,"link",n),de(e),t.head.appendChild(e))}function ur(t){return'[src="'+Xe(t)+'"]'}function ra(t){return"script[async]"+t}function Gg(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var h=t.querySelector('style[data-href~="'+Xe(n.href)+'"]');if(h)return e.instance=h,de(h),h;var v=l({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return h=(t.ownerDocument||t).createElement("style"),de(h),be(h,"style",v),Rs(h,n.precedence,t),e.instance=h;case"stylesheet":v=lr(n.href);var S=t.querySelector(na(v));if(S)return e.state.loading|=4,e.instance=S,de(S),S;h=qg(n),(v=Qe.get(v))&&Tu(h,v),S=(t.ownerDocument||t).createElement("link"),de(S);var D=S;return D._p=new Promise(function(P,H){D.onload=P,D.onerror=H}),be(S,"link",h),e.state.loading|=4,Rs(S,n.precedence,t),e.instance=S;case"script":return S=ur(n.src),(v=t.querySelector(ra(S)))?(e.instance=v,de(v),v):(h=n,(v=Qe.get(S))&&(h=l({},n),Ou(h,v)),t=t.ownerDocument||t,v=t.createElement("script"),de(v),be(v,"link",h),t.head.appendChild(v),e.instance=v);case"void":return null;default:throw Error(b(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(h=e.instance,e.state.loading|=4,Rs(h,n.precedence,t));return e.instance}function Rs(t,e,n){for(var h=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=h.length?h[h.length-1]:null,S=v,D=0;D<h.length;D++){var P=h[D];if(P.dataset.precedence===e)S=P;else if(S!==v)break}S?S.parentNode.insertBefore(t,S.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Tu(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Ou(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Ds=null;function Vg(t,e,n){if(Ds===null){var h=new Map,v=Ds=new Map;v.set(n,h)}else v=Ds,h=v.get(n),h||(h=new Map,v.set(n,h));if(h.has(t))return h;for(h.set(t,null),n=n.getElementsByTagName(t),v=0;v<n.length;v++){var S=n[v];if(!(S[vr]||S[Ce]||t==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var D=S.getAttribute(e)||"";D=t+D;var P=h.get(D);P?P.push(S):h.set(D,[S])}}return h}function Ig(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function rb(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Wg(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var aa=null;function ab(){}function sb(t,e,n){if(aa===null)throw Error(b(475));var h=aa;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(e.state.loading&4)===0){if(e.instance===null){var v=lr(n.href),S=t.querySelector(na(v));if(S){t=S._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(h.count++,h=Ms.bind(h),t.then(h,h)),e.state.loading|=4,e.instance=S,de(S);return}S=t.ownerDocument||t,n=qg(n),(v=Qe.get(v))&&Tu(n,v),S=S.createElement("link"),de(S);var D=S;D._p=new Promise(function(P,H){D.onload=P,D.onerror=H}),be(S,"link",n),e.instance=S}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(e,t),(t=e.state.preload)&&(e.state.loading&3)===0&&(h.count++,e=Ms.bind(h),t.addEventListener("load",e),t.addEventListener("error",e))}}function ob(){if(aa===null)throw Error(b(475));var t=aa;return t.stylesheets&&t.count===0&&Eu(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&Eu(t,t.stylesheets),t.unsuspend){var h=t.unsuspend;t.unsuspend=null,h()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function Ms(){if(this.count--,this.count===0){if(this.stylesheets)Eu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Bs=null;function Eu(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Bs=new Map,e.forEach(lb,t),Bs=null,Ms.call(t))}function lb(t,e){if(!(e.state.loading&4)){var n=Bs.get(t);if(n)var h=n.get(null);else{n=new Map,Bs.set(t,n);for(var v=t.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<v.length;S++){var D=v[S];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(n.set(D.dataset.precedence,D),h=D)}h&&n.set(null,h)}v=e.instance,D=v.getAttribute("data-precedence"),S=n.get(D)||h,S===h&&n.set(null,v),n.set(D,v),this.count++,h=Ms.bind(this),v.addEventListener("load",h),v.addEventListener("error",h),S?S.parentNode.insertBefore(v,S.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(v,t.firstChild)),e.state.loading|=4}}var sa={$$typeof:_,Provider:null,Consumer:null,_currentValue:yt,_currentValue2:yt,_threadCount:0};function ub(t,e,n,h,v,S,D,P){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wo(0),this.hiddenUpdates=wo(null),this.identifierPrefix=h,this.onUncaughtError=v,this.onCaughtError=S,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function Kg(t,e,n,h,v,S,D,P,H,tt,dt,Ct){return t=new ub(t,e,n,D,P,H,tt,Ct),e=1,S===!0&&(e|=24),S=ke(3,null,null,e),t.current=S,S.stateNode=t,e=ll(),e.refCount++,t.pooledCache=e,e.refCount++,S.memoizedState={element:h,isDehydrated:n,cache:e},hl(S),t}function Qg(t){return t?(t=zn,t):zn}function Zg(t,e,n,h,v,S){v=Qg(v),h.context===null?h.context=v:h.pendingContext=v,h=ki(e),h.payload={element:n},S=S===void 0?null:S,S!==null&&(h.callback=S),n=Li(t,h,e),n!==null&&(Ne(n,t,e),Fr(n,t,e))}function Jg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Au(t,e){Jg(t,e),(t=t.alternate)&&Jg(t,e)}function $g(t){if(t.tag===13){var e=Un(t,67108864);e!==null&&Ne(e,t,67108864),Au(t,67108864)}}var ks=!0;function cb(t,e,n,h){var v=G.T;G.T=null;var S=et.p;try{et.p=2,Ru(t,e,n,h)}finally{et.p=S,G.T=v}}function fb(t,e,n,h){var v=G.T;G.T=null;var S=et.p;try{et.p=8,Ru(t,e,n,h)}finally{et.p=S,G.T=v}}function Ru(t,e,n,h){if(ks){var v=Du(h);if(v===null)mu(t,e,h,Ls,n),ep(t,h);else if(db(v,t,e,n,h))h.stopPropagation();else if(ep(t,h),e&4&&-1<hb.indexOf(t)){for(;v!==null;){var S=En(v);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var D=fi(S.pendingLanes);if(D!==0){var P=S;for(P.pendingLanes|=2,P.entangledLanes|=2;D;){var H=1<<31-Yt(D);P.entanglements[1]|=H,D&=~H}si(S),(It&6)===0&&(vs=ot()+500,$r(0))}}break;case 13:P=Un(S,2),P!==null&&Ne(P,S,2),bs(),Au(S,2)}if(S=Du(h),S===null&&mu(t,e,h,Ls,n),S===v)break;v=S}v!==null&&h.stopPropagation()}else mu(t,e,h,null,n)}}function Du(t){return t=jo(t),Mu(t)}var Ls=null;function Mu(t){if(Ls=null,t=On(t),t!==null){var e=T(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=R(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Ls=t,null}function tp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(St()){case wt:return 2;case Mt:return 8;case Tt:case mt:return 32;case Ot:return 268435456;default:return 32}default:return 32}}var Bu=!1,Ii=null,Wi=null,Ki=null,oa=new Map,la=new Map,Qi=[],hb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ep(t,e){switch(t){case"focusin":case"focusout":Ii=null;break;case"dragenter":case"dragleave":Wi=null;break;case"mouseover":case"mouseout":Ki=null;break;case"pointerover":case"pointerout":oa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":la.delete(e.pointerId)}}function ua(t,e,n,h,v,S){return t===null||t.nativeEvent!==S?(t={blockedOn:e,domEventName:n,eventSystemFlags:h,nativeEvent:S,targetContainers:[v]},e!==null&&(e=En(e),e!==null&&$g(e)),t):(t.eventSystemFlags|=h,e=t.targetContainers,v!==null&&e.indexOf(v)===-1&&e.push(v),t)}function db(t,e,n,h,v){switch(e){case"focusin":return Ii=ua(Ii,t,e,n,h,v),!0;case"dragenter":return Wi=ua(Wi,t,e,n,h,v),!0;case"mouseover":return Ki=ua(Ki,t,e,n,h,v),!0;case"pointerover":var S=v.pointerId;return oa.set(S,ua(oa.get(S)||null,t,e,n,h,v)),!0;case"gotpointercapture":return S=v.pointerId,la.set(S,ua(la.get(S)||null,t,e,n,h,v)),!0}return!1}function ip(t){var e=On(t.target);if(e!==null){var n=T(e);if(n!==null){if(e=n.tag,e===13){if(e=R(n),e!==null){t.blockedOn=e,sy(t.priority,function(){if(n.tag===13){var h=Pe();h=xo(h);var v=Un(n,h);v!==null&&Ne(v,n,h),Au(n,h)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function js(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Du(t.nativeEvent);if(n===null){n=t.nativeEvent;var h=new n.constructor(n.type,n);Lo=h,n.target.dispatchEvent(h),Lo=null}else return e=En(n),e!==null&&$g(e),t.blockedOn=n,!1;e.shift()}return!0}function np(t,e,n){js(t)&&n.delete(e)}function gb(){Bu=!1,Ii!==null&&js(Ii)&&(Ii=null),Wi!==null&&js(Wi)&&(Wi=null),Ki!==null&&js(Ki)&&(Ki=null),oa.forEach(np),la.forEach(np)}function Fs(t,e){t.blockedOn===e&&(t.blockedOn=null,Bu||(Bu=!0,m.unstable_scheduleCallback(m.unstable_NormalPriority,gb)))}var Ps=null;function rp(t){Ps!==t&&(Ps=t,m.unstable_scheduleCallback(m.unstable_NormalPriority,function(){Ps===t&&(Ps=null);for(var e=0;e<t.length;e+=3){var n=t[e],h=t[e+1],v=t[e+2];if(typeof h!="function"){if(Mu(h||n)===null)continue;break}var S=En(n);S!==null&&(t.splice(e,3),e-=3,Ml(S,{pending:!0,data:v,method:n.method,action:h},h,v))}}))}function ca(t){function e(H){return Fs(H,t)}Ii!==null&&Fs(Ii,t),Wi!==null&&Fs(Wi,t),Ki!==null&&Fs(Ki,t),oa.forEach(e),la.forEach(e);for(var n=0;n<Qi.length;n++){var h=Qi[n];h.blockedOn===t&&(h.blockedOn=null)}for(;0<Qi.length&&(n=Qi[0],n.blockedOn===null);)ip(n),n.blockedOn===null&&Qi.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(h=0;h<n.length;h+=3){var v=n[h],S=n[h+1],D=v[Te]||null;if(typeof S=="function")D||rp(n);else if(D){var P=null;if(S&&S.hasAttribute("formAction")){if(v=S,D=S[Te]||null)P=D.formAction;else if(Mu(v)!==null)continue}else P=D.action;typeof P=="function"?n[h+1]=P:(n.splice(h,3),h-=3),rp(n)}}}function ku(t){this._internalRoot=t}Ns.prototype.render=ku.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(b(409));var n=e.current,h=Pe();Zg(n,h,t,e,null,null)},Ns.prototype.unmount=ku.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Zg(t.current,2,null,t,null,null),bs(),e[Tn]=null}};function Ns(t){this._internalRoot=t}Ns.prototype.unstable_scheduleHydration=function(t){if(t){var e=Sf();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Qi.length&&e!==0&&e<Qi[n].priority;n++);Qi.splice(n,0,t),n===0&&ip(t)}};var ap=u.version;if(ap!=="19.1.1")throw Error(b(527,ap,"19.1.1"));et.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(b(188)):(t=Object.keys(t).join(","),Error(b(268,t)));return t=o(e),t=t!==null?r(t):null,t=t===null?null:t.stateNode,t};var pb={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Us=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Us.isDisabled&&Us.supportsFiber)try{Vt=Us.inject(pb),kt=Us}catch{}}return ha.createRoot=function(t,e){if(!x(t))throw Error(b(299));var n=!1,h="",v=Sd,S=_d,D=wd,P=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(h=e.identifierPrefix),e.onUncaughtError!==void 0&&(v=e.onUncaughtError),e.onCaughtError!==void 0&&(S=e.onCaughtError),e.onRecoverableError!==void 0&&(D=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(P=e.unstable_transitionCallbacks)),e=Kg(t,1,!1,null,null,n,h,v,S,D,P,null),t[Tn]=e.current,pu(t),new ku(e)},ha.hydrateRoot=function(t,e,n){if(!x(t))throw Error(b(299));var h=!1,v="",S=Sd,D=_d,P=wd,H=null,tt=null;return n!=null&&(n.unstable_strictMode===!0&&(h=!0),n.identifierPrefix!==void 0&&(v=n.identifierPrefix),n.onUncaughtError!==void 0&&(S=n.onUncaughtError),n.onCaughtError!==void 0&&(D=n.onCaughtError),n.onRecoverableError!==void 0&&(P=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(H=n.unstable_transitionCallbacks),n.formState!==void 0&&(tt=n.formState)),e=Kg(t,1,!0,e,n??null,h,v,S,D,P,H,tt),e.context=Qg(null),n=e.current,h=Pe(),h=xo(h),v=ki(h),v.callback=null,Li(n,v,h),n=h,e.current.lanes=n,mr(e,n),si(e),t[Tn]=e.current,pu(t),new Ns(e)},ha.version="19.1.1",ha}var pp;function Ob(){if(pp)return Fu.exports;pp=1;function m(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m)}catch(u){console.error(u)}}return m(),Fu.exports=Tb(),Fu.exports}var Eb=Ob();const Ab=Sa(Eb);/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var mp="popstate";function Rb(m={}){function u(x,T){let{pathname:R="/",search:g="",hash:o=""}=Sn(x.location.hash.substring(1));return!R.startsWith("/")&&!R.startsWith(".")&&(R="/"+R),Gc("",{pathname:R,search:g,hash:o},T.state&&T.state.usr||null,T.state&&T.state.key||"default")}function C(x,T){let R=x.document.querySelector("base"),g="";if(R&&R.getAttribute("href")){let o=x.location.href,r=o.indexOf("#");g=r===-1?o:o.slice(0,r)}return g+"#"+(typeof T=="string"?T:ba(T))}function b(x,T){ti(x.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(T)})`)}return Mb(u,C,b,m)}function re(m,u){if(m===!1||m===null||typeof m>"u")throw new Error(u)}function ti(m,u){if(!m){typeof console<"u"&&console.warn(u);try{throw new Error(u)}catch{}}}function Db(){return Math.random().toString(36).substring(2,10)}function vp(m,u){return{usr:m.state,key:m.key,idx:u}}function Gc(m,u,C=null,b){return{pathname:typeof m=="string"?m:m.pathname,search:"",hash:"",...typeof u=="string"?Sn(u):u,state:C,key:u&&u.key||b||Db()}}function ba({pathname:m="/",search:u="",hash:C=""}){return u&&u!=="?"&&(m+=u.charAt(0)==="?"?u:"?"+u),C&&C!=="#"&&(m+=C.charAt(0)==="#"?C:"#"+C),m}function Sn(m){let u={};if(m){let C=m.indexOf("#");C>=0&&(u.hash=m.substring(C),m=m.substring(0,C));let b=m.indexOf("?");b>=0&&(u.search=m.substring(b),m=m.substring(0,b)),m&&(u.pathname=m)}return u}function Mb(m,u,C,b={}){let{window:x=document.defaultView,v5Compat:T=!1}=b,R=x.history,g="POP",o=null,r=l();r==null&&(r=0,R.replaceState({...R.state,idx:r},""));function l(){return(R.state||{idx:null}).idx}function i(){g="POP";let c=l(),p=c==null?null:c-r;r=c,o&&o({action:g,location:d.location,delta:p})}function s(c,p){g="PUSH";let y=Gc(d.location,c,p);C&&C(y,c),r=l()+1;let _=vp(y,r),w=d.createHref(y);try{R.pushState(_,"",w)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;x.location.assign(w)}T&&o&&o({action:g,location:d.location,delta:1})}function a(c,p){g="REPLACE";let y=Gc(d.location,c,p);C&&C(y,c),r=l();let _=vp(y,r),w=d.createHref(y);R.replaceState(_,"",w),T&&o&&o({action:g,location:d.location,delta:0})}function f(c){return Bb(c)}let d={get action(){return g},get location(){return m(x,R)},listen(c){if(o)throw new Error("A history only accepts one active listener");return x.addEventListener(mp,i),o=c,()=>{x.removeEventListener(mp,i),o=null}},createHref(c){return u(x,c)},createURL:f,encodeLocation(c){let p=f(c);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:s,replace:a,go(c){return R.go(c)}};return d}function Bb(m,u=!1){let C="http://localhost";typeof window<"u"&&(C=window.location.origin!=="null"?window.location.origin:window.location.href),re(C,"No window.location.(origin|href) available to create URL");let b=typeof m=="string"?m:ba(m);return b=b.replace(/ $/,"%20"),!u&&b.startsWith("//")&&(b=C+b),new URL(b,C)}function tv(m,u,C="/"){return kb(m,u,C,!1)}function kb(m,u,C,b){let x=typeof u=="string"?Sn(u):u,T=Ai(x.pathname||"/",C);if(T==null)return null;let R=ev(m);Lb(R);let g=null;for(let o=0;g==null&&o<R.length;++o){let r=Gb(T);g=Xb(R[o],r,b)}return g}function ev(m,u=[],C=[],b="",x=!1){let T=(R,g,o=x,r)=>{let l={relativePath:r===void 0?R.path||"":r,caseSensitive:R.caseSensitive===!0,childrenIndex:g,route:R};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(b)&&o)return;re(l.relativePath.startsWith(b),`Absolute route path "${l.relativePath}" nested under path "${b}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(b.length)}let i=Ei([b,l.relativePath]),s=C.concat(l);R.children&&R.children.length>0&&(re(R.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${i}".`),ev(R.children,u,s,i,o)),!(R.path==null&&!R.index)&&u.push({path:i,score:Hb(i,R.index),routesMeta:s})};return m.forEach((R,g)=>{if(R.path===""||!R.path?.includes("?"))T(R,g);else for(let o of iv(R.path))T(R,g,!0,o)}),u}function iv(m){let u=m.split("/");if(u.length===0)return[];let[C,...b]=u,x=C.endsWith("?"),T=C.replace(/\?$/,"");if(b.length===0)return x?[T,""]:[T];let R=iv(b.join("/")),g=[];return g.push(...R.map(o=>o===""?T:[T,o].join("/"))),x&&g.push(...R),g.map(o=>m.startsWith("/")&&o===""?"/":o)}function Lb(m){m.sort((u,C)=>u.score!==C.score?C.score-u.score:Yb(u.routesMeta.map(b=>b.childrenIndex),C.routesMeta.map(b=>b.childrenIndex)))}var jb=/^:[\w-]+$/,Fb=3,Pb=2,Nb=1,Ub=10,zb=-2,yp=m=>m==="*";function Hb(m,u){let C=m.split("/"),b=C.length;return C.some(yp)&&(b+=zb),u&&(b+=Pb),C.filter(x=>!yp(x)).reduce((x,T)=>x+(jb.test(T)?Fb:T===""?Nb:Ub),b)}function Yb(m,u){return m.length===u.length&&m.slice(0,-1).every((b,x)=>b===u[x])?m[m.length-1]-u[u.length-1]:0}function Xb(m,u,C=!1){let{routesMeta:b}=m,x={},T="/",R=[];for(let g=0;g<b.length;++g){let o=b[g],r=g===b.length-1,l=T==="/"?u:u.slice(T.length)||"/",i=so({path:o.relativePath,caseSensitive:o.caseSensitive,end:r},l),s=o.route;if(!i&&r&&C&&!b[b.length-1].route.index&&(i=so({path:o.relativePath,caseSensitive:o.caseSensitive,end:!1},l)),!i)return null;Object.assign(x,i.params),R.push({params:x,pathname:Ei([T,i.pathname]),pathnameBase:Kb(Ei([T,i.pathnameBase])),route:s}),i.pathnameBase!=="/"&&(T=Ei([T,i.pathnameBase]))}return R}function so(m,u){typeof m=="string"&&(m={path:m,caseSensitive:!1,end:!0});let[C,b]=qb(m.path,m.caseSensitive,m.end),x=u.match(C);if(!x)return null;let T=x[0],R=T.replace(/(.)\/+$/,"$1"),g=x.slice(1);return{params:b.reduce((r,{paramName:l,isOptional:i},s)=>{if(l==="*"){let f=g[s]||"";R=T.slice(0,T.length-f.length).replace(/(.)\/+$/,"$1")}const a=g[s];return i&&!a?r[l]=void 0:r[l]=(a||"").replace(/%2F/g,"/"),r},{}),pathname:T,pathnameBase:R,pattern:m}}function qb(m,u=!1,C=!0){ti(m==="*"||!m.endsWith("*")||m.endsWith("/*"),`Route path "${m}" will be treated as if it were "${m.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${m.replace(/\*$/,"/*")}".`);let b=[],x="^"+m.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(R,g,o)=>(b.push({paramName:g,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return m.endsWith("*")?(b.push({paramName:"*"}),x+=m==="*"||m==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):C?x+="\\/*$":m!==""&&m!=="/"&&(x+="(?:(?=\\/|$))"),[new RegExp(x,u?void 0:"i"),b]}function Gb(m){try{return m.split("/").map(u=>decodeURIComponent(u).replace(/\//g,"%2F")).join("/")}catch(u){return ti(!1,`The URL path "${m}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${u}).`),m}}function Ai(m,u){if(u==="/")return m;if(!m.toLowerCase().startsWith(u.toLowerCase()))return null;let C=u.endsWith("/")?u.length-1:u.length,b=m.charAt(C);return b&&b!=="/"?null:m.slice(C)||"/"}function Vb(m,u="/"){let{pathname:C,search:b="",hash:x=""}=typeof m=="string"?Sn(m):m;return{pathname:C?C.startsWith("/")?C:Ib(C,u):u,search:Qb(b),hash:Zb(x)}}function Ib(m,u){let C=u.replace(/\/+$/,"").split("/");return m.split("/").forEach(x=>{x===".."?C.length>1&&C.pop():x!=="."&&C.push(x)}),C.length>1?C.join("/"):"/"}function zu(m,u,C,b){return`Cannot include a '${m}' character in a manually specified \`to.${u}\` field [${JSON.stringify(b)}].  Please separate it out to the \`to.${C}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Wb(m){return m.filter((u,C)=>C===0||u.route.path&&u.route.path.length>0)}function nv(m){let u=Wb(m);return u.map((C,b)=>b===u.length-1?C.pathname:C.pathnameBase)}function rv(m,u,C,b=!1){let x;typeof m=="string"?x=Sn(m):(x={...m},re(!x.pathname||!x.pathname.includes("?"),zu("?","pathname","search",x)),re(!x.pathname||!x.pathname.includes("#"),zu("#","pathname","hash",x)),re(!x.search||!x.search.includes("#"),zu("#","search","hash",x)));let T=m===""||x.pathname==="",R=T?"/":x.pathname,g;if(R==null)g=C;else{let i=u.length-1;if(!b&&R.startsWith("..")){let s=R.split("/");for(;s[0]==="..";)s.shift(),i-=1;x.pathname=s.join("/")}g=i>=0?u[i]:"/"}let o=Vb(x,g),r=R&&R!=="/"&&R.endsWith("/"),l=(T||R===".")&&C.endsWith("/");return!o.pathname.endsWith("/")&&(r||l)&&(o.pathname+="/"),o}var Ei=m=>m.join("/").replace(/\/\/+/g,"/"),Kb=m=>m.replace(/\/+$/,"").replace(/^\/*/,"/"),Qb=m=>!m||m==="?"?"":m.startsWith("?")?m:"?"+m,Zb=m=>!m||m==="#"?"":m.startsWith("#")?m:"#"+m;function Jb(m){return m!=null&&typeof m.status=="number"&&typeof m.statusText=="string"&&typeof m.internal=="boolean"&&"data"in m}var av=["POST","PUT","PATCH","DELETE"];new Set(av);var $b=["GET",...av];new Set($b);var fr=rt.createContext(null);fr.displayName="DataRouter";var uo=rt.createContext(null);uo.displayName="DataRouterState";rt.createContext(!1);var sv=rt.createContext({isTransitioning:!1});sv.displayName="ViewTransition";var tC=rt.createContext(new Map);tC.displayName="Fetchers";var eC=rt.createContext(null);eC.displayName="Await";var li=rt.createContext(null);li.displayName="Navigation";var _a=rt.createContext(null);_a.displayName="Location";var ui=rt.createContext({outlet:null,matches:[],isDataRoute:!1});ui.displayName="Route";var ef=rt.createContext(null);ef.displayName="RouteError";function iC(m,{relative:u}={}){re(wa(),"useHref() may be used only in the context of a <Router> component.");let{basename:C,navigator:b}=rt.useContext(li),{hash:x,pathname:T,search:R}=xa(m,{relative:u}),g=T;return C!=="/"&&(g=T==="/"?C:Ei([C,T])),b.createHref({pathname:g,search:R,hash:x})}function wa(){return rt.useContext(_a)!=null}function _n(){return re(wa(),"useLocation() may be used only in the context of a <Router> component."),rt.useContext(_a).location}var ov="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lv(m){rt.useContext(li).static||rt.useLayoutEffect(m)}function co(){let{isDataRoute:m}=rt.useContext(ui);return m?pC():nC()}function nC(){re(wa(),"useNavigate() may be used only in the context of a <Router> component.");let m=rt.useContext(fr),{basename:u,navigator:C}=rt.useContext(li),{matches:b}=rt.useContext(ui),{pathname:x}=_n(),T=JSON.stringify(nv(b)),R=rt.useRef(!1);return lv(()=>{R.current=!0}),rt.useCallback((o,r={})=>{if(ti(R.current,ov),!R.current)return;if(typeof o=="number"){C.go(o);return}let l=rv(o,JSON.parse(T),x,r.relative==="path");m==null&&u!=="/"&&(l.pathname=l.pathname==="/"?u:Ei([u,l.pathname])),(r.replace?C.replace:C.push)(l,r.state,r)},[u,C,T,x,m])}rt.createContext(null);function uv(){let{matches:m}=rt.useContext(ui),u=m[m.length-1];return u?u.params:{}}function xa(m,{relative:u}={}){let{matches:C}=rt.useContext(ui),{pathname:b}=_n(),x=JSON.stringify(nv(C));return rt.useMemo(()=>rv(m,JSON.parse(x),b,u==="path"),[m,x,b,u])}function rC(m,u){return cv(m,u)}function cv(m,u,C,b){re(wa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:x}=rt.useContext(li),{matches:T}=rt.useContext(ui),R=T[T.length-1],g=R?R.params:{},o=R?R.pathname:"/",r=R?R.pathnameBase:"/",l=R&&R.route;{let p=l&&l.path||"";fv(o,!l||p.endsWith("*")||p.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${o}" (under <Route path="${p}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${p}"> to <Route path="${p==="/"?"*":`${p}/*`}">.`)}let i=_n(),s;if(u){let p=typeof u=="string"?Sn(u):u;re(r==="/"||p.pathname?.startsWith(r),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${r}" but pathname "${p.pathname}" was given in the \`location\` prop.`),s=p}else s=i;let a=s.pathname||"/",f=a;if(r!=="/"){let p=r.replace(/^\//,"").split("/");f="/"+a.replace(/^\//,"").split("/").slice(p.length).join("/")}let d=tv(m,{pathname:f});ti(l||d!=null,`No routes matched location "${s.pathname}${s.search}${s.hash}" `),ti(d==null||d[d.length-1].route.element!==void 0||d[d.length-1].route.Component!==void 0||d[d.length-1].route.lazy!==void 0,`Matched leaf route at location "${s.pathname}${s.search}${s.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let c=uC(d&&d.map(p=>Object.assign({},p,{params:Object.assign({},g,p.params),pathname:Ei([r,x.encodeLocation?x.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?r:Ei([r,x.encodeLocation?x.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),T,C,b);return u&&c?rt.createElement(_a.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...s},navigationType:"POP"}},c):c}function aC(){let m=gC(),u=Jb(m)?`${m.status} ${m.statusText}`:m instanceof Error?m.message:JSON.stringify(m),C=m instanceof Error?m.stack:null,b="rgba(200,200,200, 0.5)",x={padding:"0.5rem",backgroundColor:b},T={padding:"2px 4px",backgroundColor:b},R=null;return console.error("Error handled by React Router default ErrorBoundary:",m),R=rt.createElement(rt.Fragment,null,rt.createElement("p",null,"💿 Hey developer 👋"),rt.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",rt.createElement("code",{style:T},"ErrorBoundary")," or"," ",rt.createElement("code",{style:T},"errorElement")," prop on your route.")),rt.createElement(rt.Fragment,null,rt.createElement("h2",null,"Unexpected Application Error!"),rt.createElement("h3",{style:{fontStyle:"italic"}},u),C?rt.createElement("pre",{style:x},C):null,R)}var sC=rt.createElement(aC,null),oC=class extends rt.Component{constructor(m){super(m),this.state={location:m.location,revalidation:m.revalidation,error:m.error}}static getDerivedStateFromError(m){return{error:m}}static getDerivedStateFromProps(m,u){return u.location!==m.location||u.revalidation!=="idle"&&m.revalidation==="idle"?{error:m.error,location:m.location,revalidation:m.revalidation}:{error:m.error!==void 0?m.error:u.error,location:u.location,revalidation:m.revalidation||u.revalidation}}componentDidCatch(m,u){console.error("React Router caught the following error during render",m,u)}render(){return this.state.error!==void 0?rt.createElement(ui.Provider,{value:this.props.routeContext},rt.createElement(ef.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lC({routeContext:m,match:u,children:C}){let b=rt.useContext(fr);return b&&b.static&&b.staticContext&&(u.route.errorElement||u.route.ErrorBoundary)&&(b.staticContext._deepestRenderedBoundaryId=u.route.id),rt.createElement(ui.Provider,{value:m},C)}function uC(m,u=[],C=null,b=null){if(m==null){if(!C)return null;if(C.errors)m=C.matches;else if(u.length===0&&!C.initialized&&C.matches.length>0)m=C.matches;else return null}let x=m,T=C?.errors;if(T!=null){let o=x.findIndex(r=>r.route.id&&T?.[r.route.id]!==void 0);re(o>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(T).join(",")}`),x=x.slice(0,Math.min(x.length,o+1))}let R=!1,g=-1;if(C)for(let o=0;o<x.length;o++){let r=x[o];if((r.route.HydrateFallback||r.route.hydrateFallbackElement)&&(g=o),r.route.id){let{loaderData:l,errors:i}=C,s=r.route.loader&&!l.hasOwnProperty(r.route.id)&&(!i||i[r.route.id]===void 0);if(r.route.lazy||s){R=!0,g>=0?x=x.slice(0,g+1):x=[x[0]];break}}}return x.reduceRight((o,r,l)=>{let i,s=!1,a=null,f=null;C&&(i=T&&r.route.id?T[r.route.id]:void 0,a=r.route.errorElement||sC,R&&(g<0&&l===0?(fv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),s=!0,f=null):g===l&&(s=!0,f=r.route.hydrateFallbackElement||null)));let d=u.concat(x.slice(0,l+1)),c=()=>{let p;return i?p=a:s?p=f:r.route.Component?p=rt.createElement(r.route.Component,null):r.route.element?p=r.route.element:p=o,rt.createElement(lC,{match:r,routeContext:{outlet:o,matches:d,isDataRoute:C!=null},children:p})};return C&&(r.route.ErrorBoundary||r.route.errorElement||l===0)?rt.createElement(oC,{location:C.location,revalidation:C.revalidation,component:a,error:i,children:c(),routeContext:{outlet:null,matches:d,isDataRoute:!0}}):c()},null)}function nf(m){return`${m} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cC(m){let u=rt.useContext(fr);return re(u,nf(m)),u}function fC(m){let u=rt.useContext(uo);return re(u,nf(m)),u}function hC(m){let u=rt.useContext(ui);return re(u,nf(m)),u}function rf(m){let u=hC(m),C=u.matches[u.matches.length-1];return re(C.route.id,`${m} can only be used on routes that contain a unique "id"`),C.route.id}function dC(){return rf("useRouteId")}function gC(){let m=rt.useContext(ef),u=fC("useRouteError"),C=rf("useRouteError");return m!==void 0?m:u.errors?.[C]}function pC(){let{router:m}=cC("useNavigate"),u=rf("useNavigate"),C=rt.useRef(!1);return lv(()=>{C.current=!0}),rt.useCallback(async(x,T={})=>{ti(C.current,ov),C.current&&(typeof x=="number"?m.navigate(x):await m.navigate(x,{fromRouteId:u,...T}))},[m,u])}var bp={};function fv(m,u,C){!u&&!bp[m]&&(bp[m]=!0,ti(!1,C))}rt.memo(mC);function mC({routes:m,future:u,state:C}){return cv(m,void 0,C,u)}function Ue(m){re(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function vC({basename:m="/",children:u=null,location:C,navigationType:b="POP",navigator:x,static:T=!1}){re(!wa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let R=m.replace(/^\/*/,"/"),g=rt.useMemo(()=>({basename:R,navigator:x,static:T,future:{}}),[R,x,T]);typeof C=="string"&&(C=Sn(C));let{pathname:o="/",search:r="",hash:l="",state:i=null,key:s="default"}=C,a=rt.useMemo(()=>{let f=Ai(o,R);return f==null?null:{location:{pathname:f,search:r,hash:l,state:i,key:s},navigationType:b}},[R,o,r,l,i,s,b]);return ti(a!=null,`<Router basename="${R}"> is not able to match the URL "${o}${r}${l}" because it does not start with the basename, so the <Router> won't render anything.`),a==null?null:rt.createElement(li.Provider,{value:g},rt.createElement(_a.Provider,{children:u,value:a}))}function hv({children:m,location:u}){return rC(Vc(m),u)}function Vc(m,u=[]){let C=[];return rt.Children.forEach(m,(b,x)=>{if(!rt.isValidElement(b))return;let T=[...u,x];if(b.type===rt.Fragment){C.push.apply(C,Vc(b.props.children,T));return}re(b.type===Ue,`[${typeof b.type=="string"?b.type:b.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),re(!b.props.index||!b.props.children,"An index route cannot have child routes.");let R={id:b.props.id||T.join("-"),caseSensitive:b.props.caseSensitive,element:b.props.element,Component:b.props.Component,index:b.props.index,path:b.props.path,loader:b.props.loader,action:b.props.action,hydrateFallbackElement:b.props.hydrateFallbackElement,HydrateFallback:b.props.HydrateFallback,errorElement:b.props.errorElement,ErrorBoundary:b.props.ErrorBoundary,hasErrorBoundary:b.props.hasErrorBoundary===!0||b.props.ErrorBoundary!=null||b.props.errorElement!=null,shouldRevalidate:b.props.shouldRevalidate,handle:b.props.handle,lazy:b.props.lazy};b.props.children&&(R.children=Vc(b.props.children,T)),C.push(R)}),C}var to="get",eo="application/x-www-form-urlencoded";function fo(m){return m!=null&&typeof m.tagName=="string"}function yC(m){return fo(m)&&m.tagName.toLowerCase()==="button"}function bC(m){return fo(m)&&m.tagName.toLowerCase()==="form"}function CC(m){return fo(m)&&m.tagName.toLowerCase()==="input"}function SC(m){return!!(m.metaKey||m.altKey||m.ctrlKey||m.shiftKey)}function _C(m,u){return m.button===0&&(!u||u==="_self")&&!SC(m)}var zs=null;function wC(){if(zs===null)try{new FormData(document.createElement("form"),0),zs=!1}catch{zs=!0}return zs}var xC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hu(m){return m!=null&&!xC.has(m)?(ti(!1,`"${m}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${eo}"`),null):m}function TC(m,u){let C,b,x,T,R;if(bC(m)){let g=m.getAttribute("action");b=g?Ai(g,u):null,C=m.getAttribute("method")||to,x=Hu(m.getAttribute("enctype"))||eo,T=new FormData(m)}else if(yC(m)||CC(m)&&(m.type==="submit"||m.type==="image")){let g=m.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=m.getAttribute("formaction")||g.getAttribute("action");if(b=o?Ai(o,u):null,C=m.getAttribute("formmethod")||g.getAttribute("method")||to,x=Hu(m.getAttribute("formenctype"))||Hu(g.getAttribute("enctype"))||eo,T=new FormData(g,m),!wC()){let{name:r,type:l,value:i}=m;if(l==="image"){let s=r?`${r}.`:"";T.append(`${s}x`,"0"),T.append(`${s}y`,"0")}else r&&T.append(r,i)}}else{if(fo(m))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');C=to,b=null,x=eo,R=m}return T&&x==="text/plain"&&(R=T,T=void 0),{action:b,method:C.toLowerCase(),encType:x,formData:T,body:R}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function af(m,u){if(m===!1||m===null||typeof m>"u")throw new Error(u)}function OC(m,u,C){let b=typeof m=="string"?new URL(m,typeof window>"u"?"server://singlefetch/":window.location.origin):m;return b.pathname==="/"?b.pathname=`_root.${C}`:u&&Ai(b.pathname,u)==="/"?b.pathname=`${u.replace(/\/$/,"")}/_root.${C}`:b.pathname=`${b.pathname.replace(/\/$/,"")}.${C}`,b}async function EC(m,u){if(m.id in u)return u[m.id];try{let C=await import(m.module);return u[m.id]=C,C}catch(C){return console.error(`Error loading route module \`${m.module}\`, reloading page...`),console.error(C),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function AC(m){return m==null?!1:m.href==null?m.rel==="preload"&&typeof m.imageSrcSet=="string"&&typeof m.imageSizes=="string":typeof m.rel=="string"&&typeof m.href=="string"}async function RC(m,u,C){let b=await Promise.all(m.map(async x=>{let T=u.routes[x.route.id];if(T){let R=await EC(T,C);return R.links?R.links():[]}return[]}));return kC(b.flat(1).filter(AC).filter(x=>x.rel==="stylesheet"||x.rel==="preload").map(x=>x.rel==="stylesheet"?{...x,rel:"prefetch",as:"style"}:{...x,rel:"prefetch"}))}function Cp(m,u,C,b,x,T){let R=(o,r)=>C[r]?o.route.id!==C[r].route.id:!0,g=(o,r)=>C[r].pathname!==o.pathname||C[r].route.path?.endsWith("*")&&C[r].params["*"]!==o.params["*"];return T==="assets"?u.filter((o,r)=>R(o,r)||g(o,r)):T==="data"?u.filter((o,r)=>{let l=b.routes[o.route.id];if(!l||!l.hasLoader)return!1;if(R(o,r)||g(o,r))return!0;if(o.route.shouldRevalidate){let i=o.route.shouldRevalidate({currentUrl:new URL(x.pathname+x.search+x.hash,window.origin),currentParams:C[0]?.params||{},nextUrl:new URL(m,window.origin),nextParams:o.params,defaultShouldRevalidate:!0});if(typeof i=="boolean")return i}return!0}):[]}function DC(m,u,{includeHydrateFallback:C}={}){return MC(m.map(b=>{let x=u.routes[b.route.id];if(!x)return[];let T=[x.module];return x.clientActionModule&&(T=T.concat(x.clientActionModule)),x.clientLoaderModule&&(T=T.concat(x.clientLoaderModule)),C&&x.hydrateFallbackModule&&(T=T.concat(x.hydrateFallbackModule)),x.imports&&(T=T.concat(x.imports)),T}).flat(1))}function MC(m){return[...new Set(m)]}function BC(m){let u={},C=Object.keys(m).sort();for(let b of C)u[b]=m[b];return u}function kC(m,u){let C=new Set;return new Set(u),m.reduce((b,x)=>{let T=JSON.stringify(BC(x));return C.has(T)||(C.add(T),b.push({key:T,link:x})),b},[])}function dv(){let m=rt.useContext(fr);return af(m,"You must render this element inside a <DataRouterContext.Provider> element"),m}function LC(){let m=rt.useContext(uo);return af(m,"You must render this element inside a <DataRouterStateContext.Provider> element"),m}var sf=rt.createContext(void 0);sf.displayName="FrameworkContext";function gv(){let m=rt.useContext(sf);return af(m,"You must render this element inside a <HydratedRouter> element"),m}function jC(m,u){let C=rt.useContext(sf),[b,x]=rt.useState(!1),[T,R]=rt.useState(!1),{onFocus:g,onBlur:o,onMouseEnter:r,onMouseLeave:l,onTouchStart:i}=u,s=rt.useRef(null);rt.useEffect(()=>{if(m==="render"&&R(!0),m==="viewport"){let d=p=>{p.forEach(y=>{R(y.isIntersecting)})},c=new IntersectionObserver(d,{threshold:.5});return s.current&&c.observe(s.current),()=>{c.disconnect()}}},[m]),rt.useEffect(()=>{if(b){let d=setTimeout(()=>{R(!0)},100);return()=>{clearTimeout(d)}}},[b]);let a=()=>{x(!0)},f=()=>{x(!1),R(!1)};return C?m!=="intent"?[T,s,{}]:[T,s,{onFocus:da(g,a),onBlur:da(o,f),onMouseEnter:da(r,a),onMouseLeave:da(l,f),onTouchStart:da(i,a)}]:[!1,s,{}]}function da(m,u){return C=>{m&&m(C),C.defaultPrevented||u(C)}}function FC({page:m,...u}){let{router:C}=dv(),b=rt.useMemo(()=>tv(C.routes,m,C.basename),[C.routes,m,C.basename]);return b?rt.createElement(NC,{page:m,matches:b,...u}):null}function PC(m){let{manifest:u,routeModules:C}=gv(),[b,x]=rt.useState([]);return rt.useEffect(()=>{let T=!1;return RC(m,u,C).then(R=>{T||x(R)}),()=>{T=!0}},[m,u,C]),b}function NC({page:m,matches:u,...C}){let b=_n(),{manifest:x,routeModules:T}=gv(),{basename:R}=dv(),{loaderData:g,matches:o}=LC(),r=rt.useMemo(()=>Cp(m,u,o,x,b,"data"),[m,u,o,x,b]),l=rt.useMemo(()=>Cp(m,u,o,x,b,"assets"),[m,u,o,x,b]),i=rt.useMemo(()=>{if(m===b.pathname+b.search+b.hash)return[];let f=new Set,d=!1;if(u.forEach(p=>{let y=x.routes[p.route.id];!y||!y.hasLoader||(!r.some(_=>_.route.id===p.route.id)&&p.route.id in g&&T[p.route.id]?.shouldRevalidate||y.hasClientLoader?d=!0:f.add(p.route.id))}),f.size===0)return[];let c=OC(m,R,"data");return d&&f.size>0&&c.searchParams.set("_routes",u.filter(p=>f.has(p.route.id)).map(p=>p.route.id).join(",")),[c.pathname+c.search]},[R,g,b,x,r,u,m,T]),s=rt.useMemo(()=>DC(l,x),[l,x]),a=PC(l);return rt.createElement(rt.Fragment,null,i.map(f=>rt.createElement("link",{key:f,rel:"prefetch",as:"fetch",href:f,...C})),s.map(f=>rt.createElement("link",{key:f,rel:"modulepreload",href:f,...C})),a.map(({key:f,link:d})=>rt.createElement("link",{key:f,nonce:C.nonce,...d})))}function UC(...m){return u=>{m.forEach(C=>{typeof C=="function"?C(u):C!=null&&(C.current=u)})}}var pv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{pv&&(window.__reactRouterVersion="7.8.1")}catch{}function zC({basename:m,children:u,window:C}){let b=rt.useRef();b.current==null&&(b.current=Rb({window:C,v5Compat:!0}));let x=b.current,[T,R]=rt.useState({action:x.action,location:x.location}),g=rt.useCallback(o=>{rt.startTransition(()=>R(o))},[R]);return rt.useLayoutEffect(()=>x.listen(g),[x,g]),rt.createElement(vC,{basename:m,children:u,location:T.location,navigationType:T.action,navigator:x})}var mv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ze=rt.forwardRef(function({onClick:u,discover:C="render",prefetch:b="none",relative:x,reloadDocument:T,replace:R,state:g,target:o,to:r,preventScrollReset:l,viewTransition:i,...s},a){let{basename:f}=rt.useContext(li),d=typeof r=="string"&&mv.test(r),c,p=!1;if(typeof r=="string"&&d&&(c=r,pv))try{let Y=new URL(window.location.href),W=r.startsWith("//")?new URL(Y.protocol+r):new URL(r),it=Ai(W.pathname,f);W.origin===Y.origin&&it!=null?r=it+W.search+W.hash:p=!0}catch{ti(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=iC(r,{relative:x}),[_,w,O]=jC(b,s),M=qC(r,{replace:R,state:g,target:o,preventScrollReset:l,relative:x,viewTransition:i});function j(Y){u&&u(Y),Y.defaultPrevented||M(Y)}let U=rt.createElement("a",{...s,...O,href:c||y,onClick:p||T?u:j,ref:UC(a,w),target:o,"data-discover":!d&&C==="render"?"true":void 0});return _&&!d?rt.createElement(rt.Fragment,null,U,rt.createElement(FC,{page:y})):U});ze.displayName="Link";var HC=rt.forwardRef(function({"aria-current":u="page",caseSensitive:C=!1,className:b="",end:x=!1,style:T,to:R,viewTransition:g,children:o,...r},l){let i=xa(R,{relative:r.relative}),s=_n(),a=rt.useContext(uo),{navigator:f,basename:d}=rt.useContext(li),c=a!=null&&KC(i)&&g===!0,p=f.encodeLocation?f.encodeLocation(i).pathname:i.pathname,y=s.pathname,_=a&&a.navigation&&a.navigation.location?a.navigation.location.pathname:null;C||(y=y.toLowerCase(),_=_?_.toLowerCase():null,p=p.toLowerCase()),_&&d&&(_=Ai(_,d)||_);const w=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let O=y===p||!x&&y.startsWith(p)&&y.charAt(w)==="/",M=_!=null&&(_===p||!x&&_.startsWith(p)&&_.charAt(p.length)==="/"),j={isActive:O,isPending:M,isTransitioning:c},U=O?u:void 0,Y;typeof b=="function"?Y=b(j):Y=[b,O?"active":null,M?"pending":null,c?"transitioning":null].filter(Boolean).join(" ");let W=typeof T=="function"?T(j):T;return rt.createElement(ze,{...r,"aria-current":U,className:Y,ref:l,style:W,to:R,viewTransition:g},typeof o=="function"?o(j):o)});HC.displayName="NavLink";var YC=rt.forwardRef(({discover:m="render",fetcherKey:u,navigate:C,reloadDocument:b,replace:x,state:T,method:R=to,action:g,onSubmit:o,relative:r,preventScrollReset:l,viewTransition:i,...s},a)=>{let f=IC(),d=WC(g,{relative:r}),c=R.toLowerCase()==="get"?"get":"post",p=typeof g=="string"&&mv.test(g),y=_=>{if(o&&o(_),_.defaultPrevented)return;_.preventDefault();let w=_.nativeEvent.submitter,O=w?.getAttribute("formmethod")||R;f(w||_.currentTarget,{fetcherKey:u,method:O,navigate:C,replace:x,state:T,relative:r,preventScrollReset:l,viewTransition:i})};return rt.createElement("form",{ref:a,method:c,action:d,onSubmit:b?o:y,...s,"data-discover":!p&&m==="render"?"true":void 0})});YC.displayName="Form";function XC(m){return`${m} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vv(m){let u=rt.useContext(fr);return re(u,XC(m)),u}function qC(m,{target:u,replace:C,state:b,preventScrollReset:x,relative:T,viewTransition:R}={}){let g=co(),o=_n(),r=xa(m,{relative:T});return rt.useCallback(l=>{if(_C(l,u)){l.preventDefault();let i=C!==void 0?C:ba(o)===ba(r);g(m,{replace:i,state:b,preventScrollReset:x,relative:T,viewTransition:R})}},[o,g,r,C,b,u,m,x,T,R])}var GC=0,VC=()=>`__${String(++GC)}__`;function IC(){let{router:m}=vv("useSubmit"),{basename:u}=rt.useContext(li),C=dC();return rt.useCallback(async(b,x={})=>{let{action:T,method:R,encType:g,formData:o,body:r}=TC(b,u);if(x.navigate===!1){let l=x.fetcherKey||VC();await m.fetch(l,C,x.action||T,{preventScrollReset:x.preventScrollReset,formData:o,body:r,formMethod:x.method||R,formEncType:x.encType||g,flushSync:x.flushSync})}else await m.navigate(x.action||T,{preventScrollReset:x.preventScrollReset,formData:o,body:r,formMethod:x.method||R,formEncType:x.encType||g,replace:x.replace,state:x.state,fromRouteId:C,flushSync:x.flushSync,viewTransition:x.viewTransition})},[m,u,C])}function WC(m,{relative:u}={}){let{basename:C}=rt.useContext(li),b=rt.useContext(ui);re(b,"useFormAction must be used inside a RouteContext");let[x]=b.matches.slice(-1),T={...xa(m||".",{relative:u})},R=_n();if(m==null){T.search=R.search;let g=new URLSearchParams(T.search),o=g.getAll("index");if(o.some(l=>l==="")){g.delete("index"),o.filter(i=>i).forEach(i=>g.append("index",i));let l=g.toString();T.search=l?`?${l}`:""}}return(!m||m===".")&&x.route.index&&(T.search=T.search?T.search.replace(/^\?/,"?index&"):"?index"),C!=="/"&&(T.pathname=T.pathname==="/"?C:Ei([C,T.pathname])),ba(T)}function KC(m,{relative:u}={}){let C=rt.useContext(sv);re(C!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:b}=vv("useViewTransitionState"),x=xa(m,{relative:u});if(!C.isTransitioning)return!1;let T=Ai(C.currentLocation.pathname,b)||C.currentLocation.pathname,R=Ai(C.nextLocation.pathname,b)||C.nextLocation.pathname;return so(x.pathname,R)!=null||so(x.pathname,T)!=null}const QC=({board:m})=>{const u=C=>new Date(C).toLocaleDateString();return Q.jsxs("tr",{style:{textAlign:"center"},children:[Q.jsx("td",{style:{padding:"8px",border:"1px solid #ddd"},children:m.id}),Q.jsx("td",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"left"},children:Q.jsx(ze,{to:`/board/${m.id}`,style:{textDecoration:"none",color:"black"},children:m.title})}),Q.jsx("td",{style:{padding:"8px",border:"1px solid #ddd"},children:m.writer}),Q.jsx("td",{style:{padding:"8px",border:"1px solid #ddd"},children:u(m.createdDate)})]})},ZC=({boards:m})=>!m||m.length===0?Q.jsx("div",{children:"게시글이 없습니다."}):Q.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"20px"},children:[Q.jsx("thead",{style:{backgroundColor:"#f2f2f2"},children:Q.jsxs("tr",{children:[Q.jsx("th",{style:{padding:"8px",border:"1px solid #ddd"},children:"번호"}),Q.jsx("th",{style:{padding:"8px",border:"1px solid #ddd"},children:"제목"}),Q.jsx("th",{style:{padding:"8px",border:"1px solid #ddd"},children:"작성자"}),Q.jsx("th",{style:{padding:"8px",border:"1px solid #ddd"},children:"작성일"})]})}),Q.jsx("tbody",{children:m.map(u=>Q.jsx(QC,{board:u},u.id))})]}),JC=({currentPage:m,totalPages:u,onPageChange:C})=>{if(u<=1)return null;const b=[];for(let R=0;R<u;R++)b.push(R);const x={display:"flex",justifyContent:"center",alignItems:"center",marginTop:"20px",gap:"5px"},T=R=>({padding:"5px 10px",cursor:"pointer",border:"1px solid #ddd",backgroundColor:R?"#007bff":"white",color:R?"white":"black"});return Q.jsx("div",{style:x,children:b.map(R=>Q.jsx("button",{onClick:()=>C(R),style:T(m===R),children:R+1},R))})};function yv(m,u){return function(){return m.apply(u,arguments)}}const{toString:$C}=Object.prototype,{getPrototypeOf:of}=Object,{iterator:ho,toStringTag:bv}=Symbol,go=(m=>u=>{const C=$C.call(u);return m[C]||(m[C]=C.slice(8,-1).toLowerCase())})(Object.create(null)),ei=m=>(m=m.toLowerCase(),u=>go(u)===m),po=m=>u=>typeof u===m,{isArray:hr}=Array,Ca=po("undefined");function Ta(m){return m!==null&&!Ca(m)&&m.constructor!==null&&!Ca(m.constructor)&&De(m.constructor.isBuffer)&&m.constructor.isBuffer(m)}const Cv=ei("ArrayBuffer");function tS(m){let u;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?u=ArrayBuffer.isView(m):u=m&&m.buffer&&Cv(m.buffer),u}const eS=po("string"),De=po("function"),Sv=po("number"),Oa=m=>m!==null&&typeof m=="object",iS=m=>m===!0||m===!1,io=m=>{if(go(m)!=="object")return!1;const u=of(m);return(u===null||u===Object.prototype||Object.getPrototypeOf(u)===null)&&!(bv in m)&&!(ho in m)},nS=m=>{if(!Oa(m)||Ta(m))return!1;try{return Object.keys(m).length===0&&Object.getPrototypeOf(m)===Object.prototype}catch{return!1}},rS=ei("Date"),aS=ei("File"),sS=ei("Blob"),oS=ei("FileList"),lS=m=>Oa(m)&&De(m.pipe),uS=m=>{let u;return m&&(typeof FormData=="function"&&m instanceof FormData||De(m.append)&&((u=go(m))==="formdata"||u==="object"&&De(m.toString)&&m.toString()==="[object FormData]"))},cS=ei("URLSearchParams"),[fS,hS,dS,gS]=["ReadableStream","Request","Response","Headers"].map(ei),pS=m=>m.trim?m.trim():m.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ea(m,u,{allOwnKeys:C=!1}={}){if(m===null||typeof m>"u")return;let b,x;if(typeof m!="object"&&(m=[m]),hr(m))for(b=0,x=m.length;b<x;b++)u.call(null,m[b],b,m);else{if(Ta(m))return;const T=C?Object.getOwnPropertyNames(m):Object.keys(m),R=T.length;let g;for(b=0;b<R;b++)g=T[b],u.call(null,m[g],g,m)}}function _v(m,u){if(Ta(m))return null;u=u.toLowerCase();const C=Object.keys(m);let b=C.length,x;for(;b-- >0;)if(x=C[b],u===x.toLowerCase())return x;return null}const yn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,wv=m=>!Ca(m)&&m!==yn;function Ic(){const{caseless:m}=wv(this)&&this||{},u={},C=(b,x)=>{const T=m&&_v(u,x)||x;io(u[T])&&io(b)?u[T]=Ic(u[T],b):io(b)?u[T]=Ic({},b):hr(b)?u[T]=b.slice():u[T]=b};for(let b=0,x=arguments.length;b<x;b++)arguments[b]&&Ea(arguments[b],C);return u}const mS=(m,u,C,{allOwnKeys:b}={})=>(Ea(u,(x,T)=>{C&&De(x)?m[T]=yv(x,C):m[T]=x},{allOwnKeys:b}),m),vS=m=>(m.charCodeAt(0)===65279&&(m=m.slice(1)),m),yS=(m,u,C,b)=>{m.prototype=Object.create(u.prototype,b),m.prototype.constructor=m,Object.defineProperty(m,"super",{value:u.prototype}),C&&Object.assign(m.prototype,C)},bS=(m,u,C,b)=>{let x,T,R;const g={};if(u=u||{},m==null)return u;do{for(x=Object.getOwnPropertyNames(m),T=x.length;T-- >0;)R=x[T],(!b||b(R,m,u))&&!g[R]&&(u[R]=m[R],g[R]=!0);m=C!==!1&&of(m)}while(m&&(!C||C(m,u))&&m!==Object.prototype);return u},CS=(m,u,C)=>{m=String(m),(C===void 0||C>m.length)&&(C=m.length),C-=u.length;const b=m.indexOf(u,C);return b!==-1&&b===C},SS=m=>{if(!m)return null;if(hr(m))return m;let u=m.length;if(!Sv(u))return null;const C=new Array(u);for(;u-- >0;)C[u]=m[u];return C},_S=(m=>u=>m&&u instanceof m)(typeof Uint8Array<"u"&&of(Uint8Array)),wS=(m,u)=>{const b=(m&&m[ho]).call(m);let x;for(;(x=b.next())&&!x.done;){const T=x.value;u.call(m,T[0],T[1])}},xS=(m,u)=>{let C;const b=[];for(;(C=m.exec(u))!==null;)b.push(C);return b},TS=ei("HTMLFormElement"),OS=m=>m.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(C,b,x){return b.toUpperCase()+x}),Sp=(({hasOwnProperty:m})=>(u,C)=>m.call(u,C))(Object.prototype),ES=ei("RegExp"),xv=(m,u)=>{const C=Object.getOwnPropertyDescriptors(m),b={};Ea(C,(x,T)=>{let R;(R=u(x,T,m))!==!1&&(b[T]=R||x)}),Object.defineProperties(m,b)},AS=m=>{xv(m,(u,C)=>{if(De(m)&&["arguments","caller","callee"].indexOf(C)!==-1)return!1;const b=m[C];if(De(b)){if(u.enumerable=!1,"writable"in u){u.writable=!1;return}u.set||(u.set=()=>{throw Error("Can not rewrite read-only method '"+C+"'")})}})},RS=(m,u)=>{const C={},b=x=>{x.forEach(T=>{C[T]=!0})};return hr(m)?b(m):b(String(m).split(u)),C},DS=()=>{},MS=(m,u)=>m!=null&&Number.isFinite(m=+m)?m:u;function BS(m){return!!(m&&De(m.append)&&m[bv]==="FormData"&&m[ho])}const kS=m=>{const u=new Array(10),C=(b,x)=>{if(Oa(b)){if(u.indexOf(b)>=0)return;if(Ta(b))return b;if(!("toJSON"in b)){u[x]=b;const T=hr(b)?[]:{};return Ea(b,(R,g)=>{const o=C(R,x+1);!Ca(o)&&(T[g]=o)}),u[x]=void 0,T}}return b};return C(m,0)},LS=ei("AsyncFunction"),jS=m=>m&&(Oa(m)||De(m))&&De(m.then)&&De(m.catch),Tv=((m,u)=>m?setImmediate:u?((C,b)=>(yn.addEventListener("message",({source:x,data:T})=>{x===yn&&T===C&&b.length&&b.shift()()},!1),x=>{b.push(x),yn.postMessage(C,"*")}))(`axios@${Math.random()}`,[]):C=>setTimeout(C))(typeof setImmediate=="function",De(yn.postMessage)),FS=typeof queueMicrotask<"u"?queueMicrotask.bind(yn):typeof process<"u"&&process.nextTick||Tv,PS=m=>m!=null&&De(m[ho]),ct={isArray:hr,isArrayBuffer:Cv,isBuffer:Ta,isFormData:uS,isArrayBufferView:tS,isString:eS,isNumber:Sv,isBoolean:iS,isObject:Oa,isPlainObject:io,isEmptyObject:nS,isReadableStream:fS,isRequest:hS,isResponse:dS,isHeaders:gS,isUndefined:Ca,isDate:rS,isFile:aS,isBlob:sS,isRegExp:ES,isFunction:De,isStream:lS,isURLSearchParams:cS,isTypedArray:_S,isFileList:oS,forEach:Ea,merge:Ic,extend:mS,trim:pS,stripBOM:vS,inherits:yS,toFlatObject:bS,kindOf:go,kindOfTest:ei,endsWith:CS,toArray:SS,forEachEntry:wS,matchAll:xS,isHTMLForm:TS,hasOwnProperty:Sp,hasOwnProp:Sp,reduceDescriptors:xv,freezeMethods:AS,toObjectSet:RS,toCamelCase:OS,noop:DS,toFiniteNumber:MS,findKey:_v,global:yn,isContextDefined:wv,isSpecCompliantForm:BS,toJSONObject:kS,isAsyncFn:LS,isThenable:jS,setImmediate:Tv,asap:FS,isIterable:PS};function Lt(m,u,C,b,x){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=m,this.name="AxiosError",u&&(this.code=u),C&&(this.config=C),b&&(this.request=b),x&&(this.response=x,this.status=x.status?x.status:null)}ct.inherits(Lt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ct.toJSONObject(this.config),code:this.code,status:this.status}}});const Ov=Lt.prototype,Ev={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(m=>{Ev[m]={value:m}});Object.defineProperties(Lt,Ev);Object.defineProperty(Ov,"isAxiosError",{value:!0});Lt.from=(m,u,C,b,x,T)=>{const R=Object.create(Ov);return ct.toFlatObject(m,R,function(o){return o!==Error.prototype},g=>g!=="isAxiosError"),Lt.call(R,m.message,u,C,b,x),R.cause=m,R.name=m.name,T&&Object.assign(R,T),R};const NS=null;function Wc(m){return ct.isPlainObject(m)||ct.isArray(m)}function Av(m){return ct.endsWith(m,"[]")?m.slice(0,-2):m}function _p(m,u,C){return m?m.concat(u).map(function(x,T){return x=Av(x),!C&&T?"["+x+"]":x}).join(C?".":""):u}function US(m){return ct.isArray(m)&&!m.some(Wc)}const zS=ct.toFlatObject(ct,{},null,function(u){return/^is[A-Z]/.test(u)});function mo(m,u,C){if(!ct.isObject(m))throw new TypeError("target must be an object");u=u||new FormData,C=ct.toFlatObject(C,{metaTokens:!0,dots:!1,indexes:!1},!1,function(d,c){return!ct.isUndefined(c[d])});const b=C.metaTokens,x=C.visitor||l,T=C.dots,R=C.indexes,o=(C.Blob||typeof Blob<"u"&&Blob)&&ct.isSpecCompliantForm(u);if(!ct.isFunction(x))throw new TypeError("visitor must be a function");function r(f){if(f===null)return"";if(ct.isDate(f))return f.toISOString();if(ct.isBoolean(f))return f.toString();if(!o&&ct.isBlob(f))throw new Lt("Blob is not supported. Use a Buffer instead.");return ct.isArrayBuffer(f)||ct.isTypedArray(f)?o&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function l(f,d,c){let p=f;if(f&&!c&&typeof f=="object"){if(ct.endsWith(d,"{}"))d=b?d:d.slice(0,-2),f=JSON.stringify(f);else if(ct.isArray(f)&&US(f)||(ct.isFileList(f)||ct.endsWith(d,"[]"))&&(p=ct.toArray(f)))return d=Av(d),p.forEach(function(_,w){!(ct.isUndefined(_)||_===null)&&u.append(R===!0?_p([d],w,T):R===null?d:d+"[]",r(_))}),!1}return Wc(f)?!0:(u.append(_p(c,d,T),r(f)),!1)}const i=[],s=Object.assign(zS,{defaultVisitor:l,convertValue:r,isVisitable:Wc});function a(f,d){if(!ct.isUndefined(f)){if(i.indexOf(f)!==-1)throw Error("Circular reference detected in "+d.join("."));i.push(f),ct.forEach(f,function(p,y){(!(ct.isUndefined(p)||p===null)&&x.call(u,p,ct.isString(y)?y.trim():y,d,s))===!0&&a(p,d?d.concat(y):[y])}),i.pop()}}if(!ct.isObject(m))throw new TypeError("data must be an object");return a(m),u}function wp(m){const u={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(m).replace(/[!'()~]|%20|%00/g,function(b){return u[b]})}function lf(m,u){this._pairs=[],m&&mo(m,this,u)}const Rv=lf.prototype;Rv.append=function(u,C){this._pairs.push([u,C])};Rv.toString=function(u){const C=u?function(b){return u.call(this,b,wp)}:wp;return this._pairs.map(function(x){return C(x[0])+"="+C(x[1])},"").join("&")};function HS(m){return encodeURIComponent(m).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Dv(m,u,C){if(!u)return m;const b=C&&C.encode||HS;ct.isFunction(C)&&(C={serialize:C});const x=C&&C.serialize;let T;if(x?T=x(u,C):T=ct.isURLSearchParams(u)?u.toString():new lf(u,C).toString(b),T){const R=m.indexOf("#");R!==-1&&(m=m.slice(0,R)),m+=(m.indexOf("?")===-1?"?":"&")+T}return m}class xp{constructor(){this.handlers=[]}use(u,C,b){return this.handlers.push({fulfilled:u,rejected:C,synchronous:b?b.synchronous:!1,runWhen:b?b.runWhen:null}),this.handlers.length-1}eject(u){this.handlers[u]&&(this.handlers[u]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(u){ct.forEach(this.handlers,function(b){b!==null&&u(b)})}}const Mv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},YS=typeof URLSearchParams<"u"?URLSearchParams:lf,XS=typeof FormData<"u"?FormData:null,qS=typeof Blob<"u"?Blob:null,GS={isBrowser:!0,classes:{URLSearchParams:YS,FormData:XS,Blob:qS},protocols:["http","https","file","blob","url","data"]},uf=typeof window<"u"&&typeof document<"u",Kc=typeof navigator=="object"&&navigator||void 0,VS=uf&&(!Kc||["ReactNative","NativeScript","NS"].indexOf(Kc.product)<0),IS=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",WS=uf&&window.location.href||"http://localhost",KS=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:uf,hasStandardBrowserEnv:VS,hasStandardBrowserWebWorkerEnv:IS,navigator:Kc,origin:WS},Symbol.toStringTag,{value:"Module"})),we={...KS,...GS};function QS(m,u){return mo(m,new we.classes.URLSearchParams,{visitor:function(C,b,x,T){return we.isNode&&ct.isBuffer(C)?(this.append(b,C.toString("base64")),!1):T.defaultVisitor.apply(this,arguments)},...u})}function ZS(m){return ct.matchAll(/\w+|\[(\w*)]/g,m).map(u=>u[0]==="[]"?"":u[1]||u[0])}function JS(m){const u={},C=Object.keys(m);let b;const x=C.length;let T;for(b=0;b<x;b++)T=C[b],u[T]=m[T];return u}function Bv(m){function u(C,b,x,T){let R=C[T++];if(R==="__proto__")return!0;const g=Number.isFinite(+R),o=T>=C.length;return R=!R&&ct.isArray(x)?x.length:R,o?(ct.hasOwnProp(x,R)?x[R]=[x[R],b]:x[R]=b,!g):((!x[R]||!ct.isObject(x[R]))&&(x[R]=[]),u(C,b,x[R],T)&&ct.isArray(x[R])&&(x[R]=JS(x[R])),!g)}if(ct.isFormData(m)&&ct.isFunction(m.entries)){const C={};return ct.forEachEntry(m,(b,x)=>{u(ZS(b),x,C,0)}),C}return null}function $S(m,u,C){if(ct.isString(m))try{return(u||JSON.parse)(m),ct.trim(m)}catch(b){if(b.name!=="SyntaxError")throw b}return(C||JSON.stringify)(m)}const Aa={transitional:Mv,adapter:["xhr","http","fetch"],transformRequest:[function(u,C){const b=C.getContentType()||"",x=b.indexOf("application/json")>-1,T=ct.isObject(u);if(T&&ct.isHTMLForm(u)&&(u=new FormData(u)),ct.isFormData(u))return x?JSON.stringify(Bv(u)):u;if(ct.isArrayBuffer(u)||ct.isBuffer(u)||ct.isStream(u)||ct.isFile(u)||ct.isBlob(u)||ct.isReadableStream(u))return u;if(ct.isArrayBufferView(u))return u.buffer;if(ct.isURLSearchParams(u))return C.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),u.toString();let g;if(T){if(b.indexOf("application/x-www-form-urlencoded")>-1)return QS(u,this.formSerializer).toString();if((g=ct.isFileList(u))||b.indexOf("multipart/form-data")>-1){const o=this.env&&this.env.FormData;return mo(g?{"files[]":u}:u,o&&new o,this.formSerializer)}}return T||x?(C.setContentType("application/json",!1),$S(u)):u}],transformResponse:[function(u){const C=this.transitional||Aa.transitional,b=C&&C.forcedJSONParsing,x=this.responseType==="json";if(ct.isResponse(u)||ct.isReadableStream(u))return u;if(u&&ct.isString(u)&&(b&&!this.responseType||x)){const R=!(C&&C.silentJSONParsing)&&x;try{return JSON.parse(u)}catch(g){if(R)throw g.name==="SyntaxError"?Lt.from(g,Lt.ERR_BAD_RESPONSE,this,null,this.response):g}}return u}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:we.classes.FormData,Blob:we.classes.Blob},validateStatus:function(u){return u>=200&&u<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ct.forEach(["delete","get","head","post","put","patch"],m=>{Aa.headers[m]={}});const t_=ct.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),e_=m=>{const u={};let C,b,x;return m&&m.split(`
`).forEach(function(R){x=R.indexOf(":"),C=R.substring(0,x).trim().toLowerCase(),b=R.substring(x+1).trim(),!(!C||u[C]&&t_[C])&&(C==="set-cookie"?u[C]?u[C].push(b):u[C]=[b]:u[C]=u[C]?u[C]+", "+b:b)}),u},Tp=Symbol("internals");function ga(m){return m&&String(m).trim().toLowerCase()}function no(m){return m===!1||m==null?m:ct.isArray(m)?m.map(no):String(m)}function i_(m){const u=Object.create(null),C=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let b;for(;b=C.exec(m);)u[b[1]]=b[2];return u}const n_=m=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(m.trim());function Yu(m,u,C,b,x){if(ct.isFunction(b))return b.call(this,u,C);if(x&&(u=C),!!ct.isString(u)){if(ct.isString(b))return u.indexOf(b)!==-1;if(ct.isRegExp(b))return b.test(u)}}function r_(m){return m.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(u,C,b)=>C.toUpperCase()+b)}function a_(m,u){const C=ct.toCamelCase(" "+u);["get","set","has"].forEach(b=>{Object.defineProperty(m,b+C,{value:function(x,T,R){return this[b].call(this,u,x,T,R)},configurable:!0})})}let Me=class{constructor(u){u&&this.set(u)}set(u,C,b){const x=this;function T(g,o,r){const l=ga(o);if(!l)throw new Error("header name must be a non-empty string");const i=ct.findKey(x,l);(!i||x[i]===void 0||r===!0||r===void 0&&x[i]!==!1)&&(x[i||o]=no(g))}const R=(g,o)=>ct.forEach(g,(r,l)=>T(r,l,o));if(ct.isPlainObject(u)||u instanceof this.constructor)R(u,C);else if(ct.isString(u)&&(u=u.trim())&&!n_(u))R(e_(u),C);else if(ct.isObject(u)&&ct.isIterable(u)){let g={},o,r;for(const l of u){if(!ct.isArray(l))throw TypeError("Object iterator must return a key-value pair");g[r=l[0]]=(o=g[r])?ct.isArray(o)?[...o,l[1]]:[o,l[1]]:l[1]}R(g,C)}else u!=null&&T(C,u,b);return this}get(u,C){if(u=ga(u),u){const b=ct.findKey(this,u);if(b){const x=this[b];if(!C)return x;if(C===!0)return i_(x);if(ct.isFunction(C))return C.call(this,x,b);if(ct.isRegExp(C))return C.exec(x);throw new TypeError("parser must be boolean|regexp|function")}}}has(u,C){if(u=ga(u),u){const b=ct.findKey(this,u);return!!(b&&this[b]!==void 0&&(!C||Yu(this,this[b],b,C)))}return!1}delete(u,C){const b=this;let x=!1;function T(R){if(R=ga(R),R){const g=ct.findKey(b,R);g&&(!C||Yu(b,b[g],g,C))&&(delete b[g],x=!0)}}return ct.isArray(u)?u.forEach(T):T(u),x}clear(u){const C=Object.keys(this);let b=C.length,x=!1;for(;b--;){const T=C[b];(!u||Yu(this,this[T],T,u,!0))&&(delete this[T],x=!0)}return x}normalize(u){const C=this,b={};return ct.forEach(this,(x,T)=>{const R=ct.findKey(b,T);if(R){C[R]=no(x),delete C[T];return}const g=u?r_(T):String(T).trim();g!==T&&delete C[T],C[g]=no(x),b[g]=!0}),this}concat(...u){return this.constructor.concat(this,...u)}toJSON(u){const C=Object.create(null);return ct.forEach(this,(b,x)=>{b!=null&&b!==!1&&(C[x]=u&&ct.isArray(b)?b.join(", "):b)}),C}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([u,C])=>u+": "+C).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(u){return u instanceof this?u:new this(u)}static concat(u,...C){const b=new this(u);return C.forEach(x=>b.set(x)),b}static accessor(u){const b=(this[Tp]=this[Tp]={accessors:{}}).accessors,x=this.prototype;function T(R){const g=ga(R);b[g]||(a_(x,R),b[g]=!0)}return ct.isArray(u)?u.forEach(T):T(u),this}};Me.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ct.reduceDescriptors(Me.prototype,({value:m},u)=>{let C=u[0].toUpperCase()+u.slice(1);return{get:()=>m,set(b){this[C]=b}}});ct.freezeMethods(Me);function Xu(m,u){const C=this||Aa,b=u||C,x=Me.from(b.headers);let T=b.data;return ct.forEach(m,function(g){T=g.call(C,T,x.normalize(),u?u.status:void 0)}),x.normalize(),T}function kv(m){return!!(m&&m.__CANCEL__)}function dr(m,u,C){Lt.call(this,m??"canceled",Lt.ERR_CANCELED,u,C),this.name="CanceledError"}ct.inherits(dr,Lt,{__CANCEL__:!0});function Lv(m,u,C){const b=C.config.validateStatus;!C.status||!b||b(C.status)?m(C):u(new Lt("Request failed with status code "+C.status,[Lt.ERR_BAD_REQUEST,Lt.ERR_BAD_RESPONSE][Math.floor(C.status/100)-4],C.config,C.request,C))}function s_(m){const u=/^([-+\w]{1,25})(:?\/\/|:)/.exec(m);return u&&u[1]||""}function o_(m,u){m=m||10;const C=new Array(m),b=new Array(m);let x=0,T=0,R;return u=u!==void 0?u:1e3,function(o){const r=Date.now(),l=b[T];R||(R=r),C[x]=o,b[x]=r;let i=T,s=0;for(;i!==x;)s+=C[i++],i=i%m;if(x=(x+1)%m,x===T&&(T=(T+1)%m),r-R<u)return;const a=l&&r-l;return a?Math.round(s*1e3/a):void 0}}function l_(m,u){let C=0,b=1e3/u,x,T;const R=(r,l=Date.now())=>{C=l,x=null,T&&(clearTimeout(T),T=null),m(...r)};return[(...r)=>{const l=Date.now(),i=l-C;i>=b?R(r,l):(x=r,T||(T=setTimeout(()=>{T=null,R(x)},b-i)))},()=>x&&R(x)]}const oo=(m,u,C=3)=>{let b=0;const x=o_(50,250);return l_(T=>{const R=T.loaded,g=T.lengthComputable?T.total:void 0,o=R-b,r=x(o),l=R<=g;b=R;const i={loaded:R,total:g,progress:g?R/g:void 0,bytes:o,rate:r||void 0,estimated:r&&g&&l?(g-R)/r:void 0,event:T,lengthComputable:g!=null,[u?"download":"upload"]:!0};m(i)},C)},Op=(m,u)=>{const C=m!=null;return[b=>u[0]({lengthComputable:C,total:m,loaded:b}),u[1]]},Ep=m=>(...u)=>ct.asap(()=>m(...u)),u_=we.hasStandardBrowserEnv?((m,u)=>C=>(C=new URL(C,we.origin),m.protocol===C.protocol&&m.host===C.host&&(u||m.port===C.port)))(new URL(we.origin),we.navigator&&/(msie|trident)/i.test(we.navigator.userAgent)):()=>!0,c_=we.hasStandardBrowserEnv?{write(m,u,C,b,x,T){const R=[m+"="+encodeURIComponent(u)];ct.isNumber(C)&&R.push("expires="+new Date(C).toGMTString()),ct.isString(b)&&R.push("path="+b),ct.isString(x)&&R.push("domain="+x),T===!0&&R.push("secure"),document.cookie=R.join("; ")},read(m){const u=document.cookie.match(new RegExp("(^|;\\s*)("+m+")=([^;]*)"));return u?decodeURIComponent(u[3]):null},remove(m){this.write(m,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function f_(m){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(m)}function h_(m,u){return u?m.replace(/\/?\/$/,"")+"/"+u.replace(/^\/+/,""):m}function jv(m,u,C){let b=!f_(u);return m&&(b||C==!1)?h_(m,u):u}const Ap=m=>m instanceof Me?{...m}:m;function Cn(m,u){u=u||{};const C={};function b(r,l,i,s){return ct.isPlainObject(r)&&ct.isPlainObject(l)?ct.merge.call({caseless:s},r,l):ct.isPlainObject(l)?ct.merge({},l):ct.isArray(l)?l.slice():l}function x(r,l,i,s){if(ct.isUndefined(l)){if(!ct.isUndefined(r))return b(void 0,r,i,s)}else return b(r,l,i,s)}function T(r,l){if(!ct.isUndefined(l))return b(void 0,l)}function R(r,l){if(ct.isUndefined(l)){if(!ct.isUndefined(r))return b(void 0,r)}else return b(void 0,l)}function g(r,l,i){if(i in u)return b(r,l);if(i in m)return b(void 0,r)}const o={url:T,method:T,data:T,baseURL:R,transformRequest:R,transformResponse:R,paramsSerializer:R,timeout:R,timeoutMessage:R,withCredentials:R,withXSRFToken:R,adapter:R,responseType:R,xsrfCookieName:R,xsrfHeaderName:R,onUploadProgress:R,onDownloadProgress:R,decompress:R,maxContentLength:R,maxBodyLength:R,beforeRedirect:R,transport:R,httpAgent:R,httpsAgent:R,cancelToken:R,socketPath:R,responseEncoding:R,validateStatus:g,headers:(r,l,i)=>x(Ap(r),Ap(l),i,!0)};return ct.forEach(Object.keys({...m,...u}),function(l){const i=o[l]||x,s=i(m[l],u[l],l);ct.isUndefined(s)&&i!==g||(C[l]=s)}),C}const Fv=m=>{const u=Cn({},m);let{data:C,withXSRFToken:b,xsrfHeaderName:x,xsrfCookieName:T,headers:R,auth:g}=u;u.headers=R=Me.from(R),u.url=Dv(jv(u.baseURL,u.url,u.allowAbsoluteUrls),m.params,m.paramsSerializer),g&&R.set("Authorization","Basic "+btoa((g.username||"")+":"+(g.password?unescape(encodeURIComponent(g.password)):"")));let o;if(ct.isFormData(C)){if(we.hasStandardBrowserEnv||we.hasStandardBrowserWebWorkerEnv)R.setContentType(void 0);else if((o=R.getContentType())!==!1){const[r,...l]=o?o.split(";").map(i=>i.trim()).filter(Boolean):[];R.setContentType([r||"multipart/form-data",...l].join("; "))}}if(we.hasStandardBrowserEnv&&(b&&ct.isFunction(b)&&(b=b(u)),b||b!==!1&&u_(u.url))){const r=x&&T&&c_.read(T);r&&R.set(x,r)}return u},d_=typeof XMLHttpRequest<"u",g_=d_&&function(m){return new Promise(function(C,b){const x=Fv(m);let T=x.data;const R=Me.from(x.headers).normalize();let{responseType:g,onUploadProgress:o,onDownloadProgress:r}=x,l,i,s,a,f;function d(){a&&a(),f&&f(),x.cancelToken&&x.cancelToken.unsubscribe(l),x.signal&&x.signal.removeEventListener("abort",l)}let c=new XMLHttpRequest;c.open(x.method.toUpperCase(),x.url,!0),c.timeout=x.timeout;function p(){if(!c)return;const _=Me.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),O={data:!g||g==="text"||g==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:_,config:m,request:c};Lv(function(j){C(j),d()},function(j){b(j),d()},O),c=null}"onloadend"in c?c.onloadend=p:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(p)},c.onabort=function(){c&&(b(new Lt("Request aborted",Lt.ECONNABORTED,m,c)),c=null)},c.onerror=function(){b(new Lt("Network Error",Lt.ERR_NETWORK,m,c)),c=null},c.ontimeout=function(){let w=x.timeout?"timeout of "+x.timeout+"ms exceeded":"timeout exceeded";const O=x.transitional||Mv;x.timeoutErrorMessage&&(w=x.timeoutErrorMessage),b(new Lt(w,O.clarifyTimeoutError?Lt.ETIMEDOUT:Lt.ECONNABORTED,m,c)),c=null},T===void 0&&R.setContentType(null),"setRequestHeader"in c&&ct.forEach(R.toJSON(),function(w,O){c.setRequestHeader(O,w)}),ct.isUndefined(x.withCredentials)||(c.withCredentials=!!x.withCredentials),g&&g!=="json"&&(c.responseType=x.responseType),r&&([s,f]=oo(r,!0),c.addEventListener("progress",s)),o&&c.upload&&([i,a]=oo(o),c.upload.addEventListener("progress",i),c.upload.addEventListener("loadend",a)),(x.cancelToken||x.signal)&&(l=_=>{c&&(b(!_||_.type?new dr(null,m,c):_),c.abort(),c=null)},x.cancelToken&&x.cancelToken.subscribe(l),x.signal&&(x.signal.aborted?l():x.signal.addEventListener("abort",l)));const y=s_(x.url);if(y&&we.protocols.indexOf(y)===-1){b(new Lt("Unsupported protocol "+y+":",Lt.ERR_BAD_REQUEST,m));return}c.send(T||null)})},p_=(m,u)=>{const{length:C}=m=m?m.filter(Boolean):[];if(u||C){let b=new AbortController,x;const T=function(r){if(!x){x=!0,g();const l=r instanceof Error?r:this.reason;b.abort(l instanceof Lt?l:new dr(l instanceof Error?l.message:l))}};let R=u&&setTimeout(()=>{R=null,T(new Lt(`timeout ${u} of ms exceeded`,Lt.ETIMEDOUT))},u);const g=()=>{m&&(R&&clearTimeout(R),R=null,m.forEach(r=>{r.unsubscribe?r.unsubscribe(T):r.removeEventListener("abort",T)}),m=null)};m.forEach(r=>r.addEventListener("abort",T));const{signal:o}=b;return o.unsubscribe=()=>ct.asap(g),o}},m_=function*(m,u){let C=m.byteLength;if(C<u){yield m;return}let b=0,x;for(;b<C;)x=b+u,yield m.slice(b,x),b=x},v_=async function*(m,u){for await(const C of y_(m))yield*m_(C,u)},y_=async function*(m){if(m[Symbol.asyncIterator]){yield*m;return}const u=m.getReader();try{for(;;){const{done:C,value:b}=await u.read();if(C)break;yield b}}finally{await u.cancel()}},Rp=(m,u,C,b)=>{const x=v_(m,u);let T=0,R,g=o=>{R||(R=!0,b&&b(o))};return new ReadableStream({async pull(o){try{const{done:r,value:l}=await x.next();if(r){g(),o.close();return}let i=l.byteLength;if(C){let s=T+=i;C(s)}o.enqueue(new Uint8Array(l))}catch(r){throw g(r),r}},cancel(o){return g(o),x.return()}},{highWaterMark:2})},vo=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Pv=vo&&typeof ReadableStream=="function",b_=vo&&(typeof TextEncoder=="function"?(m=>u=>m.encode(u))(new TextEncoder):async m=>new Uint8Array(await new Response(m).arrayBuffer())),Nv=(m,...u)=>{try{return!!m(...u)}catch{return!1}},C_=Pv&&Nv(()=>{let m=!1;const u=new Request(we.origin,{body:new ReadableStream,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!u}),Dp=64*1024,Qc=Pv&&Nv(()=>ct.isReadableStream(new Response("").body)),lo={stream:Qc&&(m=>m.body)};vo&&(m=>{["text","arrayBuffer","blob","formData","stream"].forEach(u=>{!lo[u]&&(lo[u]=ct.isFunction(m[u])?C=>C[u]():(C,b)=>{throw new Lt(`Response type '${u}' is not supported`,Lt.ERR_NOT_SUPPORT,b)})})})(new Response);const S_=async m=>{if(m==null)return 0;if(ct.isBlob(m))return m.size;if(ct.isSpecCompliantForm(m))return(await new Request(we.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(ct.isArrayBufferView(m)||ct.isArrayBuffer(m))return m.byteLength;if(ct.isURLSearchParams(m)&&(m=m+""),ct.isString(m))return(await b_(m)).byteLength},__=async(m,u)=>{const C=ct.toFiniteNumber(m.getContentLength());return C??S_(u)},w_=vo&&(async m=>{let{url:u,method:C,data:b,signal:x,cancelToken:T,timeout:R,onDownloadProgress:g,onUploadProgress:o,responseType:r,headers:l,withCredentials:i="same-origin",fetchOptions:s}=Fv(m);r=r?(r+"").toLowerCase():"text";let a=p_([x,T&&T.toAbortSignal()],R),f;const d=a&&a.unsubscribe&&(()=>{a.unsubscribe()});let c;try{if(o&&C_&&C!=="get"&&C!=="head"&&(c=await __(l,b))!==0){let O=new Request(u,{method:"POST",body:b,duplex:"half"}),M;if(ct.isFormData(b)&&(M=O.headers.get("content-type"))&&l.setContentType(M),O.body){const[j,U]=Op(c,oo(Ep(o)));b=Rp(O.body,Dp,j,U)}}ct.isString(i)||(i=i?"include":"omit");const p="credentials"in Request.prototype;f=new Request(u,{...s,signal:a,method:C.toUpperCase(),headers:l.normalize().toJSON(),body:b,duplex:"half",credentials:p?i:void 0});let y=await fetch(f,s);const _=Qc&&(r==="stream"||r==="response");if(Qc&&(g||_&&d)){const O={};["status","statusText","headers"].forEach(Y=>{O[Y]=y[Y]});const M=ct.toFiniteNumber(y.headers.get("content-length")),[j,U]=g&&Op(M,oo(Ep(g),!0))||[];y=new Response(Rp(y.body,Dp,j,()=>{U&&U(),d&&d()}),O)}r=r||"text";let w=await lo[ct.findKey(lo,r)||"text"](y,m);return!_&&d&&d(),await new Promise((O,M)=>{Lv(O,M,{data:w,headers:Me.from(y.headers),status:y.status,statusText:y.statusText,config:m,request:f})})}catch(p){throw d&&d(),p&&p.name==="TypeError"&&/Load failed|fetch/i.test(p.message)?Object.assign(new Lt("Network Error",Lt.ERR_NETWORK,m,f),{cause:p.cause||p}):Lt.from(p,p&&p.code,m,f)}}),Zc={http:NS,xhr:g_,fetch:w_};ct.forEach(Zc,(m,u)=>{if(m){try{Object.defineProperty(m,"name",{value:u})}catch{}Object.defineProperty(m,"adapterName",{value:u})}});const Mp=m=>`- ${m}`,x_=m=>ct.isFunction(m)||m===null||m===!1,Uv={getAdapter:m=>{m=ct.isArray(m)?m:[m];const{length:u}=m;let C,b;const x={};for(let T=0;T<u;T++){C=m[T];let R;if(b=C,!x_(C)&&(b=Zc[(R=String(C)).toLowerCase()],b===void 0))throw new Lt(`Unknown adapter '${R}'`);if(b)break;x[R||"#"+T]=b}if(!b){const T=Object.entries(x).map(([g,o])=>`adapter ${g} `+(o===!1?"is not supported by the environment":"is not available in the build"));let R=u?T.length>1?`since :
`+T.map(Mp).join(`
`):" "+Mp(T[0]):"as no adapter specified";throw new Lt("There is no suitable adapter to dispatch the request "+R,"ERR_NOT_SUPPORT")}return b},adapters:Zc};function qu(m){if(m.cancelToken&&m.cancelToken.throwIfRequested(),m.signal&&m.signal.aborted)throw new dr(null,m)}function Bp(m){return qu(m),m.headers=Me.from(m.headers),m.data=Xu.call(m,m.transformRequest),["post","put","patch"].indexOf(m.method)!==-1&&m.headers.setContentType("application/x-www-form-urlencoded",!1),Uv.getAdapter(m.adapter||Aa.adapter)(m).then(function(b){return qu(m),b.data=Xu.call(m,m.transformResponse,b),b.headers=Me.from(b.headers),b},function(b){return kv(b)||(qu(m),b&&b.response&&(b.response.data=Xu.call(m,m.transformResponse,b.response),b.response.headers=Me.from(b.response.headers))),Promise.reject(b)})}const zv="1.11.0",yo={};["object","boolean","number","function","string","symbol"].forEach((m,u)=>{yo[m]=function(b){return typeof b===m||"a"+(u<1?"n ":" ")+m}});const kp={};yo.transitional=function(u,C,b){function x(T,R){return"[Axios v"+zv+"] Transitional option '"+T+"'"+R+(b?". "+b:"")}return(T,R,g)=>{if(u===!1)throw new Lt(x(R," has been removed"+(C?" in "+C:"")),Lt.ERR_DEPRECATED);return C&&!kp[R]&&(kp[R]=!0,console.warn(x(R," has been deprecated since v"+C+" and will be removed in the near future"))),u?u(T,R,g):!0}};yo.spelling=function(u){return(C,b)=>(console.warn(`${b} is likely a misspelling of ${u}`),!0)};function T_(m,u,C){if(typeof m!="object")throw new Lt("options must be an object",Lt.ERR_BAD_OPTION_VALUE);const b=Object.keys(m);let x=b.length;for(;x-- >0;){const T=b[x],R=u[T];if(R){const g=m[T],o=g===void 0||R(g,T,m);if(o!==!0)throw new Lt("option "+T+" must be "+o,Lt.ERR_BAD_OPTION_VALUE);continue}if(C!==!0)throw new Lt("Unknown option "+T,Lt.ERR_BAD_OPTION)}}const ro={assertOptions:T_,validators:yo},oi=ro.validators;let bn=class{constructor(u){this.defaults=u||{},this.interceptors={request:new xp,response:new xp}}async request(u,C){try{return await this._request(u,C)}catch(b){if(b instanceof Error){let x={};Error.captureStackTrace?Error.captureStackTrace(x):x=new Error;const T=x.stack?x.stack.replace(/^.+\n/,""):"";try{b.stack?T&&!String(b.stack).endsWith(T.replace(/^.+\n.+\n/,""))&&(b.stack+=`
`+T):b.stack=T}catch{}}throw b}}_request(u,C){typeof u=="string"?(C=C||{},C.url=u):C=u||{},C=Cn(this.defaults,C);const{transitional:b,paramsSerializer:x,headers:T}=C;b!==void 0&&ro.assertOptions(b,{silentJSONParsing:oi.transitional(oi.boolean),forcedJSONParsing:oi.transitional(oi.boolean),clarifyTimeoutError:oi.transitional(oi.boolean)},!1),x!=null&&(ct.isFunction(x)?C.paramsSerializer={serialize:x}:ro.assertOptions(x,{encode:oi.function,serialize:oi.function},!0)),C.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?C.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:C.allowAbsoluteUrls=!0),ro.assertOptions(C,{baseUrl:oi.spelling("baseURL"),withXsrfToken:oi.spelling("withXSRFToken")},!0),C.method=(C.method||this.defaults.method||"get").toLowerCase();let R=T&&ct.merge(T.common,T[C.method]);T&&ct.forEach(["delete","get","head","post","put","patch","common"],f=>{delete T[f]}),C.headers=Me.concat(R,T);const g=[];let o=!0;this.interceptors.request.forEach(function(d){typeof d.runWhen=="function"&&d.runWhen(C)===!1||(o=o&&d.synchronous,g.unshift(d.fulfilled,d.rejected))});const r=[];this.interceptors.response.forEach(function(d){r.push(d.fulfilled,d.rejected)});let l,i=0,s;if(!o){const f=[Bp.bind(this),void 0];for(f.unshift(...g),f.push(...r),s=f.length,l=Promise.resolve(C);i<s;)l=l.then(f[i++],f[i++]);return l}s=g.length;let a=C;for(i=0;i<s;){const f=g[i++],d=g[i++];try{a=f(a)}catch(c){d.call(this,c);break}}try{l=Bp.call(this,a)}catch(f){return Promise.reject(f)}for(i=0,s=r.length;i<s;)l=l.then(r[i++],r[i++]);return l}getUri(u){u=Cn(this.defaults,u);const C=jv(u.baseURL,u.url,u.allowAbsoluteUrls);return Dv(C,u.params,u.paramsSerializer)}};ct.forEach(["delete","get","head","options"],function(u){bn.prototype[u]=function(C,b){return this.request(Cn(b||{},{method:u,url:C,data:(b||{}).data}))}});ct.forEach(["post","put","patch"],function(u){function C(b){return function(T,R,g){return this.request(Cn(g||{},{method:u,headers:b?{"Content-Type":"multipart/form-data"}:{},url:T,data:R}))}}bn.prototype[u]=C(),bn.prototype[u+"Form"]=C(!0)});let O_=class Hv{constructor(u){if(typeof u!="function")throw new TypeError("executor must be a function.");let C;this.promise=new Promise(function(T){C=T});const b=this;this.promise.then(x=>{if(!b._listeners)return;let T=b._listeners.length;for(;T-- >0;)b._listeners[T](x);b._listeners=null}),this.promise.then=x=>{let T;const R=new Promise(g=>{b.subscribe(g),T=g}).then(x);return R.cancel=function(){b.unsubscribe(T)},R},u(function(T,R,g){b.reason||(b.reason=new dr(T,R,g),C(b.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(u){if(this.reason){u(this.reason);return}this._listeners?this._listeners.push(u):this._listeners=[u]}unsubscribe(u){if(!this._listeners)return;const C=this._listeners.indexOf(u);C!==-1&&this._listeners.splice(C,1)}toAbortSignal(){const u=new AbortController,C=b=>{u.abort(b)};return this.subscribe(C),u.signal.unsubscribe=()=>this.unsubscribe(C),u.signal}static source(){let u;return{token:new Hv(function(x){u=x}),cancel:u}}};function E_(m){return function(C){return m.apply(null,C)}}function A_(m){return ct.isObject(m)&&m.isAxiosError===!0}const Jc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Jc).forEach(([m,u])=>{Jc[u]=m});function Yv(m){const u=new bn(m),C=yv(bn.prototype.request,u);return ct.extend(C,bn.prototype,u,{allOwnKeys:!0}),ct.extend(C,u,null,{allOwnKeys:!0}),C.create=function(x){return Yv(Cn(m,x))},C}const te=Yv(Aa);te.Axios=bn;te.CanceledError=dr;te.CancelToken=O_;te.isCancel=kv;te.VERSION=zv;te.toFormData=mo;te.AxiosError=Lt;te.Cancel=te.CanceledError;te.all=function(u){return Promise.all(u)};te.spread=E_;te.isAxiosError=A_;te.mergeConfig=Cn;te.AxiosHeaders=Me;te.formToJSON=m=>Bv(ct.isHTMLForm(m)?new FormData(m):m);te.getAdapter=Uv.getAdapter;te.HttpStatusCode=Jc;te.default=te;const{Axios:ow,AxiosError:lw,CanceledError:uw,isCancel:cw,CancelToken:fw,VERSION:hw,all:dw,Cancel:gw,isAxiosError:pw,spread:mw,toFormData:vw,AxiosHeaders:yw,HttpStatusCode:bw,formToJSON:Cw,getAdapter:Sw,mergeConfig:_w}=te,R_="/api/boards",Ra=te.create({baseURL:R_,headers:{"Content-Type":"application/json"}}),D_=m=>Ra.get("",{params:m}),Xv=m=>Ra.get(`/${m}`),M_=m=>Ra.post("",m),B_=(m,u)=>Ra.put(`/${m}`,u),k_=m=>Ra.delete(`/${m}`),L_=()=>{const[m,u]=rt.useState({content:[],totalPages:0}),[C,b]=rt.useState(0);return rt.useEffect(()=>{(async()=>{try{const T=await D_({page:C,size:10});u(T.data)}catch(T){console.error("게시글 목록을 불러오는 데 실패했습니다.",T),alert("게시글 목록을 불러오는 데 실패했습니다.")}})()},[C]),Q.jsxs("div",{children:[Q.jsx(ze,{to:"/write",children:Q.jsx("button",{style:{float:"right"},children:"글쓰기"})}),Q.jsx("h2",{children:"게시글 목록"}),Q.jsx(ZC,{boards:m.content}),Q.jsx(JC,{currentPage:C,totalPages:m.totalPages,onPageChange:b})]})},j_=({board:m,onEdit:u,onDelete:C,onList:b})=>{const x=T=>T?new Date(T).toLocaleString():"";return Q.jsxs("div",{style:{border:"1px solid #ddd",padding:"20px",borderRadius:"5px"},children:[Q.jsxs("div",{style:{borderBottom:"1px solid #eee",paddingBottom:"10px"},children:[Q.jsx("h2",{children:m.title}),Q.jsxs("div",{style:{display:"flex",justifyContent:"space-between",color:"#888"},children:[Q.jsxs("span",{children:["작성자: ",m.writer]}),Q.jsxs("span",{children:["작성일: ",x(m.createdDate)]})]})]}),Q.jsx("div",{style:{padding:"20px 0",minHeight:"200px",whiteSpace:"pre-wrap"},children:m.content}),Q.jsxs("div",{style:{borderTop:"1px solid #eee",paddingTop:"10px",textAlign:"right"},children:[Q.jsx("button",{onClick:u,children:"수정"}),Q.jsx("button",{onClick:C,children:"삭제"}),Q.jsx("button",{onClick:b,children:"목록"})]})]})},F_=()=>{const{id:m}=uv(),u=co(),[C,b]=rt.useState(null);rt.useEffect(()=>{(async()=>{try{const R=await Xv(m);b(R.data)}catch(R){console.error("게시글을 불러오는 데 실패했습니다.",R),alert("게시글을 찾을 수 없습니다."),u("/")}})()},[m,u]);const x=async()=>{if(window.confirm("정말로 삭제하시겠습니까?"))try{await k_(m),alert("삭제되었습니다."),u("/")}catch(T){console.error("삭제에 실패했습니다.",T),alert("삭제에 실패했습니다.")}};return C?Q.jsx(j_,{board:C,onEdit:()=>u(`/edit/${m}`),onDelete:x,onList:()=>u("/board")}):Q.jsx("div",{children:"로딩 중..."})},P_=({onSubmit:m,initialData:u,isEdit:C})=>{const[b,x]=rt.useState({title:"",writer:"",content:""}),T=co();rt.useEffect(()=>{C&&u&&x({title:u.title,writer:u.writer,content:u.content})},[C,u]);const R=i=>{const{name:s,value:a}=i.target;x(f=>({...f,[s]:a}))},g=i=>{if(i.preventDefault(),!b.title.trim()){alert("제목을 입력해주세요.");return}if(!C&&!b.writer.trim()){alert("작성자를 입력해주세요.");return}if(!b.content.trim()){alert("내용을 입력해주세요.");return}m(b)},o={display:"flex",flexDirection:"column",gap:"10px"},r={padding:"10px",border:"1px solid #ccc",borderRadius:"4px"},l={display:"flex",justifyContent:"flex-end",gap:"10px",marginTop:"10px"};return Q.jsxs("form",{onSubmit:g,style:o,children:[Q.jsx("h2",{children:C?"게시글 수정":"게시글 작성"}),Q.jsxs("div",{children:[Q.jsx("label",{htmlFor:"title",children:"제목"}),Q.jsx("input",{type:"text",id:"title",name:"title",value:b.title,onChange:R,style:r})]}),Q.jsxs("div",{children:[Q.jsx("label",{htmlFor:"writer",children:"작성자"}),Q.jsx("input",{type:"text",id:"writer",name:"writer",value:b.writer,onChange:R,disabled:C,style:r})]}),Q.jsxs("div",{children:[Q.jsx("label",{htmlFor:"content",children:"내용"}),Q.jsx("textarea",{id:"content",name:"content",value:b.content,onChange:R,rows:"10",style:r})]}),Q.jsxs("div",{style:l,children:[Q.jsx("button",{type:"button",onClick:()=>T(-1),children:"취소"}),Q.jsx("button",{type:"submit",children:C?"수정":"작성"})]})]})},Lp=()=>{const{id:m}=uv(),u=co(),C=!!m,[b,x]=rt.useState(null);rt.useEffect(()=>{C&&(async()=>{try{const g=await Xv(m);x(g.data)}catch(g){console.error("게시글 정보를 불러오는 데 실패했습니다.",g),alert("게시글 정보를 찾을 수 없습니다."),u("/")}})()},[m,C,u]);const T=async R=>{try{if(C)await B_(m,{title:R.title,content:R.content}),alert("수정되었습니다."),u(`/board/${m}`);else{const g=await M_(R);alert("작성되었습니다."),u(`/board/${g.data}`)}}catch(g){console.error("저장에 실패했습니다.",g),alert("저장에 실패했습니다.")}};return C&&!b?Q.jsx("div",{children:"로딩 중..."}):Q.jsx(P_,{onSubmit:T,initialData:b,isEdit:C})};var Hs={exports:{}},Gu,jp;function qv(){if(jp)return Gu;jp=1;var m=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,u=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];Gu=function(T){var R=T,g=T.indexOf("["),o=T.indexOf("]");g!=-1&&o!=-1&&(T=T.substring(0,g)+T.substring(g,o).replace(/:/g,";")+T.substring(o,T.length));for(var r=m.exec(T||""),l={},i=14;i--;)l[u[i]]=r[i]||"";return g!=-1&&o!=-1&&(l.source=R,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l.pathNames=C(l,l.path),l.queryKey=b(l,l.query),l};function C(x,T){var R=/\/{2,9}/g,g=T.replace(R,"/").split("/");return(T.substr(0,1)=="/"||T.length===0)&&g.splice(0,1),T.substr(T.length-1,1)=="/"&&g.splice(g.length-1,1),g}function b(x,T){var R={};return T.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(g,o,r){o&&(R[o]=r)}),R}return Gu}var Ys={exports:{}},Xs={exports:{}},Vu,Fp;function N_(){if(Fp)return Vu;Fp=1;var m=1e3,u=m*60,C=u*60,b=C*24,x=b*365.25;Vu=function(r,l){l=l||{};var i=typeof r;if(i==="string"&&r.length>0)return T(r);if(i==="number"&&isNaN(r)===!1)return l.long?g(r):R(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function T(r){if(r=String(r),!(r.length>100)){var l=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(r);if(l){var i=parseFloat(l[1]),s=(l[2]||"ms").toLowerCase();switch(s){case"years":case"year":case"yrs":case"yr":case"y":return i*x;case"days":case"day":case"d":return i*b;case"hours":case"hour":case"hrs":case"hr":case"h":return i*C;case"minutes":case"minute":case"mins":case"min":case"m":return i*u;case"seconds":case"second":case"secs":case"sec":case"s":return i*m;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}function R(r){return r>=b?Math.round(r/b)+"d":r>=C?Math.round(r/C)+"h":r>=u?Math.round(r/u)+"m":r>=m?Math.round(r/m)+"s":r+"ms"}function g(r){return o(r,b,"day")||o(r,C,"hour")||o(r,u,"minute")||o(r,m,"second")||r+" ms"}function o(r,l,i){if(!(r<l))return r<l*1.5?Math.floor(r/l)+" "+i:Math.ceil(r/l)+" "+i+"s"}return Vu}var Pp;function U_(){return Pp||(Pp=1,(function(m,u){u=m.exports=b.debug=b.default=b,u.coerce=o,u.disable=R,u.enable=T,u.enabled=g,u.humanize=N_(),u.instances=[],u.names=[],u.skips=[],u.formatters={};function C(r){var l=0,i;for(i in r)l=(l<<5)-l+r.charCodeAt(i),l|=0;return u.colors[Math.abs(l)%u.colors.length]}function b(r){var l;function i(){if(i.enabled){var s=i,a=+new Date,f=a-(l||a);s.diff=f,s.prev=l,s.curr=a,l=a;for(var d=new Array(arguments.length),c=0;c<d.length;c++)d[c]=arguments[c];d[0]=u.coerce(d[0]),typeof d[0]!="string"&&d.unshift("%O");var p=0;d[0]=d[0].replace(/%([a-zA-Z%])/g,function(_,w){if(_==="%%")return _;p++;var O=u.formatters[w];if(typeof O=="function"){var M=d[p];_=O.call(s,M),d.splice(p,1),p--}return _}),u.formatArgs.call(s,d);var y=i.log||u.log||console.log.bind(console);y.apply(s,d)}}return i.namespace=r,i.enabled=u.enabled(r),i.useColors=u.useColors(),i.color=C(r),i.destroy=x,typeof u.init=="function"&&u.init(i),u.instances.push(i),i}function x(){var r=u.instances.indexOf(this);return r!==-1?(u.instances.splice(r,1),!0):!1}function T(r){u.save(r),u.names=[],u.skips=[];var l,i=(typeof r=="string"?r:"").split(/[\s,]+/),s=i.length;for(l=0;l<s;l++)i[l]&&(r=i[l].replace(/\*/g,".*?"),r[0]==="-"?u.skips.push(new RegExp("^"+r.substr(1)+"$")):u.names.push(new RegExp("^"+r+"$")));for(l=0;l<u.instances.length;l++){var a=u.instances[l];a.enabled=u.enabled(a.namespace)}}function R(){u.enable("")}function g(r){if(r[r.length-1]==="*")return!0;var l,i;for(l=0,i=u.skips.length;l<i;l++)if(u.skips[l].test(r))return!1;for(l=0,i=u.names.length;l<i;l++)if(u.names[l].test(r))return!0;return!1}function o(r){return r instanceof Error?r.stack||r.message:r}})(Xs,Xs.exports)),Xs.exports}var Np;function bo(){return Np||(Np=1,(function(m,u){var C={};u=m.exports=U_(),u.log=T,u.formatArgs=x,u.save=R,u.load=g,u.useColors=b,u.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:o(),u.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function b(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}u.formatters.j=function(r){try{return JSON.stringify(r)}catch(l){return"[UnexpectedJSONParseError]: "+l.message}};function x(r){var l=this.useColors;if(r[0]=(l?"%c":"")+this.namespace+(l?" %c":" ")+r[0]+(l?"%c ":" ")+"+"+u.humanize(this.diff),!!l){var i="color: "+this.color;r.splice(1,0,i,"color: inherit");var s=0,a=0;r[0].replace(/%[a-zA-Z%]/g,function(f){f!=="%%"&&(s++,f==="%c"&&(a=s))}),r.splice(a,0,i)}}function T(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function R(r){try{r==null?u.storage.removeItem("debug"):u.storage.debug=r}catch{}}function g(){var r;try{r=u.storage.debug}catch{}return!r&&typeof process<"u"&&"env"in process&&(r=C.DEBUG),r}u.enable(g());function o(){try{return window.localStorage}catch{}}})(Ys,Ys.exports)),Ys.exports}var Iu,Up;function z_(){if(Up)return Iu;Up=1;var m=qv(),u=bo()("socket.io-client:url");Iu=C;function C(b,x){var T=b;x=x||typeof location<"u"&&location,b==null&&(b=x.protocol+"//"+x.host),typeof b=="string"&&(b.charAt(0)==="/"&&(b.charAt(1)==="/"?b=x.protocol+b:b=x.host+b),/^(https?|wss?):\/\//.test(b)||(u("protocol-less url %s",b),typeof x<"u"?b=x.protocol+"//"+b:b="https://"+b),u("parse %s",b),T=m(b)),T.port||(/^(http|ws)$/.test(T.protocol)?T.port="80":/^(http|ws)s$/.test(T.protocol)&&(T.port="443")),T.path=T.path||"/";var R=T.host.indexOf(":")!==-1,g=R?"["+T.host+"]":T.host;return T.id=T.protocol+"://"+g+":"+T.port,T.href=T.protocol+"://"+g+(x&&x.port===T.port?"":":"+T.port),T}return Iu}var Wu={},qs={exports:{}},Gs={exports:{}},Ku,zp;function H_(){if(zp)return Ku;zp=1;var m=1e3,u=m*60,C=u*60,b=C*24,x=b*365.25;Ku=function(r,l){l=l||{};var i=typeof r;if(i==="string"&&r.length>0)return T(r);if(i==="number"&&isNaN(r)===!1)return l.long?g(r):R(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function T(r){if(r=String(r),!(r.length>100)){var l=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(r);if(l){var i=parseFloat(l[1]),s=(l[2]||"ms").toLowerCase();switch(s){case"years":case"year":case"yrs":case"yr":case"y":return i*x;case"days":case"day":case"d":return i*b;case"hours":case"hour":case"hrs":case"hr":case"h":return i*C;case"minutes":case"minute":case"mins":case"min":case"m":return i*u;case"seconds":case"second":case"secs":case"sec":case"s":return i*m;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}function R(r){return r>=b?Math.round(r/b)+"d":r>=C?Math.round(r/C)+"h":r>=u?Math.round(r/u)+"m":r>=m?Math.round(r/m)+"s":r+"ms"}function g(r){return o(r,b,"day")||o(r,C,"hour")||o(r,u,"minute")||o(r,m,"second")||r+" ms"}function o(r,l,i){if(!(r<l))return r<l*1.5?Math.floor(r/l)+" "+i:Math.ceil(r/l)+" "+i+"s"}return Ku}var Hp;function Y_(){return Hp||(Hp=1,(function(m,u){u=m.exports=b.debug=b.default=b,u.coerce=o,u.disable=R,u.enable=T,u.enabled=g,u.humanize=H_(),u.instances=[],u.names=[],u.skips=[],u.formatters={};function C(r){var l=0,i;for(i in r)l=(l<<5)-l+r.charCodeAt(i),l|=0;return u.colors[Math.abs(l)%u.colors.length]}function b(r){var l;function i(){if(i.enabled){var s=i,a=+new Date,f=a-(l||a);s.diff=f,s.prev=l,s.curr=a,l=a;for(var d=new Array(arguments.length),c=0;c<d.length;c++)d[c]=arguments[c];d[0]=u.coerce(d[0]),typeof d[0]!="string"&&d.unshift("%O");var p=0;d[0]=d[0].replace(/%([a-zA-Z%])/g,function(_,w){if(_==="%%")return _;p++;var O=u.formatters[w];if(typeof O=="function"){var M=d[p];_=O.call(s,M),d.splice(p,1),p--}return _}),u.formatArgs.call(s,d);var y=i.log||u.log||console.log.bind(console);y.apply(s,d)}}return i.namespace=r,i.enabled=u.enabled(r),i.useColors=u.useColors(),i.color=C(r),i.destroy=x,typeof u.init=="function"&&u.init(i),u.instances.push(i),i}function x(){var r=u.instances.indexOf(this);return r!==-1?(u.instances.splice(r,1),!0):!1}function T(r){u.save(r),u.names=[],u.skips=[];var l,i=(typeof r=="string"?r:"").split(/[\s,]+/),s=i.length;for(l=0;l<s;l++)i[l]&&(r=i[l].replace(/\*/g,".*?"),r[0]==="-"?u.skips.push(new RegExp("^"+r.substr(1)+"$")):u.names.push(new RegExp("^"+r+"$")));for(l=0;l<u.instances.length;l++){var a=u.instances[l];a.enabled=u.enabled(a.namespace)}}function R(){u.enable("")}function g(r){if(r[r.length-1]==="*")return!0;var l,i;for(l=0,i=u.skips.length;l<i;l++)if(u.skips[l].test(r))return!1;for(l=0,i=u.names.length;l<i;l++)if(u.names[l].test(r))return!0;return!1}function o(r){return r instanceof Error?r.stack||r.message:r}})(Gs,Gs.exports)),Gs.exports}var Yp;function X_(){return Yp||(Yp=1,(function(m,u){var C={};u=m.exports=Y_(),u.log=T,u.formatArgs=x,u.save=R,u.load=g,u.useColors=b,u.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:o(),u.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function b(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}u.formatters.j=function(r){try{return JSON.stringify(r)}catch(l){return"[UnexpectedJSONParseError]: "+l.message}};function x(r){var l=this.useColors;if(r[0]=(l?"%c":"")+this.namespace+(l?" %c":" ")+r[0]+(l?"%c ":" ")+"+"+u.humanize(this.diff),!!l){var i="color: "+this.color;r.splice(1,0,i,"color: inherit");var s=0,a=0;r[0].replace(/%[a-zA-Z%]/g,function(f){f!=="%%"&&(s++,f==="%c"&&(a=s))}),r.splice(a,0,i)}}function T(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function R(r){try{r==null?u.storage.removeItem("debug"):u.storage.debug=r}catch{}}function g(){var r;try{r=u.storage.debug}catch{}return!r&&typeof process<"u"&&"env"in process&&(r=C.DEBUG),r}u.enable(g());function o(){try{return window.localStorage}catch{}}})(qs,qs.exports)),qs.exports}var Qu={exports:{}},Xp;function gr(){return Xp||(Xp=1,(function(m){m.exports=u;function u(b){if(b)return C(b)}function C(b){for(var x in u.prototype)b[x]=u.prototype[x];return b}u.prototype.on=u.prototype.addEventListener=function(b,x){return this._callbacks=this._callbacks||{},(this._callbacks["$"+b]=this._callbacks["$"+b]||[]).push(x),this},u.prototype.once=function(b,x){function T(){this.off(b,T),x.apply(this,arguments)}return T.fn=x,this.on(b,T),this},u.prototype.off=u.prototype.removeListener=u.prototype.removeAllListeners=u.prototype.removeEventListener=function(b,x){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var T=this._callbacks["$"+b];if(!T)return this;if(arguments.length==1)return delete this._callbacks["$"+b],this;for(var R,g=0;g<T.length;g++)if(R=T[g],R===x||R.fn===x){T.splice(g,1);break}return T.length===0&&delete this._callbacks["$"+b],this},u.prototype.emit=function(b){this._callbacks=this._callbacks||{};for(var x=new Array(arguments.length-1),T=this._callbacks["$"+b],R=1;R<arguments.length;R++)x[R-1]=arguments[R];if(T){T=T.slice(0);for(var R=0,g=T.length;R<g;++R)T[R].apply(this,x)}return this},u.prototype.listeners=function(b){return this._callbacks=this._callbacks||{},this._callbacks["$"+b]||[]},u.prototype.hasListeners=function(b){return!!this.listeners(b).length}})(Qu)),Qu.exports}var pa={},Zu,qp;function cf(){if(qp)return Zu;qp=1;var m={}.toString;return Zu=Array.isArray||function(u){return m.call(u)=="[object Array]"},Zu}var Ju,Gp;function Gv(){if(Gp)return Ju;Gp=1,Ju=b;var m=typeof Buffer=="function"&&typeof Buffer.isBuffer=="function",u=typeof ArrayBuffer=="function",C=function(x){return typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(x):x.buffer instanceof ArrayBuffer};function b(x){return m&&Buffer.isBuffer(x)||u&&(x instanceof ArrayBuffer||C(x))}return Ju}var Vp;function q_(){if(Vp)return pa;Vp=1;var m=cf(),u=Gv(),C=Object.prototype.toString,b=typeof Blob=="function"||typeof Blob<"u"&&C.call(Blob)==="[object BlobConstructor]",x=typeof File=="function"||typeof File<"u"&&C.call(File)==="[object FileConstructor]";pa.deconstructPacket=function(g){var o=[],r=g.data,l=g;return l.data=T(r,o),l.attachments=o.length,{packet:l,buffers:o}};function T(g,o){if(!g)return g;if(u(g)){var r={_placeholder:!0,num:o.length};return o.push(g),r}else if(m(g)){for(var l=new Array(g.length),i=0;i<g.length;i++)l[i]=T(g[i],o);return l}else if(typeof g=="object"&&!(g instanceof Date)){var l={};for(var s in g)l[s]=T(g[s],o);return l}return g}pa.reconstructPacket=function(g,o){return g.data=R(g.data,o),g.attachments=void 0,g};function R(g,o){if(!g)return g;if(g&&g._placeholder===!0){var r=typeof g.num=="number"&&g.num>=0&&g.num<o.length;if(r)return o[g.num];throw new Error("illegal attachments")}else if(m(g))for(var l=0;l<g.length;l++)g[l]=R(g[l],o);else if(typeof g=="object")for(var i in g)g[i]=R(g[i],o);return g}return pa.removeBlobs=function(g,o){function r(s,a,f){if(!s)return s;if(b&&s instanceof Blob||x&&s instanceof File){l++;var d=new FileReader;d.onload=function(){f?f[a]=this.result:i=this.result,--l||o(i)},d.readAsArrayBuffer(s)}else if(m(s))for(var c=0;c<s.length;c++)r(s[c],c,s);else if(typeof s=="object"&&!u(s))for(var p in s)r(s[p],p,s)}var l=0,i=g;r(i),l||o(i)},pa}var Ip;function ff(){return Ip||(Ip=1,(function(m){var u=X_()("socket.io-parser"),C=gr(),b=q_(),x=cf(),T=Gv();m.protocol=4,m.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],m.CONNECT=0,m.DISCONNECT=1,m.EVENT=2,m.ACK=3,m.ERROR=4,m.BINARY_EVENT=5,m.BINARY_ACK=6,m.Encoder=R,m.Decoder=i;function R(){}var g=m.ERROR+'"encode error"';R.prototype.encode=function(p,y){if(u("encoding packet %j",p),m.BINARY_EVENT===p.type||m.BINARY_ACK===p.type)l(p,y);else{var _=o(p);y([_])}};function o(p){var y=""+p.type;if((m.BINARY_EVENT===p.type||m.BINARY_ACK===p.type)&&(y+=p.attachments+"-"),p.nsp&&p.nsp!=="/"&&(y+=p.nsp+","),p.id!=null&&(y+=p.id),p.data!=null){var _=r(p.data);if(_!==!1)y+=_;else return g}return u("encoded %j as %s",p,y),y}function r(p){try{return JSON.stringify(p)}catch{return!1}}function l(p,y){function _(w){var O=b.deconstructPacket(w),M=o(O.packet),j=O.buffers;j.unshift(M),y(j)}b.removeBlobs(p,_)}function i(){this.reconstructor=null}C(i.prototype),i.prototype.add=function(p){var y;if(typeof p=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");y=a(p),m.BINARY_EVENT===y.type||m.BINARY_ACK===y.type?(this.reconstructor=new d(y),this.reconstructor.reconPack.attachments===0&&this.emit("decoded",y)):this.emit("decoded",y)}else if(T(p)||p.base64)if(this.reconstructor)y=this.reconstructor.takeBinaryData(p),y&&(this.reconstructor=null,this.emit("decoded",y));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+p)};function s(p,y){switch(p){case 0:return typeof y=="object";case 1:return y===void 0;case 4:return typeof y=="string"||typeof y=="object";case 2:case 5:return x(y)&&(typeof y[0]=="string"||typeof y[0]=="number");case 3:case 6:return x(y)}}function a(p){var y=0,_={type:Number(p.charAt(0))};if(m.types[_.type]==null)return c("unknown packet type "+_.type);if(m.BINARY_EVENT===_.type||m.BINARY_ACK===_.type){for(var w=y+1;p.charAt(++y)!=="-"&&y!=p.length;);var O=p.substring(w,y);if(O!=Number(O)||p.charAt(y)!=="-")throw new Error("Illegal attachments");_.attachments=Number(O)}if(p.charAt(y+1)==="/"){for(var w=y+1;++y;){var M=p.charAt(y);if(M===","||y===p.length)break}_.nsp=p.substring(w,y)}else _.nsp="/";var j=p.charAt(y+1);if(j!==""&&Number(j)==j){for(var w=y+1;++y;){var M=p.charAt(y);if(M==null||Number(M)!=M){--y;break}if(y===p.length)break}_.id=Number(p.substring(w,y+1))}if(p.charAt(++y)){var U=f(p.substr(y));if(s(_.type,U))_.data=U;else throw new Error("invalid payload")}return u("decoded %s as %j",p,_),_}function f(p){try{return JSON.parse(p)}catch{return!1}}i.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()};function d(p){this.reconPack=p,this.buffers=[]}d.prototype.takeBinaryData=function(p){if(this.buffers.push(p),this.buffers.length===this.reconPack.attachments){var y=b.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),y}return null},d.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]};function c(p){return{type:m.ERROR,data:"parser error: "+p}}})(Wu)),Wu}var Vs={exports:{}},Is={},Ws={exports:{}},Wp;function G_(){if(Wp)return Ws.exports;Wp=1;try{Ws.exports=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{Ws.exports=!1}return Ws.exports}var $u,Kp;function hf(){return Kp||(Kp=1,$u=(function(){return typeof self<"u"?self:typeof window<"u"?window:Function("return this")()})()),$u}var tc,Qp;function df(){if(Qp)return tc;Qp=1;var m=G_(),u=hf();return tc=function(C){var b=C.xdomain,x=C.xscheme,T=C.enablesXDR;try{if(typeof XMLHttpRequest<"u"&&(!b||m))return new XMLHttpRequest}catch{}try{if(typeof XDomainRequest<"u"&&!x&&T)return new XDomainRequest}catch{}if(!b)try{return new u[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}},tc}var Ks={exports:{}},ec={},ic,Zp;function V_(){return Zp||(Zp=1,ic=Object.keys||function(u){var C=[],b=Object.prototype.hasOwnProperty;for(var x in u)b.call(u,x)&&C.push(x);return C}),ic}var nc,Jp;function Vv(){if(Jp)return nc;Jp=1;var m=cf(),u=Object.prototype.toString,C=typeof Blob=="function"||typeof Blob<"u"&&u.call(Blob)==="[object BlobConstructor]",b=typeof File=="function"||typeof File<"u"&&u.call(File)==="[object FileConstructor]";nc=x;function x(T){if(!T||typeof T!="object")return!1;if(m(T)){for(var R=0,g=T.length;R<g;R++)if(x(T[R]))return!0;return!1}if(typeof Buffer=="function"&&Buffer.isBuffer&&Buffer.isBuffer(T)||typeof ArrayBuffer=="function"&&T instanceof ArrayBuffer||C&&T instanceof Blob||b&&T instanceof File)return!0;if(T.toJSON&&typeof T.toJSON=="function"&&arguments.length===1)return x(T.toJSON(),!0);for(var o in T)if(Object.prototype.hasOwnProperty.call(T,o)&&x(T[o]))return!0;return!1}return nc}var rc,$p;function I_(){return $p||($p=1,rc=function(m,u,C){var b=m.byteLength;if(u=u||0,C=C||b,m.slice)return m.slice(u,C);if(u<0&&(u+=b),C<0&&(C+=b),C>b&&(C=b),u>=b||u>=C||b===0)return new ArrayBuffer(0);for(var x=new Uint8Array(m),T=new Uint8Array(C-u),R=u,g=0;R<C;R++,g++)T[g]=x[R];return T.buffer}),rc}var ac,tm;function W_(){if(tm)return ac;tm=1,ac=m;function m(C,b,x){var T=!1;return x=x||u,R.count=C,C===0?b():R;function R(g,o){if(R.count<=0)throw new Error("after called too many times");--R.count,g?(T=!0,b(g),b=x):R.count===0&&!T&&b(null,o)}}function u(){}return ac}/*! https://mths.be/utf8js v2.1.2 by @mathias */var sc,em;function K_(){if(em)return sc;em=1;var m=String.fromCharCode;function u(a){for(var f=[],d=0,c=a.length,p,y;d<c;)p=a.charCodeAt(d++),p>=55296&&p<=56319&&d<c?(y=a.charCodeAt(d++),(y&64512)==56320?f.push(((p&1023)<<10)+(y&1023)+65536):(f.push(p),d--)):f.push(p);return f}function C(a){for(var f=a.length,d=-1,c,p="";++d<f;)c=a[d],c>65535&&(c-=65536,p+=m(c>>>10&1023|55296),c=56320|c&1023),p+=m(c);return p}function b(a,f){if(a>=55296&&a<=57343){if(f)throw Error("Lone surrogate U+"+a.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function x(a,f){return m(a>>f&63|128)}function T(a,f){if((a&4294967168)==0)return m(a);var d="";return(a&4294965248)==0?d=m(a>>6&31|192):(a&4294901760)==0?(b(a,f)||(a=65533),d=m(a>>12&15|224),d+=x(a,6)):(a&4292870144)==0&&(d=m(a>>18&7|240),d+=x(a,12),d+=x(a,6)),d+=m(a&63|128),d}function R(a,f){f=f||{};for(var d=f.strict!==!1,c=u(a),p=c.length,y=-1,_,w="";++y<p;)_=c[y],w+=T(_,d);return w}function g(){if(i>=l)throw Error("Invalid byte index");var a=r[i]&255;if(i++,(a&192)==128)return a&63;throw Error("Invalid continuation byte")}function o(a){var f,d,c,p,y;if(i>l)throw Error("Invalid byte index");if(i==l)return!1;if(f=r[i]&255,i++,(f&128)==0)return f;if((f&224)==192){if(d=g(),y=(f&31)<<6|d,y>=128)return y;throw Error("Invalid continuation byte")}if((f&240)==224){if(d=g(),c=g(),y=(f&15)<<12|d<<6|c,y>=2048)return b(y,a)?y:65533;throw Error("Invalid continuation byte")}if((f&248)==240&&(d=g(),c=g(),p=g(),y=(f&7)<<18|d<<12|c<<6|p,y>=65536&&y<=1114111))return y;throw Error("Invalid UTF-8 detected")}var r,l,i;function s(a,f){f=f||{};var d=f.strict!==!1;r=u(a),l=r.length,i=0;for(var c=[],p;(p=o(d))!==!1;)c.push(p);return C(c)}return sc={version:"2.1.2",encode:R,decode:s},sc}var Qs={},im;function Q_(){return im||(im=1,(function(m){Qs.encode=function(u){var C=new Uint8Array(u),b,x=C.length,T="";for(b=0;b<x;b+=3)T+=m[C[b]>>2],T+=m[(C[b]&3)<<4|C[b+1]>>4],T+=m[(C[b+1]&15)<<2|C[b+2]>>6],T+=m[C[b+2]&63];return x%3===2?T=T.substring(0,T.length-1)+"=":x%3===1&&(T=T.substring(0,T.length-2)+"=="),T},Qs.decode=function(u){var C=u.length*.75,b=u.length,x,T=0,R,g,o,r;u[u.length-1]==="="&&(C--,u[u.length-2]==="="&&C--);var l=new ArrayBuffer(C),i=new Uint8Array(l);for(x=0;x<b;x+=4)R=m.indexOf(u[x]),g=m.indexOf(u[x+1]),o=m.indexOf(u[x+2]),r=m.indexOf(u[x+3]),i[T++]=R<<2|g>>4,i[T++]=(g&15)<<4|o>>2,i[T++]=(o&3)<<6|r&63;return l}})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")),Qs}var oc,nm;function Z_(){if(nm)return oc;nm=1;var m=typeof m<"u"?m:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:!1,u=(function(){try{var g=new Blob(["hi"]);return g.size===2}catch{return!1}})(),C=u&&(function(){try{var g=new Blob([new Uint8Array([1,2])]);return g.size===2}catch{return!1}})(),b=m&&m.prototype.append&&m.prototype.getBlob;function x(g){return g.map(function(o){if(o.buffer instanceof ArrayBuffer){var r=o.buffer;if(o.byteLength!==r.byteLength){var l=new Uint8Array(o.byteLength);l.set(new Uint8Array(r,o.byteOffset,o.byteLength)),r=l.buffer}return r}return o})}function T(g,o){o=o||{};var r=new m;return x(g).forEach(function(l){r.append(l)}),o.type?r.getBlob(o.type):r.getBlob()}function R(g,o){return new Blob(x(g),o||{})}return typeof Blob<"u"&&(T.prototype=Blob.prototype,R.prototype=Blob.prototype),oc=(function(){return u?C?Blob:R:b?T:void 0})(),oc}var rm;function cr(){return rm||(rm=1,(function(m){var u=V_(),C=Vv(),b=I_(),x=W_(),T=K_(),R;typeof ArrayBuffer<"u"&&(R=Q_());var g=typeof navigator<"u"&&/Android/i.test(navigator.userAgent),o=typeof navigator<"u"&&/PhantomJS/i.test(navigator.userAgent),r=g||o;m.protocol=3;var l=m.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},i=u(l),s={type:"error",data:"parser error"},a=Z_();m.encodePacket=function(w,O,M,j){typeof O=="function"&&(j=O,O=!1),typeof M=="function"&&(j=M,M=null);var U=w.data===void 0?void 0:w.data.buffer||w.data;if(typeof ArrayBuffer<"u"&&U instanceof ArrayBuffer)return d(w,O,j);if(typeof a<"u"&&U instanceof a)return p(w,O,j);if(U&&U.base64)return f(w,j);var Y=l[w.type];return w.data!==void 0&&(Y+=M?T.encode(String(w.data),{strict:!1}):String(w.data)),j(""+Y)};function f(w,O){var M="b"+m.packets[w.type]+w.data.data;return O(M)}function d(w,O,M){if(!O)return m.encodeBase64Packet(w,M);var j=w.data,U=new Uint8Array(j),Y=new Uint8Array(1+j.byteLength);Y[0]=l[w.type];for(var W=0;W<U.length;W++)Y[W+1]=U[W];return M(Y.buffer)}function c(w,O,M){if(!O)return m.encodeBase64Packet(w,M);var j=new FileReader;return j.onload=function(){m.encodePacket({type:w.type,data:j.result},O,!0,M)},j.readAsArrayBuffer(w.data)}function p(w,O,M){if(!O)return m.encodeBase64Packet(w,M);if(r)return c(w,O,M);var j=new Uint8Array(1);j[0]=l[w.type];var U=new a([j.buffer,w.data]);return M(U)}m.encodeBase64Packet=function(w,O){var M="b"+m.packets[w.type];if(typeof a<"u"&&w.data instanceof a){var j=new FileReader;return j.onload=function(){var lt=j.result.split(",")[1];O(M+lt)},j.readAsDataURL(w.data)}var U;try{U=String.fromCharCode.apply(null,new Uint8Array(w.data))}catch{for(var Y=new Uint8Array(w.data),W=new Array(Y.length),it=0;it<Y.length;it++)W[it]=Y[it];U=String.fromCharCode.apply(null,W)}return M+=btoa(U),O(M)},m.decodePacket=function(w,O,M){if(w===void 0)return s;if(typeof w=="string"){if(w.charAt(0)==="b")return m.decodeBase64Packet(w.substr(1),O);if(M&&(w=y(w),w===!1))return s;var U=w.charAt(0);return Number(U)!=U||!i[U]?s:w.length>1?{type:i[U],data:w.substring(1)}:{type:i[U]}}var j=new Uint8Array(w),U=j[0],Y=b(w,1);return a&&O==="blob"&&(Y=new a([Y])),{type:i[U],data:Y}};function y(w){try{w=T.decode(w,{strict:!1})}catch{return!1}return w}m.decodeBase64Packet=function(w,O){var M=i[w.charAt(0)];if(!R)return{type:M,data:{base64:!0,data:w.substr(1)}};var j=R.decode(w.substr(1));return O==="blob"&&a&&(j=new a([j])),{type:M,data:j}},m.encodePayload=function(w,O,M){typeof O=="function"&&(M=O,O=null);var j=C(w);if(O&&j)return a&&!r?m.encodePayloadAsBlob(w,M):m.encodePayloadAsArrayBuffer(w,M);if(!w.length)return M("0:");function U(W){return W.length+":"+W}function Y(W,it){m.encodePacket(W,j?O:!1,!1,function(lt){it(null,U(lt))})}_(w,Y,function(W,it){return M(it.join(""))})};function _(w,O,M){for(var j=new Array(w.length),U=x(w.length,M),Y=function(it,lt,gt){O(lt,function(ut,ft){j[it]=ft,gt(ut,j)})},W=0;W<w.length;W++)Y(W,w[W],U)}m.decodePayload=function(w,O,M){if(typeof w!="string")return m.decodePayloadAsBinary(w,O,M);typeof O=="function"&&(M=O,O=null);var j;if(w==="")return M(s,0,1);for(var U="",Y,W,it=0,lt=w.length;it<lt;it++){var gt=w.charAt(it);if(gt!==":"){U+=gt;continue}if(U===""||U!=(Y=Number(U))||(W=w.substr(it+1,Y),U!=W.length))return M(s,0,1);if(W.length){if(j=m.decodePacket(W,O,!1),s.type===j.type&&s.data===j.data)return M(s,0,1);var ut=M(j,it+Y,lt);if(ut===!1)return}it+=Y,U=""}if(U!=="")return M(s,0,1)},m.encodePayloadAsArrayBuffer=function(w,O){if(!w.length)return O(new ArrayBuffer(0));function M(j,U){m.encodePacket(j,!0,!0,function(Y){return U(null,Y)})}_(w,M,function(j,U){var Y=U.reduce(function(lt,gt){var ut;return typeof gt=="string"?ut=gt.length:ut=gt.byteLength,lt+ut.toString().length+ut+2},0),W=new Uint8Array(Y),it=0;return U.forEach(function(lt){var gt=typeof lt=="string",ut=lt;if(gt){for(var et=new Uint8Array(lt.length),ft=0;ft<lt.length;ft++)et[ft]=lt.charCodeAt(ft);ut=et.buffer}gt?W[it++]=0:W[it++]=1;for(var G=ut.byteLength.toString(),ft=0;ft<G.length;ft++)W[it++]=parseInt(G[ft]);W[it++]=255;for(var et=new Uint8Array(ut),ft=0;ft<et.length;ft++)W[it++]=et[ft]}),O(W.buffer)})},m.encodePayloadAsBlob=function(w,O){function M(j,U){m.encodePacket(j,!0,!0,function(Y){var W=new Uint8Array(1);if(W[0]=1,typeof Y=="string"){for(var it=new Uint8Array(Y.length),lt=0;lt<Y.length;lt++)it[lt]=Y.charCodeAt(lt);Y=it.buffer,W[0]=0}for(var gt=Y instanceof ArrayBuffer?Y.byteLength:Y.size,ut=gt.toString(),ft=new Uint8Array(ut.length+1),lt=0;lt<ut.length;lt++)ft[lt]=parseInt(ut[lt]);if(ft[ut.length]=255,a){var G=new a([W.buffer,ft.buffer,Y]);U(null,G)}})}_(w,M,function(j,U){return O(new a(U))})},m.decodePayloadAsBinary=function(w,O,M){typeof O=="function"&&(M=O,O=null);for(var j=w,U=[];j.byteLength>0;){for(var Y=new Uint8Array(j),W=Y[0]===0,it="",lt=1;Y[lt]!==255;lt++){if(it.length>310)return M(s,0,1);it+=Y[lt]}j=b(j,2+it.length),it=parseInt(it);var gt=b(j,0,it);if(W)try{gt=String.fromCharCode.apply(null,new Uint8Array(gt))}catch{var ut=new Uint8Array(gt);gt="";for(var lt=0;lt<ut.length;lt++)gt+=String.fromCharCode(ut[lt])}U.push(gt),j=b(j,it)}var ft=U.length;U.forEach(function(G,et){M(m.decodePacket(G,O,!0),et,ft)})}})(ec)),ec}var lc,am;function gf(){if(am)return lc;am=1;var m=cr(),u=gr();lc=C;function C(b){this.path=b.path,this.hostname=b.hostname,this.port=b.port,this.secure=b.secure,this.query=b.query,this.timestampParam=b.timestampParam,this.timestampRequests=b.timestampRequests,this.readyState="",this.agent=b.agent||!1,this.socket=b.socket,this.enablesXDR=b.enablesXDR,this.withCredentials=b.withCredentials,this.pfx=b.pfx,this.key=b.key,this.passphrase=b.passphrase,this.cert=b.cert,this.ca=b.ca,this.ciphers=b.ciphers,this.rejectUnauthorized=b.rejectUnauthorized,this.forceNode=b.forceNode,this.isReactNative=b.isReactNative,this.extraHeaders=b.extraHeaders,this.localAddress=b.localAddress}return u(C.prototype),C.prototype.onError=function(b,x){var T=new Error(b);return T.type="TransportError",T.description=x,this.emit("error",T),this},C.prototype.open=function(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this},C.prototype.close=function(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this},C.prototype.send=function(b){if(this.readyState==="open")this.write(b);else throw new Error("Transport not open")},C.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},C.prototype.onData=function(b){var x=m.decodePacket(b,this.socket.binaryType);this.onPacket(x)},C.prototype.onPacket=function(b){this.emit("packet",b)},C.prototype.onClose=function(){this.readyState="closed",this.emit("close")},lc}var Zs={},sm;function Co(){return sm||(sm=1,Zs.encode=function(m){var u="";for(var C in m)m.hasOwnProperty(C)&&(u.length&&(u+="&"),u+=encodeURIComponent(C)+"="+encodeURIComponent(m[C]));return u},Zs.decode=function(m){for(var u={},C=m.split("&"),b=0,x=C.length;b<x;b++){var T=C[b].split("=");u[decodeURIComponent(T[0])]=decodeURIComponent(T[1])}return u}),Zs}var uc,om;function So(){return om||(om=1,uc=function(m,u){var C=function(){};C.prototype=u.prototype,m.prototype=new C,m.prototype.constructor=m}),uc}var cc,lm;function Iv(){if(lm)return cc;lm=1;var m="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),u=64,C={},b=0,x=0,T;function R(r){var l="";do l=m[r%u]+l,r=Math.floor(r/u);while(r>0);return l}function g(r){var l=0;for(x=0;x<r.length;x++)l=l*u+C[r.charAt(x)];return l}function o(){var r=R(+new Date);return r!==T?(b=0,T=r):r+"."+R(b++)}for(;x<u;x++)C[m[x]]=x;return o.encode=R,o.decode=g,cc=o,cc}var Js={exports:{}},$s={exports:{}},fc,um;function J_(){if(um)return fc;um=1;var m=1e3,u=m*60,C=u*60,b=C*24,x=b*365.25;fc=function(r,l){l=l||{};var i=typeof r;if(i==="string"&&r.length>0)return T(r);if(i==="number"&&isNaN(r)===!1)return l.long?g(r):R(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function T(r){if(r=String(r),!(r.length>100)){var l=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(r);if(l){var i=parseFloat(l[1]),s=(l[2]||"ms").toLowerCase();switch(s){case"years":case"year":case"yrs":case"yr":case"y":return i*x;case"days":case"day":case"d":return i*b;case"hours":case"hour":case"hrs":case"hr":case"h":return i*C;case"minutes":case"minute":case"mins":case"min":case"m":return i*u;case"seconds":case"second":case"secs":case"sec":case"s":return i*m;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}function R(r){return r>=b?Math.round(r/b)+"d":r>=C?Math.round(r/C)+"h":r>=u?Math.round(r/u)+"m":r>=m?Math.round(r/m)+"s":r+"ms"}function g(r){return o(r,b,"day")||o(r,C,"hour")||o(r,u,"minute")||o(r,m,"second")||r+" ms"}function o(r,l,i){if(!(r<l))return r<l*1.5?Math.floor(r/l)+" "+i:Math.ceil(r/l)+" "+i+"s"}return fc}var cm;function $_(){return cm||(cm=1,(function(m,u){u=m.exports=b.debug=b.default=b,u.coerce=o,u.disable=R,u.enable=T,u.enabled=g,u.humanize=J_(),u.instances=[],u.names=[],u.skips=[],u.formatters={};function C(r){var l=0,i;for(i in r)l=(l<<5)-l+r.charCodeAt(i),l|=0;return u.colors[Math.abs(l)%u.colors.length]}function b(r){var l;function i(){if(i.enabled){var s=i,a=+new Date,f=a-(l||a);s.diff=f,s.prev=l,s.curr=a,l=a;for(var d=new Array(arguments.length),c=0;c<d.length;c++)d[c]=arguments[c];d[0]=u.coerce(d[0]),typeof d[0]!="string"&&d.unshift("%O");var p=0;d[0]=d[0].replace(/%([a-zA-Z%])/g,function(_,w){if(_==="%%")return _;p++;var O=u.formatters[w];if(typeof O=="function"){var M=d[p];_=O.call(s,M),d.splice(p,1),p--}return _}),u.formatArgs.call(s,d);var y=i.log||u.log||console.log.bind(console);y.apply(s,d)}}return i.namespace=r,i.enabled=u.enabled(r),i.useColors=u.useColors(),i.color=C(r),i.destroy=x,typeof u.init=="function"&&u.init(i),u.instances.push(i),i}function x(){var r=u.instances.indexOf(this);return r!==-1?(u.instances.splice(r,1),!0):!1}function T(r){u.save(r),u.names=[],u.skips=[];var l,i=(typeof r=="string"?r:"").split(/[\s,]+/),s=i.length;for(l=0;l<s;l++)i[l]&&(r=i[l].replace(/\*/g,".*?"),r[0]==="-"?u.skips.push(new RegExp("^"+r.substr(1)+"$")):u.names.push(new RegExp("^"+r+"$")));for(l=0;l<u.instances.length;l++){var a=u.instances[l];a.enabled=u.enabled(a.namespace)}}function R(){u.enable("")}function g(r){if(r[r.length-1]==="*")return!0;var l,i;for(l=0,i=u.skips.length;l<i;l++)if(u.skips[l].test(r))return!1;for(l=0,i=u.names.length;l<i;l++)if(u.names[l].test(r))return!0;return!1}function o(r){return r instanceof Error?r.stack||r.message:r}})($s,$s.exports)),$s.exports}var fm;function _o(){return fm||(fm=1,(function(m,u){var C={};u=m.exports=$_(),u.log=T,u.formatArgs=x,u.save=R,u.load=g,u.useColors=b,u.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:o(),u.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function b(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}u.formatters.j=function(r){try{return JSON.stringify(r)}catch(l){return"[UnexpectedJSONParseError]: "+l.message}};function x(r){var l=this.useColors;if(r[0]=(l?"%c":"")+this.namespace+(l?" %c":" ")+r[0]+(l?"%c ":" ")+"+"+u.humanize(this.diff),!!l){var i="color: "+this.color;r.splice(1,0,i,"color: inherit");var s=0,a=0;r[0].replace(/%[a-zA-Z%]/g,function(f){f!=="%%"&&(s++,f==="%c"&&(a=s))}),r.splice(a,0,i)}}function T(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function R(r){try{r==null?u.storage.removeItem("debug"):u.storage.debug=r}catch{}}function g(){var r;try{r=u.storage.debug}catch{}return!r&&typeof process<"u"&&"env"in process&&(r=C.DEBUG),r}u.enable(g());function o(){try{return window.localStorage}catch{}}})(Js,Js.exports)),Js.exports}var hc,hm;function Wv(){if(hm)return hc;hm=1;var m=gf(),u=Co(),C=cr(),b=So(),x=Iv(),T=_o()("engine.io-client:polling");hc=g;var R=(function(){var o=df(),r=new o({xdomain:!1});return r.responseType!=null})();function g(o){var r=o&&o.forceBase64;(!R||r)&&(this.supportsBinary=!1),m.call(this,o)}return b(g,m),g.prototype.name="polling",g.prototype.doOpen=function(){this.poll()},g.prototype.pause=function(o){var r=this;this.readyState="pausing";function l(){T("paused"),r.readyState="paused",o()}if(this.polling||!this.writable){var i=0;this.polling&&(T("we are currently polling - waiting to pause"),i++,this.once("pollComplete",function(){T("pre-pause polling complete"),--i||l()})),this.writable||(T("we are currently writing - waiting to pause"),i++,this.once("drain",function(){T("pre-pause writing complete"),--i||l()}))}else l()},g.prototype.poll=function(){T("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},g.prototype.onData=function(o){var r=this;T("polling got data %s",o);var l=function(i,s,a){if(r.readyState==="opening"&&i.type==="open"&&r.onOpen(),i.type==="close")return r.onClose(),!1;r.onPacket(i)};C.decodePayload(o,this.socket.binaryType,l),this.readyState!=="closed"&&(this.polling=!1,this.emit("pollComplete"),this.readyState==="open"?this.poll():T('ignoring poll - transport state "%s"',this.readyState))},g.prototype.doClose=function(){var o=this;function r(){T("writing close packet"),o.write([{type:"close"}])}this.readyState==="open"?(T("transport open - closing"),r()):(T("transport not open - deferring close"),this.once("open",r))},g.prototype.write=function(o){var r=this;this.writable=!1;var l=function(){r.writable=!0,r.emit("drain")};C.encodePayload(o,this.supportsBinary,function(i){r.doWrite(i,l)})},g.prototype.uri=function(){var o=this.query||{},r=this.secure?"https":"http",l="";this.timestampRequests!==!1&&(o[this.timestampParam]=x()),!this.supportsBinary&&!o.sid&&(o.b64=1),o=u.encode(o),this.port&&(r==="https"&&Number(this.port)!==443||r==="http"&&Number(this.port)!==80)&&(l=":"+this.port),o.length&&(o="?"+o);var i=this.hostname.indexOf(":")!==-1;return r+"://"+(i?"["+this.hostname+"]":this.hostname)+l+this.path+o},hc}var dm;function t1(){if(dm)return Ks.exports;dm=1;var m=df(),u=Wv(),C=gr(),b=So(),x=_o()("engine.io-client:polling-xhr"),T=hf();Ks.exports=g,Ks.exports.Request=o;function R(){}function g(i){if(u.call(this,i),this.requestTimeout=i.requestTimeout,this.extraHeaders=i.extraHeaders,typeof location<"u"){var s=location.protocol==="https:",a=location.port;a||(a=s?443:80),this.xd=typeof location<"u"&&i.hostname!==location.hostname||a!==i.port,this.xs=i.secure!==s}}b(g,u),g.prototype.supportsBinary=!0,g.prototype.request=function(i){return i=i||{},i.uri=this.uri(),i.xd=this.xd,i.xs=this.xs,i.agent=this.agent||!1,i.supportsBinary=this.supportsBinary,i.enablesXDR=this.enablesXDR,i.withCredentials=this.withCredentials,i.pfx=this.pfx,i.key=this.key,i.passphrase=this.passphrase,i.cert=this.cert,i.ca=this.ca,i.ciphers=this.ciphers,i.rejectUnauthorized=this.rejectUnauthorized,i.requestTimeout=this.requestTimeout,i.extraHeaders=this.extraHeaders,new o(i)},g.prototype.doWrite=function(i,s){var a=typeof i!="string"&&i!==void 0,f=this.request({method:"POST",data:i,isBinary:a}),d=this;f.on("success",s),f.on("error",function(c){d.onError("xhr post error",c)}),this.sendXhr=f},g.prototype.doPoll=function(){x("xhr poll");var i=this.request(),s=this;i.on("data",function(a){s.onData(a)}),i.on("error",function(a){s.onError("xhr poll error",a)}),this.pollXhr=i};function o(i){this.method=i.method||"GET",this.uri=i.uri,this.xd=!!i.xd,this.xs=!!i.xs,this.async=i.async!==!1,this.data=i.data!==void 0?i.data:null,this.agent=i.agent,this.isBinary=i.isBinary,this.supportsBinary=i.supportsBinary,this.enablesXDR=i.enablesXDR,this.withCredentials=i.withCredentials,this.requestTimeout=i.requestTimeout,this.pfx=i.pfx,this.key=i.key,this.passphrase=i.passphrase,this.cert=i.cert,this.ca=i.ca,this.ciphers=i.ciphers,this.rejectUnauthorized=i.rejectUnauthorized,this.extraHeaders=i.extraHeaders,this.create()}if(C(o.prototype),o.prototype.create=function(){var i={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};i.pfx=this.pfx,i.key=this.key,i.passphrase=this.passphrase,i.cert=this.cert,i.ca=this.ca,i.ciphers=this.ciphers,i.rejectUnauthorized=this.rejectUnauthorized;var s=this.xhr=new m(i),a=this;try{x("xhr open %s: %s",this.method,this.uri),s.open(this.method,this.uri,this.async);try{if(this.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(var f in this.extraHeaders)this.extraHeaders.hasOwnProperty(f)&&s.setRequestHeader(f,this.extraHeaders[f])}}catch{}if(this.method==="POST")try{this.isBinary?s.setRequestHeader("Content-type","application/octet-stream"):s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in s&&(s.withCredentials=this.withCredentials),this.requestTimeout&&(s.timeout=this.requestTimeout),this.hasXDR()?(s.onload=function(){a.onLoad()},s.onerror=function(){a.onError(s.responseText)}):s.onreadystatechange=function(){if(s.readyState===2)try{var d=s.getResponseHeader("Content-Type");(a.supportsBinary&&d==="application/octet-stream"||d==="application/octet-stream; charset=UTF-8")&&(s.responseType="arraybuffer")}catch{}s.readyState===4&&(s.status===200||s.status===1223?a.onLoad():setTimeout(function(){a.onError(typeof s.status=="number"?s.status:0)},0))},x("xhr data %s",this.data),s.send(this.data)}catch(d){setTimeout(function(){a.onError(d)},0);return}typeof document<"u"&&(this.index=o.requestsCount++,o.requests[this.index]=this)},o.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},o.prototype.onData=function(i){this.emit("data",i),this.onSuccess()},o.prototype.onError=function(i){this.emit("error",i),this.cleanup(!0)},o.prototype.cleanup=function(i){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=R:this.xhr.onreadystatechange=R,i)try{this.xhr.abort()}catch{}typeof document<"u"&&delete o.requests[this.index],this.xhr=null}},o.prototype.onLoad=function(){var i;try{var s;try{s=this.xhr.getResponseHeader("Content-Type")}catch{}s==="application/octet-stream"||s==="application/octet-stream; charset=UTF-8"?i=this.xhr.response||this.xhr.responseText:i=this.xhr.responseText}catch(a){this.onError(a)}i!=null&&this.onData(i)},o.prototype.hasXDR=function(){return typeof XDomainRequest<"u"&&!this.xs&&this.enablesXDR},o.prototype.abort=function(){this.cleanup()},o.requestsCount=0,o.requests={},typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",l);else if(typeof addEventListener=="function"){var r="onpagehide"in T?"pagehide":"unload";addEventListener(r,l,!1)}}function l(){for(var i in o.requests)o.requests.hasOwnProperty(i)&&o.requests[i].abort()}return Ks.exports}var dc,gm;function e1(){if(gm)return dc;gm=1;var m=Wv(),u=So(),C=hf();dc=g;var b=/\n/g,x=/\\n/g,T;function R(){}function g(o){m.call(this,o),this.query=this.query||{},T||(T=C.___eio=C.___eio||[]),this.index=T.length;var r=this;T.push(function(l){r.onData(l)}),this.query.j=this.index,typeof addEventListener=="function"&&addEventListener("beforeunload",function(){r.script&&(r.script.onerror=R)},!1)}return u(g,m),g.prototype.supportsBinary=!1,g.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),m.prototype.doClose.call(this)},g.prototype.doPoll=function(){var o=this,r=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),r.async=!0,r.src=this.uri(),r.onerror=function(s){o.onError("jsonp poll error",s)};var l=document.getElementsByTagName("script")[0];l?l.parentNode.insertBefore(r,l):(document.head||document.body).appendChild(r),this.script=r;var i=typeof navigator<"u"&&/gecko/i.test(navigator.userAgent);i&&setTimeout(function(){var s=document.createElement("iframe");document.body.appendChild(s),document.body.removeChild(s)},100)},g.prototype.doWrite=function(o,r){var l=this;if(!this.form){var i=document.createElement("form"),s=document.createElement("textarea"),a=this.iframeId="eio_iframe_"+this.index,f;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=a,i.method="POST",i.setAttribute("accept-charset","utf-8"),s.name="d",i.appendChild(s),document.body.appendChild(i),this.form=i,this.area=s}this.form.action=this.uri();function d(){c(),r()}function c(){if(l.iframe)try{l.form.removeChild(l.iframe)}catch(y){l.onError("jsonp polling iframe removal error",y)}try{var p='<iframe src="javascript:0" name="'+l.iframeId+'">';f=document.createElement(p)}catch{f=document.createElement("iframe"),f.name=l.iframeId,f.src="javascript:0"}f.id=l.iframeId,l.form.appendChild(f),l.iframe=f}c(),o=o.replace(x,`\\
`),this.area.value=o.replace(b,"\\n");try{this.form.submit()}catch{}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){l.iframe.readyState==="complete"&&d()}:this.iframe.onload=d},dc}const i1={},n1=Object.freeze(Object.defineProperty({__proto__:null,default:i1},Symbol.toStringTag,{value:"Module"})),ao=vb(n1);var gc,pm;function r1(){if(pm)return gc;pm=1;var m=gf(),u=cr(),C=Co(),b=So(),x=Iv(),T=_o()("engine.io-client:websocket"),R,g;if(typeof WebSocket<"u"?R=WebSocket:typeof self<"u"&&(R=self.WebSocket||self.MozWebSocket),typeof window>"u")try{g=ao}catch{}var o=R||g;gc=r;function r(l){var i=l&&l.forceBase64;i&&(this.supportsBinary=!1),this.perMessageDeflate=l.perMessageDeflate,this.usingBrowserWebSocket=R&&!l.forceNode,this.protocols=l.protocols,this.usingBrowserWebSocket||(o=g),m.call(this,l)}return b(r,m),r.prototype.name="websocket",r.prototype.supportsBinary=!0,r.prototype.doOpen=function(){if(this.check()){var l=this.uri(),i=this.protocols,s={};this.isReactNative||(s.agent=this.agent,s.perMessageDeflate=this.perMessageDeflate,s.pfx=this.pfx,s.key=this.key,s.passphrase=this.passphrase,s.cert=this.cert,s.ca=this.ca,s.ciphers=this.ciphers,s.rejectUnauthorized=this.rejectUnauthorized),this.extraHeaders&&(s.headers=this.extraHeaders),this.localAddress&&(s.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?i?new o(l,i):new o(l):new o(l,i,s)}catch(a){return this.emit("error",a)}this.ws.binaryType===void 0&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},r.prototype.addEventListeners=function(){var l=this;this.ws.onopen=function(){l.onOpen()},this.ws.onclose=function(){l.onClose()},this.ws.onmessage=function(i){l.onData(i.data)},this.ws.onerror=function(i){l.onError("websocket error",i)}},r.prototype.write=function(l){var i=this;this.writable=!1;for(var s=l.length,a=0,f=s;a<f;a++)(function(c){u.encodePacket(c,i.supportsBinary,function(p){if(!i.usingBrowserWebSocket){var y={};if(c.options&&(y.compress=c.options.compress),i.perMessageDeflate){var _=typeof p=="string"?Buffer.byteLength(p):p.length;_<i.perMessageDeflate.threshold&&(y.compress=!1)}}try{i.usingBrowserWebSocket?i.ws.send(p):i.ws.send(p,y)}catch{T("websocket closed before onclose event")}--s||d()})})(l[a]);function d(){i.emit("flush"),setTimeout(function(){i.writable=!0,i.emit("drain")},0)}},r.prototype.onClose=function(){m.prototype.onClose.call(this)},r.prototype.doClose=function(){typeof this.ws<"u"&&this.ws.close()},r.prototype.uri=function(){var l=this.query||{},i=this.secure?"wss":"ws",s="";this.port&&(i==="wss"&&Number(this.port)!==443||i==="ws"&&Number(this.port)!==80)&&(s=":"+this.port),this.timestampRequests&&(l[this.timestampParam]=x()),this.supportsBinary||(l.b64=1),l=C.encode(l),l.length&&(l="?"+l);var a=this.hostname.indexOf(":")!==-1;return i+"://"+(a?"["+this.hostname+"]":this.hostname)+s+this.path+l},r.prototype.check=function(){return!!o&&!("__initialize"in o&&this.name===r.prototype.name)},gc}var mm;function vm(){if(mm)return Is;mm=1;var m=df(),u=t1(),C=e1(),b=r1();Is.polling=x,Is.websocket=b;function x(T){var R,g=!1,o=!1,r=T.jsonp!==!1;if(typeof location<"u"){var l=location.protocol==="https:",i=location.port;i||(i=l?443:80),g=T.hostname!==location.hostname||i!==T.port,o=T.secure!==l}if(T.xdomain=g,T.xscheme=o,R=new m(T),"open"in R&&!T.forceJSONP)return new u(T);if(!r)throw new Error("JSONP disabled");return new C(T)}return Is}var pc,ym;function Kv(){if(ym)return pc;ym=1;var m=[].indexOf;return pc=function(u,C){if(m)return u.indexOf(C);for(var b=0;b<u.length;++b)if(u[b]===C)return b;return-1},pc}var mc,bm;function a1(){if(bm)return mc;bm=1;var m=vm(),u=gr(),C=_o()("engine.io-client:socket"),b=Kv(),x=cr(),T=qv(),R=Co();mc=g;function g(r,l){if(!(this instanceof g))return new g(r,l);l=l||{},r&&typeof r=="object"&&(l=r,r=null),r?(r=T(r),l.hostname=r.host,l.secure=r.protocol==="https"||r.protocol==="wss",l.port=r.port,r.query&&(l.query=r.query)):l.host&&(l.hostname=T(l.host).host),this.secure=l.secure!=null?l.secure:typeof location<"u"&&location.protocol==="https:",l.hostname&&!l.port&&(l.port=this.secure?"443":"80"),this.agent=l.agent||!1,this.hostname=l.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=l.port||(typeof location<"u"&&location.port?location.port:this.secure?443:80),this.query=l.query||{},typeof this.query=="string"&&(this.query=R.decode(this.query)),this.upgrade=l.upgrade!==!1,this.path=(l.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!l.forceJSONP,this.jsonp=l.jsonp!==!1,this.forceBase64=!!l.forceBase64,this.enablesXDR=!!l.enablesXDR,this.withCredentials=l.withCredentials!==!1,this.timestampParam=l.timestampParam||"t",this.timestampRequests=l.timestampRequests,this.transports=l.transports||["polling","websocket"],this.transportOptions=l.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=l.policyPort||843,this.rememberUpgrade=l.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=l.onlyBinaryUpgrades,this.perMessageDeflate=l.perMessageDeflate!==!1?l.perMessageDeflate||{}:!1,this.perMessageDeflate===!0&&(this.perMessageDeflate={}),this.perMessageDeflate&&this.perMessageDeflate.threshold==null&&(this.perMessageDeflate.threshold=1024),this.pfx=l.pfx||void 0,this.key=l.key||void 0,this.passphrase=l.passphrase||void 0,this.cert=l.cert||void 0,this.ca=l.ca||void 0,this.ciphers=l.ciphers||void 0,this.rejectUnauthorized=l.rejectUnauthorized===void 0?!0:l.rejectUnauthorized,this.forceNode=!!l.forceNode,this.isReactNative=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",(typeof self>"u"||this.isReactNative)&&(l.extraHeaders&&Object.keys(l.extraHeaders).length>0&&(this.extraHeaders=l.extraHeaders),l.localAddress&&(this.localAddress=l.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}g.priorWebsocketSuccess=!1,u(g.prototype),g.protocol=x.protocol,g.Socket=g,g.Transport=gf(),g.transports=vm(),g.parser=cr(),g.prototype.createTransport=function(r){C('creating transport "%s"',r);var l=o(this.query);l.EIO=x.protocol,l.transport=r;var i=this.transportOptions[r]||{};this.id&&(l.sid=this.id);var s=new m[r]({query:l,socket:this,agent:i.agent||this.agent,hostname:i.hostname||this.hostname,port:i.port||this.port,secure:i.secure||this.secure,path:i.path||this.path,forceJSONP:i.forceJSONP||this.forceJSONP,jsonp:i.jsonp||this.jsonp,forceBase64:i.forceBase64||this.forceBase64,enablesXDR:i.enablesXDR||this.enablesXDR,withCredentials:i.withCredentials||this.withCredentials,timestampRequests:i.timestampRequests||this.timestampRequests,timestampParam:i.timestampParam||this.timestampParam,policyPort:i.policyPort||this.policyPort,pfx:i.pfx||this.pfx,key:i.key||this.key,passphrase:i.passphrase||this.passphrase,cert:i.cert||this.cert,ca:i.ca||this.ca,ciphers:i.ciphers||this.ciphers,rejectUnauthorized:i.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:i.perMessageDeflate||this.perMessageDeflate,extraHeaders:i.extraHeaders||this.extraHeaders,forceNode:i.forceNode||this.forceNode,localAddress:i.localAddress||this.localAddress,requestTimeout:i.requestTimeout||this.requestTimeout,protocols:i.protocols||void 0,isReactNative:this.isReactNative});return s};function o(r){var l={};for(var i in r)r.hasOwnProperty(i)&&(l[i]=r[i]);return l}return g.prototype.open=function(){var r;if(this.rememberUpgrade&&g.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)r="websocket";else if(this.transports.length===0){var l=this;setTimeout(function(){l.emit("error","No transports available")},0);return}else r=this.transports[0];this.readyState="opening";try{r=this.createTransport(r)}catch{this.transports.shift(),this.open();return}r.open(),this.setTransport(r)},g.prototype.setTransport=function(r){C("setting transport %s",r.name);var l=this;this.transport&&(C("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=r,r.on("drain",function(){l.onDrain()}).on("packet",function(i){l.onPacket(i)}).on("error",function(i){l.onError(i)}).on("close",function(){l.onClose("transport close")})},g.prototype.probe=function(r){C('probing transport "%s"',r);var l=this.createTransport(r,{probe:1}),i=!1,s=this;g.priorWebsocketSuccess=!1;function a(){if(s.onlyBinaryUpgrades){var w=!this.supportsBinary&&s.transport.supportsBinary;i=i||w}i||(C('probe transport "%s" opened',r),l.send([{type:"ping",data:"probe"}]),l.once("packet",function(O){if(!i)if(O.type==="pong"&&O.data==="probe"){if(C('probe transport "%s" pong',r),s.upgrading=!0,s.emit("upgrading",l),!l)return;g.priorWebsocketSuccess=l.name==="websocket",C('pausing current transport "%s"',s.transport.name),s.transport.pause(function(){i||s.readyState!=="closed"&&(C("changing transport and sending upgrade packet"),_(),s.setTransport(l),l.send([{type:"upgrade"}]),s.emit("upgrade",l),l=null,s.upgrading=!1,s.flush())})}else{C('probe transport "%s" failed',r);var M=new Error("probe error");M.transport=l.name,s.emit("upgradeError",M)}}))}function f(){i||(i=!0,_(),l.close(),l=null)}function d(w){var O=new Error("probe error: "+w);O.transport=l.name,f(),C('probe transport "%s" failed because of error: %s',r,w),s.emit("upgradeError",O)}function c(){d("transport closed")}function p(){d("socket closed")}function y(w){l&&w.name!==l.name&&(C('"%s" works - aborting "%s"',w.name,l.name),f())}function _(){l.removeListener("open",a),l.removeListener("error",d),l.removeListener("close",c),s.removeListener("close",p),s.removeListener("upgrading",y)}l.once("open",a),l.once("error",d),l.once("close",c),this.once("close",p),this.once("upgrading",y),l.open()},g.prototype.onOpen=function(){if(C("socket open"),this.readyState="open",g.priorWebsocketSuccess=this.transport.name==="websocket",this.emit("open"),this.flush(),this.readyState==="open"&&this.upgrade&&this.transport.pause){C("starting upgrade probes");for(var r=0,l=this.upgrades.length;r<l;r++)this.probe(this.upgrades[r])}},g.prototype.onPacket=function(r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(C('socket receive: type "%s", data "%s"',r.type,r.data),this.emit("packet",r),this.emit("heartbeat"),r.type){case"open":this.onHandshake(JSON.parse(r.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var l=new Error("server error");l.code=r.data,this.onError(l);break;case"message":this.emit("data",r.data),this.emit("message",r.data);break}else C('packet received with socket readyState "%s"',this.readyState)},g.prototype.onHandshake=function(r){this.emit("handshake",r),this.id=r.sid,this.transport.query.sid=r.sid,this.upgrades=this.filterUpgrades(r.upgrades),this.pingInterval=r.pingInterval,this.pingTimeout=r.pingTimeout,this.onOpen(),this.readyState!=="closed"&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},g.prototype.onHeartbeat=function(r){clearTimeout(this.pingTimeoutTimer);var l=this;l.pingTimeoutTimer=setTimeout(function(){l.readyState!=="closed"&&l.onClose("ping timeout")},r||l.pingInterval+l.pingTimeout)},g.prototype.setPing=function(){var r=this;clearTimeout(r.pingIntervalTimer),r.pingIntervalTimer=setTimeout(function(){C("writing ping packet - expecting pong within %sms",r.pingTimeout),r.ping(),r.onHeartbeat(r.pingTimeout)},r.pingInterval)},g.prototype.ping=function(){var r=this;this.sendPacket("ping",function(){r.emit("ping")})},g.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emit("drain"):this.flush()},g.prototype.flush=function(){this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(C("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},g.prototype.write=g.prototype.send=function(r,l,i){return this.sendPacket("message",r,l,i),this},g.prototype.sendPacket=function(r,l,i,s){if(typeof l=="function"&&(s=l,l=void 0),typeof i=="function"&&(s=i,i=null),!(this.readyState==="closing"||this.readyState==="closed")){i=i||{},i.compress=i.compress!==!1;var a={type:r,data:l,options:i};this.emit("packetCreate",a),this.writeBuffer.push(a),s&&this.once("flush",s),this.flush()}},g.prototype.close=function(){if(this.readyState==="opening"||this.readyState==="open"){this.readyState="closing";var r=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?s():l()}):this.upgrading?s():l()}function l(){r.onClose("forced close"),C("socket closing - telling transport to close"),r.transport.close()}function i(){r.removeListener("upgrade",i),r.removeListener("upgradeError",i),l()}function s(){r.once("upgrade",i),r.once("upgradeError",i)}return this},g.prototype.onError=function(r){C("socket error %j",r),g.priorWebsocketSuccess=!1,this.emit("error",r),this.onClose("transport error",r)},g.prototype.onClose=function(r,l){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){C('socket close with reason: "%s"',r);var i=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",r,l),i.writeBuffer=[],i.prevBufferLen=0}},g.prototype.filterUpgrades=function(r){for(var l=[],i=0,s=r.length;i<s;i++)~b(this.transports,r[i])&&l.push(r[i]);return l},mc}var Cm;function s1(){return Cm||(Cm=1,Vs.exports=a1(),Vs.exports.parser=cr()),Vs.exports}var vc={exports:{}},yc,Sm;function o1(){if(Sm)return yc;Sm=1,yc=m;function m(u,C){var b=[];C=C||0;for(var x=C||0;x<u.length;x++)b[x-C]=u[x];return b}return yc}var bc,_m;function Qv(){if(_m)return bc;_m=1,bc=m;function m(u,C,b){return u.on(C,b),{destroy:function(){u.removeListener(C,b)}}}return bc}var Cc,wm;function Zv(){if(wm)return Cc;wm=1;var m=[].slice;return Cc=function(u,C){if(typeof C=="string"&&(C=u[C]),typeof C!="function")throw new Error("bind() requires a function");var b=m.call(arguments,2);return function(){return C.apply(u,b.concat(m.call(arguments)))}},Cc}var xm;function Jv(){return xm||(xm=1,(function(m,u){var C=ff(),b=gr(),x=o1(),T=Qv(),R=Zv(),g=bo()("socket.io-client:socket"),o=Co(),r=Vv();m.exports=s;var l={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},i=b.prototype.emit;function s(a,f,d){this.io=a,this.nsp=f,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},d&&d.query&&(this.query=d.query),this.io.autoConnect&&this.open()}b(s.prototype),s.prototype.subEvents=function(){if(!this.subs){var a=this.io;this.subs=[T(a,"open",R(this,"onopen")),T(a,"packet",R(this,"onpacket")),T(a,"close",R(this,"onclose"))]}},s.prototype.open=s.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.reconnecting||this.io.open(),this.io.readyState==="open"&&this.onopen(),this.emit("connecting"),this)},s.prototype.send=function(){var a=x(arguments);return a.unshift("message"),this.emit.apply(this,a),this},s.prototype.emit=function(a){if(l.hasOwnProperty(a))return i.apply(this,arguments),this;var f=x(arguments),d={type:(this.flags.binary!==void 0?this.flags.binary:r(f))?C.BINARY_EVENT:C.EVENT,data:f};return d.options={},d.options.compress=!this.flags||this.flags.compress!==!1,typeof f[f.length-1]=="function"&&(g("emitting packet with ack id %d",this.ids),this.acks[this.ids]=f.pop(),d.id=this.ids++),this.connected?this.packet(d):this.sendBuffer.push(d),this.flags={},this},s.prototype.packet=function(a){a.nsp=this.nsp,this.io.packet(a)},s.prototype.onopen=function(){if(g("transport is open - connecting"),this.nsp!=="/")if(this.query){var a=typeof this.query=="object"?o.encode(this.query):this.query;g("sending connect packet with query %s",a),this.packet({type:C.CONNECT,query:a})}else this.packet({type:C.CONNECT})},s.prototype.onclose=function(a){g("close (%s)",a),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",a)},s.prototype.onpacket=function(a){var f=a.nsp===this.nsp,d=a.type===C.ERROR&&a.nsp==="/";if(!(!f&&!d))switch(a.type){case C.CONNECT:this.onconnect();break;case C.EVENT:this.onevent(a);break;case C.BINARY_EVENT:this.onevent(a);break;case C.ACK:this.onack(a);break;case C.BINARY_ACK:this.onack(a);break;case C.DISCONNECT:this.ondisconnect();break;case C.ERROR:this.emit("error",a.data);break}},s.prototype.onevent=function(a){var f=a.data||[];g("emitting event %j",f),a.id!=null&&(g("attaching ack callback to event"),f.push(this.ack(a.id))),this.connected?i.apply(this,f):this.receiveBuffer.push(f)},s.prototype.ack=function(a){var f=this,d=!1;return function(){if(!d){d=!0;var c=x(arguments);g("sending ack %j",c),f.packet({type:r(c)?C.BINARY_ACK:C.ACK,id:a,data:c})}}},s.prototype.onack=function(a){var f=this.acks[a.id];typeof f=="function"?(g("calling ack %s with %j",a.id,a.data),f.apply(this,a.data),delete this.acks[a.id]):g("bad ack %s",a.id)},s.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},s.prototype.emitBuffered=function(){var a;for(a=0;a<this.receiveBuffer.length;a++)i.apply(this,this.receiveBuffer[a]);for(this.receiveBuffer=[],a=0;a<this.sendBuffer.length;a++)this.packet(this.sendBuffer[a]);this.sendBuffer=[]},s.prototype.ondisconnect=function(){g("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},s.prototype.destroy=function(){if(this.subs){for(var a=0;a<this.subs.length;a++)this.subs[a].destroy();this.subs=null}this.io.destroy(this)},s.prototype.close=s.prototype.disconnect=function(){return this.connected&&(g("performing disconnect (%s)",this.nsp),this.packet({type:C.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},s.prototype.compress=function(a){return this.flags.compress=a,this},s.prototype.binary=function(a){return this.flags.binary=a,this}})(vc)),vc.exports}var Sc,Tm;function l1(){if(Tm)return Sc;Tm=1,Sc=m;function m(u){u=u||{},this.ms=u.min||100,this.max=u.max||1e4,this.factor=u.factor||2,this.jitter=u.jitter>0&&u.jitter<=1?u.jitter:0,this.attempts=0}return m.prototype.duration=function(){var u=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var C=Math.random(),b=Math.floor(C*this.jitter*u);u=(Math.floor(C*10)&1)==0?u-b:u+b}return Math.min(u,this.max)|0},m.prototype.reset=function(){this.attempts=0},m.prototype.setMin=function(u){this.ms=u},m.prototype.setMax=function(u){this.max=u},m.prototype.setJitter=function(u){this.jitter=u},Sc}var _c,Om;function Em(){if(Om)return _c;Om=1;var m=s1(),u=Jv(),C=gr(),b=ff(),x=Qv(),T=Zv(),R=bo()("socket.io-client:manager"),g=Kv(),o=l1(),r=Object.prototype.hasOwnProperty;_c=l;function l(i,s){if(!(this instanceof l))return new l(i,s);i&&typeof i=="object"&&(s=i,i=void 0),s=s||{},s.path=s.path||"/socket.io",this.nsps={},this.subs=[],this.opts=s,this.reconnection(s.reconnection!==!1),this.reconnectionAttempts(s.reconnectionAttempts||1/0),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor(s.randomizationFactor||.5),this.backoff=new o({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(s.timeout==null?2e4:s.timeout),this.readyState="closed",this.uri=i,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var a=s.parser||b;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this.autoConnect=s.autoConnect!==!1,this.autoConnect&&this.open()}return l.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var i in this.nsps)r.call(this.nsps,i)&&this.nsps[i].emit.apply(this.nsps[i],arguments)},l.prototype.updateSocketIds=function(){for(var i in this.nsps)r.call(this.nsps,i)&&(this.nsps[i].id=this.generateId(i))},l.prototype.generateId=function(i){return(i==="/"?"":i+"#")+this.engine.id},C(l.prototype),l.prototype.reconnection=function(i){return arguments.length?(this._reconnection=!!i,this):this._reconnection},l.prototype.reconnectionAttempts=function(i){return arguments.length?(this._reconnectionAttempts=i,this):this._reconnectionAttempts},l.prototype.reconnectionDelay=function(i){return arguments.length?(this._reconnectionDelay=i,this.backoff&&this.backoff.setMin(i),this):this._reconnectionDelay},l.prototype.randomizationFactor=function(i){return arguments.length?(this._randomizationFactor=i,this.backoff&&this.backoff.setJitter(i),this):this._randomizationFactor},l.prototype.reconnectionDelayMax=function(i){return arguments.length?(this._reconnectionDelayMax=i,this.backoff&&this.backoff.setMax(i),this):this._reconnectionDelayMax},l.prototype.timeout=function(i){return arguments.length?(this._timeout=i,this):this._timeout},l.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()},l.prototype.open=l.prototype.connect=function(i,s){if(R("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;R("opening %s",this.uri),this.engine=m(this.uri,this.opts);var a=this.engine,f=this;this.readyState="opening",this.skipReconnect=!1;var d=x(a,"open",function(){f.onopen(),i&&i()}),c=x(a,"error",function(_){if(R("connect_error"),f.cleanup(),f.readyState="closed",f.emitAll("connect_error",_),i){var w=new Error("Connection error");w.data=_,i(w)}else f.maybeReconnectOnOpen()});if(this._timeout!==!1){var p=this._timeout;R("connect attempt will timeout after %d",p),p===0&&d.destroy();var y=setTimeout(function(){R("connect attempt timed out after %d",p),d.destroy(),a.close(),a.emit("error","timeout"),f.emitAll("connect_timeout",p)},p);this.subs.push({destroy:function(){clearTimeout(y)}})}return this.subs.push(d),this.subs.push(c),this},l.prototype.onopen=function(){R("open"),this.cleanup(),this.readyState="open",this.emit("open");var i=this.engine;this.subs.push(x(i,"data",T(this,"ondata"))),this.subs.push(x(i,"ping",T(this,"onping"))),this.subs.push(x(i,"pong",T(this,"onpong"))),this.subs.push(x(i,"error",T(this,"onerror"))),this.subs.push(x(i,"close",T(this,"onclose"))),this.subs.push(x(this.decoder,"decoded",T(this,"ondecoded")))},l.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},l.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},l.prototype.ondata=function(i){this.decoder.add(i)},l.prototype.ondecoded=function(i){this.emit("packet",i)},l.prototype.onerror=function(i){R("error",i),this.emitAll("error",i)},l.prototype.socket=function(i,s){var a=this.nsps[i];if(!a){a=new u(this,i,s),this.nsps[i]=a;var f=this;a.on("connecting",d),a.on("connect",function(){a.id=f.generateId(i)}),this.autoConnect&&d()}function d(){~g(f.connecting,a)||f.connecting.push(a)}return a},l.prototype.destroy=function(i){var s=g(this.connecting,i);~s&&this.connecting.splice(s,1),!this.connecting.length&&this.close()},l.prototype.packet=function(i){R("writing packet %j",i);var s=this;i.query&&i.type===0&&(i.nsp+="?"+i.query),s.encoding?s.packetBuffer.push(i):(s.encoding=!0,this.encoder.encode(i,function(a){for(var f=0;f<a.length;f++)s.engine.write(a[f],i.options);s.encoding=!1,s.processPacketQueue()}))},l.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var i=this.packetBuffer.shift();this.packet(i)}},l.prototype.cleanup=function(){R("cleanup");for(var i=this.subs.length,s=0;s<i;s++){var a=this.subs.shift();a.destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},l.prototype.close=l.prototype.disconnect=function(){R("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,this.readyState==="opening"&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},l.prototype.onclose=function(i){R("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",i),this._reconnection&&!this.skipReconnect&&this.reconnect()},l.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var i=this;if(this.backoff.attempts>=this._reconnectionAttempts)R("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var s=this.backoff.duration();R("will wait %dms before reconnect attempt",s),this.reconnecting=!0;var a=setTimeout(function(){i.skipReconnect||(R("attempting reconnect"),i.emitAll("reconnect_attempt",i.backoff.attempts),i.emitAll("reconnecting",i.backoff.attempts),!i.skipReconnect&&i.open(function(f){f?(R("reconnect attempt error"),i.reconnecting=!1,i.reconnect(),i.emitAll("reconnect_error",f.data)):(R("reconnect success"),i.onreconnect())}))},s);this.subs.push({destroy:function(){clearTimeout(a)}})}},l.prototype.onreconnect=function(){var i=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",i)},_c}var Am;function u1(){return Am||(Am=1,(function(m,u){var C=z_(),b=ff(),x=Em(),T=bo()("socket.io-client");m.exports=u=g;var R=u.managers={};function g(o,r){typeof o=="object"&&(r=o,o=void 0),r=r||{};var l=C(o),i=l.source,s=l.id,a=l.path,f=R[s]&&a in R[s].nsps,d=r.forceNew||r["force new connection"]||r.multiplex===!1||f,c;return d?(T("ignoring socket cache for %s",i),c=x(i,r)):(R[s]||(T("new io instance for %s",i),R[s]=x(i,r)),c=R[s]),l.query&&!r.query&&(r.query=l.query),c.socket(l.path,r)}u.protocol=b.protocol,u.connect=g,u.Manager=Em(),u.Socket=Jv()})(Hs,Hs.exports)),Hs.exports}var c1=u1();const f1=Sa(c1);function h1({data:m}){if(!m||typeof m!="object")return Q.jsx("div",{children:"일정 데이터가 없습니다."});const{is_schedule:u,title:C,start_time:b,end_time:x,all_day:T,location:R,description:g,recurrence_rule:o}=m,r=l=>l?new Date(l).toLocaleString():"-";return Q.jsxs("div",{style:{border:"1px solid #ccc",padding:20,borderRadius:8,maxWidth:600},children:[Q.jsx("h2",{children:"📅 추출된 일정 정보"}),Q.jsxs("div",{style:{display:"grid",gridTemplateColumns:"150px 1fr",rowGap:"10px"},children:[Q.jsx("div",{children:Q.jsx("strong",{children:"일정 여부"})}),Q.jsx("div",{children:u?"✅ 있음":"❌ 없음"}),Q.jsx("div",{children:Q.jsx("strong",{children:"제목"})}),Q.jsx("div",{children:C||"-"}),Q.jsx("div",{children:Q.jsx("strong",{children:"시작 시간"})}),Q.jsx("div",{children:r(b)}),Q.jsx("div",{children:Q.jsx("strong",{children:"종료 시간"})}),Q.jsx("div",{children:r(x)}),Q.jsx("div",{children:Q.jsx("strong",{children:"하루 종일"})}),Q.jsx("div",{children:T===1?"✅ 예":"❌ 아니요"}),Q.jsx("div",{children:Q.jsx("strong",{children:"장소"})}),Q.jsx("div",{children:R||"-"}),Q.jsx("div",{children:Q.jsx("strong",{children:"설명"})}),Q.jsx("div",{children:g||"-"}),Q.jsx("div",{children:Q.jsx("strong",{children:"반복 여부"})}),Q.jsx("div",{children:o?"🔁 있음":"❌ 없음"})]})]})}const d1=()=>{const[m,u]=rt.useState(""),[C,b]=rt.useState(!1),[x,T]=rt.useState(""),[R,g]=rt.useState([]),o=rt.useRef(null),r=rt.useRef(null),[l,i]=rt.useState(null),s=c=>{c.preventDefault(),m.trim()&&b(!0)},a=c=>{if(c.preventDefault(),x.trim()&&m.trim()){const p={room:"general",sender:m,message:x};console.log(R),o.current.emit("chatMessage",p),T("")}};if(rt.useEffect(()=>{if(C)return o.current=f1("http://localhost:9095",{withCredentials:!1}),o.current.on("connect",()=>{console.log("Socket connected:",o.current.id),o.current.emit("joinRoom","general")}),o.current.on("chatMessage",c=>{g(p=>[...p,c])}),o.current.on("disconnect",c=>{console.log("Socket disconnected:",c)}),()=>{o.current.off("connect"),o.current.off("disconnect"),o.current.off("chatMessage"),o.current.disconnect()}},[C]),rt.useEffect(()=>{r.current?.scrollIntoView({behavior:"smooth"})},[R]),!C)return Q.jsx("div",{style:{display:"flex",justifyContent:"center",height:"100vh"},children:Q.jsxs("form",{onSubmit:s,children:[Q.jsx("h2",{children:"채팅 닉네임을 입력하세요"}),Q.jsx("input",{type:"text",value:m,onChange:c=>u(c.target.value),placeholder:"닉네임",style:{padding:"10px",width:"200px"}}),Q.jsx("button",{type:"submit",style:{padding:"10px"},children:"입장"})]})});function f(c){const p=c.match(/\{[\s\S]*\}/);if(!p)return null;try{return JSON.parse(p[0])}catch(y){return console.error("JSON 파싱 에러:",y),null}}const d=async()=>{const c=await te.post("/ml/schedule",R);console.log(c.data.raw_response);const p=f(c.data.raw_response);if(!p){alert("일정 데이터를 파싱하지 못했습니다.");return}i(p)};return Q.jsxs("div",{style:{display:"flex"},children:[Q.jsxs("div",{style:{display:"flex",flexDirection:"column",width:"60vw",height:"80vh",border:"1px solid #ccc"},children:[Q.jsxs("div",{style:{flexGrow:1,overflowY:"auto",padding:"10px"},children:[R.map((c,p)=>Q.jsxs("div",{style:{marginBottom:"10px"},children:[Q.jsxs("strong",{children:[c.sender,": "]}),c.message]},p)),Q.jsx("div",{ref:r})]}),Q.jsxs("form",{onSubmit:a,style:{display:"flex",padding:"10px"},children:[Q.jsx("input",{type:"text",value:x,onChange:c=>T(c.target.value),placeholder:"메시지를 입력하세요",style:{flexGrow:1,padding:"10px"}}),Q.jsx("button",{type:"submit",style:{padding:"10px"},children:"전송"})]})]}),Q.jsxs("div",{children:[Q.jsx("button",{onClick:d,children:"AI 일정 잡기"}),Q.jsx("hr",{}),l&&Q.jsx(h1,{data:l})]})]})};function g1(m={}){const{nonce:u,onScriptLoadSuccess:C,onScriptLoadError:b}=m,[x,T]=rt.useState(!1),R=rt.useRef(C);R.current=C;const g=rt.useRef(b);return g.current=b,rt.useEffect(()=>{const o=document.createElement("script");return o.src="https://accounts.google.com/gsi/client",o.async=!0,o.defer=!0,o.nonce=u,o.onload=()=>{var r;T(!0),(r=R.current)===null||r===void 0||r.call(R)},o.onerror=()=>{var r;T(!1),(r=g.current)===null||r===void 0||r.call(g)},document.body.appendChild(o),()=>{document.body.removeChild(o)}},[u]),x}const $v=rt.createContext(null);function p1({clientId:m,nonce:u,onScriptLoadSuccess:C,onScriptLoadError:b,children:x}){const T=g1({nonce:u,onScriptLoadSuccess:C,onScriptLoadError:b}),R=rt.useMemo(()=>({clientId:m,scriptLoadedSuccessfully:T}),[m,T]);return tf.createElement($v.Provider,{value:R},x)}function m1(){const m=rt.useContext($v);if(!m)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return m}function v1(m){var u;return(u=m?.clientId)!==null&&u!==void 0?u:m?.client_id}const y1={large:40,medium:32,small:20};function b1({onSuccess:m,onError:u,useOneTap:C,promptMomentNotification:b,type:x="standard",theme:T="outline",size:R="large",text:g,shape:o,logo_alignment:r,width:l,locale:i,click_listener:s,containerProps:a,...f}){const d=rt.useRef(null),{clientId:c,scriptLoadedSuccessfully:p}=m1(),y=rt.useRef(m);y.current=m;const _=rt.useRef(u);_.current=u;const w=rt.useRef(b);return w.current=b,rt.useEffect(()=>{var O,M,j,U,Y,W,it,lt,gt;if(p)return(j=(M=(O=window?.google)===null||O===void 0?void 0:O.accounts)===null||M===void 0?void 0:M.id)===null||j===void 0||j.initialize({client_id:c,callback:ut=>{var ft;if(!ut?.credential)return(ft=_.current)===null||ft===void 0?void 0:ft.call(_);const{credential:G,select_by:et}=ut;y.current({credential:G,clientId:v1(ut),select_by:et})},...f}),(W=(Y=(U=window?.google)===null||U===void 0?void 0:U.accounts)===null||Y===void 0?void 0:Y.id)===null||W===void 0||W.renderButton(d.current,{type:x,theme:T,size:R,text:g,shape:o,logo_alignment:r,width:l,locale:i,click_listener:s}),C&&((gt=(lt=(it=window?.google)===null||it===void 0?void 0:it.accounts)===null||lt===void 0?void 0:lt.id)===null||gt===void 0||gt.prompt(w.current)),()=>{var ut,ft,G;C&&((G=(ft=(ut=window?.google)===null||ut===void 0?void 0:ut.accounts)===null||ft===void 0?void 0:ft.id)===null||G===void 0||G.cancel())}},[c,p,C,x,T,R,g,o,r,l,i]),tf.createElement("div",{...a,ref:d,style:{height:y1[R],...a?.style}})}function C1(){var m,u,C;(C=(u=(m=window?.google)===null||m===void 0?void 0:m.accounts)===null||u===void 0?void 0:u.id)===null||C===void 0||C.disableAutoSelect()}class ya extends Error{}ya.prototype.name="InvalidTokenError";function S1(m){return decodeURIComponent(atob(m).replace(/(.)/g,(u,C)=>{let b=C.charCodeAt(0).toString(16).toUpperCase();return b.length<2&&(b="0"+b),"%"+b}))}function _1(m){let u=m.replace(/-/g,"+").replace(/_/g,"/");switch(u.length%4){case 0:break;case 2:u+="==";break;case 3:u+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return S1(u)}catch{return atob(u)}}function w1(m,u){if(typeof m!="string")throw new ya("Invalid token specified: must be a string");u||(u={});const C=u.header===!0?0:1,b=m.split(".")[C];if(typeof b!="string")throw new ya(`Invalid token specified: missing part #${C+1}`);let x;try{x=_1(b)}catch(T){throw new ya(`Invalid token specified: invalid base64 for part #${C+1} (${T.message})`)}try{return JSON.parse(x)}catch(T){throw new ya(`Invalid token specified: invalid json for part #${C+1} (${T.message})`)}}const x1=()=>{const[m,u]=rt.useState(null);return Q.jsx("div",{children:m?Q.jsxs("div",{children:[Q.jsxs("h3",{children:["환영합니다, ",m.name,"님!"]}),Q.jsx("img",{src:m.picture,alt:"프로필",width:"50"}),Q.jsx("button",{onClick:()=>{C1(),u(null)},children:"로그아웃"})]}):Q.jsx(b1,{onSuccess:C=>{const b=w1(C.credential);console.log("로그인 성공:",b),u(b)},onError:()=>{console.log("로그인 실패")}})})},T1=()=>Q.jsx("div",{children:Q.jsxs("div",{children:[Q.jsx(ze,{to:"/chat",children:Q.jsx("button",{children:"chat"})}),Q.jsx(ze,{to:"/login",children:Q.jsx("button",{children:"login"})}),Q.jsx(ze,{to:"/board",children:Q.jsx("button",{children:"board"})}),Q.jsx(ze,{to:"/mbti",children:Q.jsx("button",{children:"mbti"})}),Q.jsx(ze,{to:"/ml",children:Q.jsx("button",{children:"flask 연동"})}),Q.jsx(ze,{to:"/firebase",children:Q.jsx("button",{children:"firebase file-upload"})})]})});var wc={exports:{}},Rm;function O1(){return Rm||(Rm=1,(function(m){var u=(function(C){var b=Object.prototype,x=b.hasOwnProperty,T=Object.defineProperty||function(B,A,E){B[A]=E.value},R,g=typeof Symbol=="function"?Symbol:{},o=g.iterator||"@@iterator",r=g.asyncIterator||"@@asyncIterator",l=g.toStringTag||"@@toStringTag";function i(B,A,E){return Object.defineProperty(B,A,{value:E,enumerable:!0,configurable:!0,writable:!0}),B[A]}try{i({},"")}catch{i=function(A,E,k){return A[E]=k}}function s(B,A,E,k){var N=A&&A.prototype instanceof _?A:_,F=Object.create(N.prototype),L=new G(k||[]);return T(F,"_invoke",{value:lt(B,E,L)}),F}C.wrap=s;function a(B,A,E){try{return{type:"normal",arg:B.call(A,E)}}catch(k){return{type:"throw",arg:k}}}var f="suspendedStart",d="suspendedYield",c="executing",p="completed",y={};function _(){}function w(){}function O(){}var M={};i(M,o,function(){return this});var j=Object.getPrototypeOf,U=j&&j(j(et([])));U&&U!==b&&x.call(U,o)&&(M=U);var Y=O.prototype=_.prototype=Object.create(M);w.prototype=O,T(Y,"constructor",{value:O,configurable:!0}),T(O,"constructor",{value:w,configurable:!0}),w.displayName=i(O,l,"GeneratorFunction");function W(B){["next","throw","return"].forEach(function(A){i(B,A,function(E){return this._invoke(A,E)})})}C.isGeneratorFunction=function(B){var A=typeof B=="function"&&B.constructor;return A?A===w||(A.displayName||A.name)==="GeneratorFunction":!1},C.mark=function(B){return Object.setPrototypeOf?Object.setPrototypeOf(B,O):(B.__proto__=O,i(B,l,"GeneratorFunction")),B.prototype=Object.create(Y),B},C.awrap=function(B){return{__await:B}};function it(B,A){function E(F,L,z,X){var I=a(B[F],B,L);if(I.type==="throw")X(I.arg);else{var q=I.arg,J=q.value;return J&&typeof J=="object"&&x.call(J,"__await")?A.resolve(J.__await).then(function(ht){E("next",ht,z,X)},function(ht){E("throw",ht,z,X)}):A.resolve(J).then(function(ht){q.value=ht,z(q)},function(ht){return E("throw",ht,z,X)})}}var k;function N(F,L){function z(){return new A(function(X,I){E(F,L,X,I)})}return k=k?k.then(z,z):z()}T(this,"_invoke",{value:N})}W(it.prototype),i(it.prototype,r,function(){return this}),C.AsyncIterator=it,C.async=function(B,A,E,k,N){N===void 0&&(N=Promise);var F=new it(s(B,A,E,k),N);return C.isGeneratorFunction(A)?F:F.next().then(function(L){return L.done?L.value:F.next()})};function lt(B,A,E){var k=f;return function(F,L){if(k===c)throw new Error("Generator is already running");if(k===p){if(F==="throw")throw L;return yt()}for(E.method=F,E.arg=L;;){var z=E.delegate;if(z){var X=gt(z,E);if(X){if(X===y)continue;return X}}if(E.method==="next")E.sent=E._sent=E.arg;else if(E.method==="throw"){if(k===f)throw k=p,E.arg;E.dispatchException(E.arg)}else E.method==="return"&&E.abrupt("return",E.arg);k=c;var I=a(B,A,E);if(I.type==="normal"){if(k=E.done?p:d,I.arg===y)continue;return{value:I.arg,done:E.done}}else I.type==="throw"&&(k=p,E.method="throw",E.arg=I.arg)}}}function gt(B,A){var E=A.method,k=B.iterator[E];if(k===R)return A.delegate=null,E==="throw"&&B.iterator.return&&(A.method="return",A.arg=R,gt(B,A),A.method==="throw")||E!=="return"&&(A.method="throw",A.arg=new TypeError("The iterator does not provide a '"+E+"' method")),y;var N=a(k,B.iterator,A.arg);if(N.type==="throw")return A.method="throw",A.arg=N.arg,A.delegate=null,y;var F=N.arg;if(!F)return A.method="throw",A.arg=new TypeError("iterator result is not an object"),A.delegate=null,y;if(F.done)A[B.resultName]=F.value,A.next=B.nextLoc,A.method!=="return"&&(A.method="next",A.arg=R);else return F;return A.delegate=null,y}W(Y),i(Y,l,"Generator"),i(Y,o,function(){return this}),i(Y,"toString",function(){return"[object Generator]"});function ut(B){var A={tryLoc:B[0]};1 in B&&(A.catchLoc=B[1]),2 in B&&(A.finallyLoc=B[2],A.afterLoc=B[3]),this.tryEntries.push(A)}function ft(B){var A=B.completion||{};A.type="normal",delete A.arg,B.completion=A}function G(B){this.tryEntries=[{tryLoc:"root"}],B.forEach(ut,this),this.reset(!0)}C.keys=function(B){var A=Object(B),E=[];for(var k in A)E.push(k);return E.reverse(),function N(){for(;E.length;){var F=E.pop();if(F in A)return N.value=F,N.done=!1,N}return N.done=!0,N}};function et(B){if(B){var A=B[o];if(A)return A.call(B);if(typeof B.next=="function")return B;if(!isNaN(B.length)){var E=-1,k=function N(){for(;++E<B.length;)if(x.call(B,E))return N.value=B[E],N.done=!1,N;return N.value=R,N.done=!0,N};return k.next=k}}return{next:yt}}C.values=et;function yt(){return{value:R,done:!0}}return G.prototype={constructor:G,reset:function(B){if(this.prev=0,this.next=0,this.sent=this._sent=R,this.done=!1,this.delegate=null,this.method="next",this.arg=R,this.tryEntries.forEach(ft),!B)for(var A in this)A.charAt(0)==="t"&&x.call(this,A)&&!isNaN(+A.slice(1))&&(this[A]=R)},stop:function(){this.done=!0;var B=this.tryEntries[0],A=B.completion;if(A.type==="throw")throw A.arg;return this.rval},dispatchException:function(B){if(this.done)throw B;var A=this;function E(X,I){return F.type="throw",F.arg=B,A.next=X,I&&(A.method="next",A.arg=R),!!I}for(var k=this.tryEntries.length-1;k>=0;--k){var N=this.tryEntries[k],F=N.completion;if(N.tryLoc==="root")return E("end");if(N.tryLoc<=this.prev){var L=x.call(N,"catchLoc"),z=x.call(N,"finallyLoc");if(L&&z){if(this.prev<N.catchLoc)return E(N.catchLoc,!0);if(this.prev<N.finallyLoc)return E(N.finallyLoc)}else if(L){if(this.prev<N.catchLoc)return E(N.catchLoc,!0)}else if(z){if(this.prev<N.finallyLoc)return E(N.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(B,A){for(var E=this.tryEntries.length-1;E>=0;--E){var k=this.tryEntries[E];if(k.tryLoc<=this.prev&&x.call(k,"finallyLoc")&&this.prev<k.finallyLoc){var N=k;break}}N&&(B==="break"||B==="continue")&&N.tryLoc<=A&&A<=N.finallyLoc&&(N=null);var F=N?N.completion:{};return F.type=B,F.arg=A,N?(this.method="next",this.next=N.finallyLoc,y):this.complete(F)},complete:function(B,A){if(B.type==="throw")throw B.arg;return B.type==="break"||B.type==="continue"?this.next=B.arg:B.type==="return"?(this.rval=this.arg=B.arg,this.method="return",this.next="end"):B.type==="normal"&&A&&(this.next=A),y},finish:function(B){for(var A=this.tryEntries.length-1;A>=0;--A){var E=this.tryEntries[A];if(E.finallyLoc===B)return this.complete(E.completion,E.afterLoc),ft(E),y}},catch:function(B){for(var A=this.tryEntries.length-1;A>=0;--A){var E=this.tryEntries[A];if(E.tryLoc===B){var k=E.completion;if(k.type==="throw"){var N=k.arg;ft(E)}return N}}throw new Error("illegal catch attempt")},delegateYield:function(B,A,E){return this.delegate={iterator:et(B),resultName:A,nextLoc:E},this.method==="next"&&(this.arg=R),y}},C})(m.exports);try{regeneratorRuntime=u}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=u:Function("r","regeneratorRuntime = r")(u)}})(wc)),wc.exports}var xc,Dm;function pf(){return Dm||(Dm=1,xc=(m,u)=>`${m}-${u}-${Math.random().toString(16).slice(3,8)}`),xc}var Tc,Mm;function ty(){if(Mm)return Tc;Mm=1;const m=pf();let u=0;return Tc=({id:C,action:b,payload:x={}})=>{let T=C;return typeof T>"u"&&(T=m("Job",u),u+=1),{id:T,action:b,payload:x}},Tc}var ma={},Bm;function mf(){if(Bm)return ma;Bm=1;let m=!1;return ma.logging=m,ma.setLogging=u=>{m=u},ma.log=(...u)=>m?console.log.apply(this,u):null,ma}var Oc,km;function E1(){if(km)return Oc;km=1;const m=ty(),{log:u}=mf(),C=pf();let b=0;return Oc=()=>{const x=C("Scheduler",b),T={},R={};let g=[];b+=1;const o=()=>g.length,r=()=>Object.keys(T).length,l=()=>{if(g.length!==0){const d=Object.keys(T);for(let c=0;c<d.length;c+=1)if(typeof R[d[c]]>"u"){g[0](T[d[c]]);break}}},i=(d,c)=>new Promise((p,y)=>{const _=m({action:d,payload:c});g.push(async w=>{g.shift(),R[w.id]=_;try{p(await w[d].apply(this,[...c,_.id]))}catch(O){y(O)}finally{delete R[w.id],l()}}),u(`[${x}]: Add ${_.id} to JobQueue`),u(`[${x}]: JobQueue length=${g.length}`),l()});return{addWorker:d=>(T[d.id]=d,u(`[${x}]: Add ${d.id}`),u(`[${x}]: Number of workers=${r()}`),l(),d.id),addJob:async(d,...c)=>{if(r()===0)throw Error(`[${x}]: You need to have at least one worker before adding jobs`);return i(d,c)},terminate:async()=>{Object.keys(T).forEach(async d=>{await T[d].terminate()}),g=[]},getQueueLen:o,getNumWorkers:r}},Oc}function A1(m){throw new Error('Could not dynamically require "'+m+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ec,Lm;function R1(){return Lm||(Lm=1,Ec=m=>{const u={};return typeof WorkerGlobalScope<"u"?u.type="webworker":typeof document=="object"?u.type="browser":typeof process=="object"&&typeof A1=="function"&&(u.type="node"),typeof m>"u"?u:u[m]}),Ec}var Ac,jm;function D1(){if(jm)return Ac;jm=1;const u=R1()("type")==="browser"?C=>new URL(C,window.location.href).href:C=>C;return Ac=C=>{const b={...C};return["corePath","workerPath","langPath"].forEach(x=>{C[x]&&(b[x]=u(b[x]))}),b},Ac}var Rc,Fm;function ey(){return Fm||(Fm=1,Rc={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}),Rc}const M1="6.0.1",B1={version:M1};var Dc,Pm;function k1(){return Pm||(Pm=1,Dc={workerBlobURL:!0,logger:()=>{}}),Dc}var Mc,Nm;function L1(){if(Nm)return Mc;Nm=1;const m=B1.version;return Mc={...k1(),workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${m}/dist/worker.min.js`},Mc}var Bc,Um;function j1(){return Um||(Um=1,Bc=({workerPath:m,workerBlobURL:u})=>{let C;if(Blob&&URL&&u){const b=new Blob([`importScripts("${m}");`],{type:"application/javascript"});C=new Worker(URL.createObjectURL(b))}else C=new Worker(m);return C}),Bc}var kc,zm;function F1(){return zm||(zm=1,kc=m=>{m.terminate()}),kc}var Lc,Hm;function P1(){return Hm||(Hm=1,Lc=(m,u)=>{m.onmessage=({data:C})=>{u(C)}}),Lc}var jc,Ym;function N1(){return Ym||(Ym=1,jc=async(m,u)=>{m.postMessage(u)}),jc}var Fc,Xm;function U1(){if(Xm)return Fc;Xm=1;const m=C=>new Promise((b,x)=>{const T=new FileReader;T.onload=()=>{b(T.result)},T.onerror=({target:{error:{code:R}}})=>{x(Error(`File could not be read! Code=${R}`))},T.readAsArrayBuffer(C)}),u=async C=>{let b=C;if(typeof C>"u")return"undefined";if(typeof C=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(C)?b=atob(C.split(",")[1]).split("").map(x=>x.charCodeAt(0)):b=await(await fetch(C)).arrayBuffer();else if(typeof HTMLElement<"u"&&C instanceof HTMLElement)C.tagName==="IMG"&&(b=await u(C.src)),C.tagName==="VIDEO"&&(b=await u(C.poster)),C.tagName==="CANVAS"&&await new Promise(x=>{C.toBlob(async T=>{b=await m(T),x()})});else if(typeof OffscreenCanvas<"u"&&C instanceof OffscreenCanvas){const x=await C.convertToBlob();b=await m(x)}else(C instanceof File||C instanceof Blob)&&(b=await m(C));return new Uint8Array(b)};return Fc=u,Fc}var Pc,qm;function z1(){if(qm)return Pc;qm=1;const m=L1(),u=j1(),C=F1(),b=P1(),x=N1(),T=U1();return Pc={defaultOptions:m,spawnWorker:u,terminateWorker:C,onMessage:b,send:x,loadImage:T},Pc}var Nc,Gm;function iy(){if(Gm)return Nc;Gm=1;const m=D1(),u=ty(),{log:C}=mf(),b=pf(),x=ey(),{defaultOptions:T,spawnWorker:R,terminateWorker:g,onMessage:o,loadImage:r,send:l}=z1();let i=0;return Nc=async(s="eng",a=x.LSTM_ONLY,f={},d={})=>{const c=b("Worker",i),{logger:p,errorHandler:y,..._}=m({...T,...f}),w={},O=typeof s=="string"?s.split("+"):s;let M=a,j=d;const U=[x.DEFAULT,x.LSTM_ONLY].includes(a)&&!_.legacyCore;let Y,W;const it=new Promise((q,J)=>{W=q,Y=J}),lt=q=>{Y(q.message)};let gt=R(_);gt.onerror=lt,i+=1;const ut=({id:q,action:J,payload:ht})=>new Promise((_t,at)=>{C(`[${c}]: Start ${q}, action=${J}`);const K=`${J}-${q}`;w[K]={resolve:_t,reject:at},l(gt,{workerId:c,jobId:q,action:J,payload:ht})}),ft=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),G=q=>ut(u({id:q,action:"load",payload:{options:{lstmOnly:U,corePath:_.corePath,logging:_.logging}}})),et=(q,J,ht)=>ut(u({id:ht,action:"FS",payload:{method:"writeFile",args:[q,J]}})),yt=(q,J)=>ut(u({id:J,action:"FS",payload:{method:"readFile",args:[q,{encoding:"utf8"}]}})),B=(q,J)=>ut(u({id:J,action:"FS",payload:{method:"unlink",args:[q]}})),A=(q,J,ht)=>ut(u({id:ht,action:"FS",payload:{method:q,args:J}})),E=(q,J)=>ut(u({id:J,action:"loadLanguage",payload:{langs:q,options:{langPath:_.langPath,dataPath:_.dataPath,cachePath:_.cachePath,cacheMethod:_.cacheMethod,gzip:_.gzip,lstmOnly:[x.DEFAULT,x.LSTM_ONLY].includes(M)&&!_.legacyLang}}})),k=(q,J,ht,_t)=>ut(u({id:_t,action:"initialize",payload:{langs:q,oem:J,config:ht}})),N=(q="eng",J,ht,_t)=>{if(U&&[x.TESSERACT_ONLY,x.TESSERACT_LSTM_COMBINED].includes(J))throw Error("Legacy model requested but code missing.");const at=J||M;M=at;const K=ht||j;j=K;const pt=(typeof q=="string"?q.split("+"):q).filter(ot=>!O.includes(ot));return O.push(...pt),pt.length>0?E(pt,_t).then(()=>k(q,at,K,_t)):k(q,at,K,_t)},F=(q={},J)=>ut(u({id:J,action:"setParameters",payload:{params:q}})),L=async(q,J={},ht={text:!0},_t)=>ut(u({id:_t,action:"recognize",payload:{image:await r(q),options:J,output:ht}})),z=async(q,J)=>{if(U)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return ut(u({id:J,action:"detect",payload:{image:await r(q)}}))},X=async()=>(gt!==null&&(g(gt),gt=null),Promise.resolve());o(gt,({workerId:q,jobId:J,status:ht,action:_t,data:at})=>{const K=`${_t}-${J}`;if(ht==="resolve")C(`[${q}]: Complete ${J}`),w[K].resolve({jobId:J,data:at}),delete w[K];else if(ht==="reject")if(w[K].reject(at),delete w[K],_t==="load"&&Y(at),y)y(at);else throw Error(at);else ht==="progress"&&p({...at,userJobId:J})});const I={id:c,worker:gt,load:ft,writeText:et,readText:yt,removeFile:B,FS:A,reinitialize:N,setParameters:F,recognize:L,detect:z,terminate:X};return G().then(()=>E(s)).then(()=>k(s,a,d)).then(()=>W(I)).catch(()=>{}),it},Nc}var Uc,Vm;function H1(){if(Vm)return Uc;Vm=1;const m=iy();return Uc={recognize:async(b,x,T)=>{const R=await m(x,1,T);return R.recognize(b).finally(async()=>{await R.terminate()})},detect:async(b,x)=>{const T=await m("osd",0,x);return T.detect(b).finally(async()=>{await T.terminate()})}},Uc}var zc,Im;function Y1(){return Im||(Im=1,zc={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}),zc}var Hc,Wm;function X1(){return Wm||(Wm=1,Hc={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}),Hc}var Yc,Km;function q1(){if(Km)return Yc;Km=1,O1();const m=E1(),u=iy(),C=H1(),b=Y1(),x=ey(),T=X1(),{setLogging:R}=mf();return Yc={languages:b,OEM:x,PSM:T,createScheduler:m,createWorker:u,setLogging:R,...C},Yc}var G1=q1();const V1=Sa(G1),I1=()=>{const[m,u]=rt.useState(""),[C,b]=rt.useState(!1),x=R=>new Promise(g=>{const o=new Image;o.src=URL.createObjectURL(R),o.onload=()=>{const r=document.createElement("canvas"),l=r.getContext("2d");r.width=o.width*2,r.height=o.height*2,l.drawImage(o,0,0,r.width,r.height);const i=l.getImageData(0,0,r.width,r.height),s=i.data;for(let a=0;a<s.length;a+=4){const d=(s[a]+s[a+1]+s[a+2])/3>128?255:0;s[a]=s[a+1]=s[a+2]=d}l.putImageData(i,0,0),r.toBlob(a=>g(a),"image/png")}}),T=async R=>{const g=R.target.files[0];if(g){b(!0);try{const o=await x(g),{data:{text:r}}=await V1.recognize(o,"eng",{tessedit_char_whitelist:"ABCDEFGHIJKLMNOPQRSTUVWXYZ-"});console.log("OCR 결과:",r);const l=r.match(/[EI][NS][FT][JP](-[AT])?/gi);u(l?l.join(", "):"결과를 찾을 수 없음")}catch(o){console.error("OCR 실패:",o),u("OCR 실패")}finally{b(!1)}}};return Q.jsxs("div",{children:[Q.jsx("h2",{children:"MBTI 결과 업로드"}),Q.jsx("input",{type:"file",accept:"image/*",onChange:T}),C&&Q.jsx("p",{children:"분석 중..."}),m&&Q.jsxs("p",{children:["MBTI 결과: ",m]})]})},W1=()=>{const m=async()=>{const u=await te.get("/ml/test1");console.log(u.data)};return Q.jsxs("div",{children:["ml test 1",Q.jsx("button",{onClick:m,children:"test"})]})};var Xc={exports:{}},Nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qm;function K1(){if(Qm)return Nt;Qm=1;var m=Symbol.for("react.element"),u=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),R=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),o=Symbol.for("react.suspense"),r=Symbol.for("react.memo"),l=Symbol.for("react.lazy"),i=Symbol.iterator;function s(E){return E===null||typeof E!="object"?null:(E=i&&E[i]||E["@@iterator"],typeof E=="function"?E:null)}var a={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,d={};function c(E,k,N){this.props=E,this.context=k,this.refs=d,this.updater=N||a}c.prototype.isReactComponent={},c.prototype.setState=function(E,k){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,k,"setState")},c.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function p(){}p.prototype=c.prototype;function y(E,k,N){this.props=E,this.context=k,this.refs=d,this.updater=N||a}var _=y.prototype=new p;_.constructor=y,f(_,c.prototype),_.isPureReactComponent=!0;var w=Array.isArray,O=Object.prototype.hasOwnProperty,M={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function U(E,k,N){var F,L={},z=null,X=null;if(k!=null)for(F in k.ref!==void 0&&(X=k.ref),k.key!==void 0&&(z=""+k.key),k)O.call(k,F)&&!j.hasOwnProperty(F)&&(L[F]=k[F]);var I=arguments.length-2;if(I===1)L.children=N;else if(1<I){for(var q=Array(I),J=0;J<I;J++)q[J]=arguments[J+2];L.children=q}if(E&&E.defaultProps)for(F in I=E.defaultProps,I)L[F]===void 0&&(L[F]=I[F]);return{$$typeof:m,type:E,key:z,ref:X,props:L,_owner:M.current}}function Y(E,k){return{$$typeof:m,type:E.type,key:k,ref:E.ref,props:E.props,_owner:E._owner}}function W(E){return typeof E=="object"&&E!==null&&E.$$typeof===m}function it(E){var k={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(N){return k[N]})}var lt=/\/+/g;function gt(E,k){return typeof E=="object"&&E!==null&&E.key!=null?it(""+E.key):k.toString(36)}function ut(E,k,N,F,L){var z=typeof E;(z==="undefined"||z==="boolean")&&(E=null);var X=!1;if(E===null)X=!0;else switch(z){case"string":case"number":X=!0;break;case"object":switch(E.$$typeof){case m:case u:X=!0}}if(X)return X=E,L=L(X),E=F===""?"."+gt(X,0):F,w(L)?(N="",E!=null&&(N=E.replace(lt,"$&/")+"/"),ut(L,k,N,"",function(J){return J})):L!=null&&(W(L)&&(L=Y(L,N+(!L.key||X&&X.key===L.key?"":(""+L.key).replace(lt,"$&/")+"/")+E)),k.push(L)),1;if(X=0,F=F===""?".":F+":",w(E))for(var I=0;I<E.length;I++){z=E[I];var q=F+gt(z,I);X+=ut(z,k,N,q,L)}else if(q=s(E),typeof q=="function")for(E=q.call(E),I=0;!(z=E.next()).done;)z=z.value,q=F+gt(z,I++),X+=ut(z,k,N,q,L);else if(z==="object")throw k=String(E),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.");return X}function ft(E,k,N){if(E==null)return E;var F=[],L=0;return ut(E,F,"","",function(z){return k.call(N,z,L++)}),F}function G(E){if(E._status===-1){var k=E._result;k=k(),k.then(function(N){(E._status===0||E._status===-1)&&(E._status=1,E._result=N)},function(N){(E._status===0||E._status===-1)&&(E._status=2,E._result=N)}),E._status===-1&&(E._status=0,E._result=k)}if(E._status===1)return E._result.default;throw E._result}var et={current:null},yt={transition:null},B={ReactCurrentDispatcher:et,ReactCurrentBatchConfig:yt,ReactCurrentOwner:M};function A(){throw Error("act(...) is not supported in production builds of React.")}return Nt.Children={map:ft,forEach:function(E,k,N){ft(E,function(){k.apply(this,arguments)},N)},count:function(E){var k=0;return ft(E,function(){k++}),k},toArray:function(E){return ft(E,function(k){return k})||[]},only:function(E){if(!W(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},Nt.Component=c,Nt.Fragment=C,Nt.Profiler=x,Nt.PureComponent=y,Nt.StrictMode=b,Nt.Suspense=o,Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,Nt.act=A,Nt.cloneElement=function(E,k,N){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var F=f({},E.props),L=E.key,z=E.ref,X=E._owner;if(k!=null){if(k.ref!==void 0&&(z=k.ref,X=M.current),k.key!==void 0&&(L=""+k.key),E.type&&E.type.defaultProps)var I=E.type.defaultProps;for(q in k)O.call(k,q)&&!j.hasOwnProperty(q)&&(F[q]=k[q]===void 0&&I!==void 0?I[q]:k[q])}var q=arguments.length-2;if(q===1)F.children=N;else if(1<q){I=Array(q);for(var J=0;J<q;J++)I[J]=arguments[J+2];F.children=I}return{$$typeof:m,type:E.type,key:L,ref:z,props:F,_owner:X}},Nt.createContext=function(E){return E={$$typeof:R,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:T,_context:E},E.Consumer=E},Nt.createElement=U,Nt.createFactory=function(E){var k=U.bind(null,E);return k.type=E,k},Nt.createRef=function(){return{current:null}},Nt.forwardRef=function(E){return{$$typeof:g,render:E}},Nt.isValidElement=W,Nt.lazy=function(E){return{$$typeof:l,_payload:{_status:-1,_result:E},_init:G}},Nt.memo=function(E,k){return{$$typeof:r,type:E,compare:k===void 0?null:k}},Nt.startTransition=function(E){var k=yt.transition;yt.transition={};try{E()}finally{yt.transition=k}},Nt.unstable_act=A,Nt.useCallback=function(E,k){return et.current.useCallback(E,k)},Nt.useContext=function(E){return et.current.useContext(E)},Nt.useDebugValue=function(){},Nt.useDeferredValue=function(E){return et.current.useDeferredValue(E)},Nt.useEffect=function(E,k){return et.current.useEffect(E,k)},Nt.useId=function(){return et.current.useId()},Nt.useImperativeHandle=function(E,k,N){return et.current.useImperativeHandle(E,k,N)},Nt.useInsertionEffect=function(E,k){return et.current.useInsertionEffect(E,k)},Nt.useLayoutEffect=function(E,k){return et.current.useLayoutEffect(E,k)},Nt.useMemo=function(E,k){return et.current.useMemo(E,k)},Nt.useReducer=function(E,k,N){return et.current.useReducer(E,k,N)},Nt.useRef=function(E){return et.current.useRef(E)},Nt.useState=function(E){return et.current.useState(E)},Nt.useSyncExternalStore=function(E,k,N){return et.current.useSyncExternalStore(E,k,N)},Nt.useTransition=function(){return et.current.useTransition()},Nt.version="18.3.1",Nt}var Zm;function Q1(){return Zm||(Zm=1,Xc.exports=K1()),Xc.exports}var Z1=Q1();const J1=Sa(Z1);var qc={},Jm;function $1(){return Jm||(Jm=1,(function(m){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var u=u||{version:"5.5.2"};if(m.fabric=u,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?u.document=document:u.document=document.implementation.createHTMLDocument(""),u.window=window;else{var C=ao,b=new C.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;u.document=b.document,u.jsdomImplForWrapper=ao.implForWrapper,u.nodeCanvas=ao.Canvas,u.window=b,DOMParser=u.window.DOMParser}u.isTouchSupported="ontouchstart"in u.window||"ontouchstart"in u.document||u.window&&u.window.navigator&&u.window.navigator.maxTouchPoints>0,u.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",u.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],u.DPI=96,u.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",u.commaWsp="(?:\\s+,?\\s*|,\\s*)",u.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,u.reNonWord=/[ \n\.,;!\?\-]/,u.fontPaths={},u.iMatrix=[1,0,0,1,0,0],u.svgNS="http://www.w3.org/2000/svg",u.perfLimitSizeTotal=2097152,u.maxCacheSideLimit=4096,u.minCacheSideLimit=256,u.charWidthsCache={},u.textureSize=2048,u.disableStyleCopyPaste=!1,u.enableGLFiltering=!0,u.devicePixelRatio=u.window.devicePixelRatio||u.window.webkitDevicePixelRatio||u.window.mozDevicePixelRatio||1,u.browserShadowBlurConstant=1,u.arcToSegmentsCache={},u.boundsOfCurveCache={},u.cachesBoundsOfCurve=!0,u.forceGLPutImageData=!1,u.initFilterBackend=function(){if(u.enableGLFiltering&&u.isWebglSupported&&u.isWebglSupported(u.textureSize))return console.log("max texture size: "+u.maxTextureSize),new u.WebglFilterBackend({tileSize:u.textureSize});if(u.Canvas2dFilterBackend)return new u.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=u),(function(){function g(a,f){if(this.__eventListeners[a]){var d=this.__eventListeners[a];f?d[d.indexOf(f)]=!1:u.util.array.fill(d,!1)}}function o(a,f){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var d in a)this.on(d,a[d]);else this.__eventListeners[a]||(this.__eventListeners[a]=[]),this.__eventListeners[a].push(f);return this}function r(a,f){var d=(function(){f.apply(this,arguments),this.off(a,d)}).bind(this);this.on(a,d)}function l(a,f){if(arguments.length===1)for(var d in a)r.call(this,d,a[d]);else r.call(this,a,f);return this}function i(a,f){if(!this.__eventListeners)return this;if(arguments.length===0)for(a in this.__eventListeners)g.call(this,a);else if(arguments.length===1&&typeof arguments[0]=="object")for(var d in a)g.call(this,d,a[d]);else g.call(this,a,f);return this}function s(a,f){if(!this.__eventListeners)return this;var d=this.__eventListeners[a];if(!d)return this;for(var c=0,p=d.length;c<p;c++)d[c]&&d[c].call(this,f||{});return this.__eventListeners[a]=d.filter(function(y){return y!==!1}),this}u.Observable={fire:s,on:o,once:l,off:i}})(),u.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var g=0,o=arguments.length;g<o;g++)this._onObjectAdded(arguments[g]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(g,o,r){var l=this._objects;return r?l[o]=g:l.splice(o,0,g),this._onObjectAdded&&this._onObjectAdded(g),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var g=this._objects,o,r=!1,l=0,i=arguments.length;l<i;l++)o=g.indexOf(arguments[l]),o!==-1&&(r=!0,g.splice(o,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[l]));return this.renderOnAddRemove&&r&&this.requestRenderAll(),this},forEachObject:function(g,o){for(var r=this.getObjects(),l=0,i=r.length;l<i;l++)g.call(o,r[l],l,r);return this},getObjects:function(g){return typeof g>"u"?this._objects.concat():this._objects.filter(function(o){return o.type===g})},item:function(g){return this._objects[g]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(g,o){return this._objects.indexOf(g)>-1?!0:o?this._objects.some(function(r){return typeof r.contains=="function"&&r.contains(g,!0)}):!1},complexity:function(){return this._objects.reduce(function(g,o){return g+=o.complexity?o.complexity():0,g},0)}},u.CommonMethods={_setOptions:function(g){for(var o in g)this.set(o,g[o])},_initGradient:function(g,o){g&&g.colorStops&&!(g instanceof u.Gradient)&&this.set(o,new u.Gradient(g))},_initPattern:function(g,o,r){g&&g.source&&!(g instanceof u.Pattern)?this.set(o,new u.Pattern(g,r)):r&&r()},_setObject:function(g){for(var o in g)this._set(o,g[o])},set:function(g,o){return typeof g=="object"?this._setObject(g):this._set(g,o),this},_set:function(g,o){this[g]=o},toggle:function(g){var o=this.get(g);return typeof o=="boolean"&&this.set(g,!o),this},get:function(g){return this[g]}},(function(g){var o=Math.sqrt,r=Math.atan2,l=Math.pow,i=Math.PI/180,s=Math.PI/2;u.util={cos:function(a){if(a===0)return 1;a<0&&(a=-a);var f=a/s;switch(f){case 1:case 3:return 0;case 2:return-1}return Math.cos(a)},sin:function(a){if(a===0)return 0;var f=a/s,d=1;switch(a<0&&(d=-1),f){case 1:return d;case 2:return 0;case 3:return-d}return Math.sin(a)},removeFromArray:function(a,f){var d=a.indexOf(f);return d!==-1&&a.splice(d,1),a},getRandomInt:function(a,f){return Math.floor(Math.random()*(f-a+1))+a},degreesToRadians:function(a){return a*i},radiansToDegrees:function(a){return a/i},rotatePoint:function(a,f,d){var c=new u.Point(a.x-f.x,a.y-f.y),p=u.util.rotateVector(c,d);return new u.Point(p.x,p.y).addEquals(f)},rotateVector:function(a,f){var d=u.util.sin(f),c=u.util.cos(f),p=a.x*c-a.y*d,y=a.x*d+a.y*c;return{x:p,y}},createVector:function(a,f){return new u.Point(f.x-a.x,f.y-a.y)},calcAngleBetweenVectors:function(a,f){return Math.acos((a.x*f.x+a.y*f.y)/(Math.hypot(a.x,a.y)*Math.hypot(f.x,f.y)))},getHatVector:function(a){return new u.Point(a.x,a.y).multiply(1/Math.hypot(a.x,a.y))},getBisector:function(a,f,d){var c=u.util.createVector(a,f),p=u.util.createVector(a,d),y=u.util.calcAngleBetweenVectors(c,p),_=u.util.calcAngleBetweenVectors(u.util.rotateVector(c,y),p),w=y*(_===0?1:-1)/2;return{vector:u.util.getHatVector(u.util.rotateVector(c,w)),angle:y}},projectStrokeOnPoints:function(a,f,d){var c=[],p=f.strokeWidth/2,y=f.strokeUniform?new u.Point(1/f.scaleX,1/f.scaleY):new u.Point(1,1),_=function(w){var O=p/Math.hypot(w.x,w.y);return new u.Point(w.x*O*y.x,w.y*O*y.y)};return a.length<=1||a.forEach(function(w,O){var M=new u.Point(w.x,w.y),j,U;O===0?(U=a[O+1],j=d?_(u.util.createVector(U,M)).addEquals(M):a[a.length-1]):O===a.length-1?(j=a[O-1],U=d?_(u.util.createVector(j,M)).addEquals(M):a[0]):(j=a[O-1],U=a[O+1]);var Y=u.util.getBisector(M,j,U),W=Y.vector,it=Y.angle,lt,gt;if(f.strokeLineJoin==="miter"&&(lt=-p/Math.sin(it/2),gt=new u.Point(W.x*lt*y.x,W.y*lt*y.y),Math.hypot(gt.x,gt.y)/p<=f.strokeMiterLimit)){c.push(M.add(gt)),c.push(M.subtract(gt));return}lt=-p*Math.SQRT2,gt=new u.Point(W.x*lt*y.x,W.y*lt*y.y),c.push(M.add(gt)),c.push(M.subtract(gt))}),c},transformPoint:function(a,f,d){return d?new u.Point(f[0]*a.x+f[2]*a.y,f[1]*a.x+f[3]*a.y):new u.Point(f[0]*a.x+f[2]*a.y+f[4],f[1]*a.x+f[3]*a.y+f[5])},makeBoundingBoxFromPoints:function(a,f){if(f)for(var d=0;d<a.length;d++)a[d]=u.util.transformPoint(a[d],f);var c=[a[0].x,a[1].x,a[2].x,a[3].x],p=u.util.array.min(c),y=u.util.array.max(c),_=y-p,w=[a[0].y,a[1].y,a[2].y,a[3].y],O=u.util.array.min(w),M=u.util.array.max(w),j=M-O;return{left:p,top:O,width:_,height:j}},invertTransform:function(a){var f=1/(a[0]*a[3]-a[1]*a[2]),d=[f*a[3],-f*a[1],-f*a[2],f*a[0]],c=u.util.transformPoint({x:a[4],y:a[5]},d,!0);return d[4]=-c.x,d[5]=-c.y,d},toFixed:function(a,f){return parseFloat(Number(a).toFixed(f))},parseUnit:function(a,f){var d=/\D{0,2}$/.exec(a),c=parseFloat(a);switch(f||(f=u.Text.DEFAULT_SVG_FONT_SIZE),d[0]){case"mm":return c*u.DPI/25.4;case"cm":return c*u.DPI/2.54;case"in":return c*u.DPI;case"pt":return c*u.DPI/72;case"pc":return c*u.DPI/72*12;case"em":return c*f;default:return c}},falseFunction:function(){return!1},getKlass:function(a,f){return a=u.util.string.camelize(a.charAt(0).toUpperCase()+a.slice(1)),u.util.resolveNamespace(f)[a]},getSvgAttributes:function(a){var f=["instantiated_by_use","style","id","class"];switch(a){case"linearGradient":f=f.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":f=f.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":f=f.concat(["offset","stop-color","stop-opacity"]);break}return f},resolveNamespace:function(a){if(!a)return u;var f=a.split("."),d=f.length,c,p=g||u.window;for(c=0;c<d;++c)p=p[f[c]];return p},loadImage:function(a,f,d,c){if(!a){f&&f.call(d,a);return}var p=u.util.createImage(),y=function(){f&&f.call(d,p,!1),p=p.onload=p.onerror=null};p.onload=y,p.onerror=function(){u.log("Error loading "+p.src),f&&f.call(d,null,!0),p=p.onload=p.onerror=null},a.indexOf("data")!==0&&c!==void 0&&c!==null&&(p.crossOrigin=c),a.substring(0,14)==="data:image/svg"&&(p.onload=null,u.util.loadImageInDom(p,y)),p.src=a},loadImageInDom:function(a,f){var d=u.document.createElement("div");d.style.width=d.style.height="1px",d.style.left=d.style.top="-100%",d.style.position="absolute",d.appendChild(a),u.document.querySelector("body").appendChild(d),a.onload=function(){f(),d.parentNode.removeChild(d),d=null}},enlivenObjects:function(a,f,d,c){a=a||[];var p=[],y=0,_=a.length;function w(){++y===_&&f&&f(p.filter(function(O){return O}))}if(!_){f&&f(p);return}a.forEach(function(O,M){if(!O||!O.type){w();return}var j=u.util.getKlass(O.type,d);j.fromObject(O,function(U,Y){Y||(p[M]=U),c&&c(O,U,Y),w()})})},enlivenObjectEnlivables:function(a,f,d){var c=u.Object.ENLIVEN_PROPS.filter(function(p){return!!a[p]});u.util.enlivenObjects(c.map(function(p){return a[p]}),function(p){var y={};c.forEach(function(_,w){y[_]=p[w],f&&(f[_]=p[w])}),d&&d(y)})},enlivenPatterns:function(a,f){a=a||[];function d(){++p===y&&f&&f(c)}var c=[],p=0,y=a.length;if(!y){f&&f(c);return}a.forEach(function(_,w){_&&_.source?new u.Pattern(_,function(O){c[w]=O,d()}):(c[w]=_,d())})},groupSVGElements:function(a,f,d){var c;return a&&a.length===1?(typeof d<"u"&&(a[0].sourcePath=d),a[0]):(f&&(f.width&&f.height?f.centerPoint={x:f.width/2,y:f.height/2}:(delete f.width,delete f.height)),c=new u.Group(a,f),typeof d<"u"&&(c.sourcePath=d),c)},populateWithProperties:function(a,f,d){if(d&&Array.isArray(d))for(var c=0,p=d.length;c<p;c++)d[c]in a&&(f[d[c]]=a[d[c]])},createCanvasElement:function(){return u.document.createElement("canvas")},copyCanvasElement:function(a){var f=u.util.createCanvasElement();return f.width=a.width,f.height=a.height,f.getContext("2d").drawImage(a,0,0),f},toDataURL:function(a,f,d){return a.toDataURL("image/"+f,d)},createImage:function(){return u.document.createElement("img")},multiplyTransformMatrices:function(a,f,d){return[a[0]*f[0]+a[2]*f[1],a[1]*f[0]+a[3]*f[1],a[0]*f[2]+a[2]*f[3],a[1]*f[2]+a[3]*f[3],d?0:a[0]*f[4]+a[2]*f[5]+a[4],d?0:a[1]*f[4]+a[3]*f[5]+a[5]]},qrDecompose:function(a){var f=r(a[1],a[0]),d=l(a[0],2)+l(a[1],2),c=o(d),p=(a[0]*a[3]-a[2]*a[1])/c,y=r(a[0]*a[2]+a[1]*a[3],d);return{angle:f/i,scaleX:c,scaleY:p,skewX:y/i,skewY:0,translateX:a[4],translateY:a[5]}},calcRotateMatrix:function(a){if(!a.angle)return u.iMatrix.concat();var f=u.util.degreesToRadians(a.angle),d=u.util.cos(f),c=u.util.sin(f);return[d,c,-c,d,0,0]},calcDimensionsMatrix:function(a){var f=typeof a.scaleX>"u"?1:a.scaleX,d=typeof a.scaleY>"u"?1:a.scaleY,c=[a.flipX?-f:f,0,0,a.flipY?-d:d,0,0],p=u.util.multiplyTransformMatrices,y=u.util.degreesToRadians;return a.skewX&&(c=p(c,[1,0,Math.tan(y(a.skewX)),1],!0)),a.skewY&&(c=p(c,[1,Math.tan(y(a.skewY)),0,1],!0)),c},composeMatrix:function(a){var f=[1,0,0,1,a.translateX||0,a.translateY||0],d=u.util.multiplyTransformMatrices;return a.angle&&(f=d(f,u.util.calcRotateMatrix(a))),(a.scaleX!==1||a.scaleY!==1||a.skewX||a.skewY||a.flipX||a.flipY)&&(f=d(f,u.util.calcDimensionsMatrix(a))),f},resetObjectTransform:function(a){a.scaleX=1,a.scaleY=1,a.skewX=0,a.skewY=0,a.flipX=!1,a.flipY=!1,a.rotate(0)},saveObjectTransform:function(a){return{scaleX:a.scaleX,scaleY:a.scaleY,skewX:a.skewX,skewY:a.skewY,angle:a.angle,left:a.left,flipX:a.flipX,flipY:a.flipY,top:a.top}},isTransparent:function(a,f,d,c){c>0&&(f>c?f-=c:f=0,d>c?d-=c:d=0);var p=!0,y,_,w=a.getImageData(f,d,c*2||1,c*2||1),O=w.data.length;for(y=3;y<O&&(_=w.data[y],p=_<=0,p!==!1);y+=4);return w=null,p},parsePreserveAspectRatioAttribute:function(a){var f="meet",d="Mid",c="Mid",p=a.split(" "),y;return p&&p.length&&(f=p.pop(),f!=="meet"&&f!=="slice"?(y=f,f="meet"):p.length&&(y=p.pop())),d=y!=="none"?y.slice(1,4):"none",c=y!=="none"?y.slice(5,8):"none",{meetOrSlice:f,alignX:d,alignY:c}},clearFabricFontCache:function(a){a=(a||"").toLowerCase(),a?u.charWidthsCache[a]&&delete u.charWidthsCache[a]:u.charWidthsCache={}},limitDimsByArea:function(a,f){var d=Math.sqrt(f*a),c=Math.floor(f/d);return{x:Math.floor(d),y:c}},capValue:function(a,f,d){return Math.max(a,Math.min(f,d))},findScaleToFit:function(a,f){return Math.min(f.width/a.width,f.height/a.height)},findScaleToCover:function(a,f){return Math.max(f.width/a.width,f.height/a.height)},matrixToSVG:function(a){return"matrix("+a.map(function(f){return u.util.toFixed(f,u.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(a,f){var d=u.util.invertTransform(f),c=u.util.multiplyTransformMatrices(d,a.calcOwnMatrix());u.util.applyTransformToObject(a,c)},addTransformToObject:function(a,f){u.util.applyTransformToObject(a,u.util.multiplyTransformMatrices(f,a.calcOwnMatrix()))},applyTransformToObject:function(a,f){var d=u.util.qrDecompose(f),c=new u.Point(d.translateX,d.translateY);a.flipX=!1,a.flipY=!1,a.set("scaleX",d.scaleX),a.set("scaleY",d.scaleY),a.skewX=d.skewX,a.skewY=d.skewY,a.angle=d.angle,a.setPositionByOrigin(c,"center","center")},sizeAfterTransform:function(a,f,d){var c=a/2,p=f/2,y=[{x:-c,y:-p},{x:c,y:-p},{x:-c,y:p},{x:c,y:p}],_=u.util.calcDimensionsMatrix(d),w=u.util.makeBoundingBoxFromPoints(y,_);return{x:w.width,y:w.height}},mergeClipPaths:function(a,f){var d=a,c=f;d.inverted&&!c.inverted&&(d=f,c=a),u.util.applyTransformToObject(c,u.util.multiplyTransformMatrices(u.util.invertTransform(d.calcTransformMatrix()),c.calcTransformMatrix()));var p=d.inverted&&c.inverted;return p&&(d.inverted=c.inverted=!1),new u.Group([d],{clipPath:c,inverted:p})},hasStyleChanged:function(a,f,d){return d=d||!1,a.fill!==f.fill||a.stroke!==f.stroke||a.strokeWidth!==f.strokeWidth||a.fontSize!==f.fontSize||a.fontFamily!==f.fontFamily||a.fontWeight!==f.fontWeight||a.fontStyle!==f.fontStyle||a.textBackgroundColor!==f.textBackgroundColor||a.deltaY!==f.deltaY||d&&(a.overline!==f.overline||a.underline!==f.underline||a.linethrough!==f.linethrough)},stylesToArray:function(d,f){for(var d=u.util.object.clone(d,!0),c=f.split(`
`),p=-1,y={},_=[],w=0;w<c.length;w++){if(!d[w]){p+=c[w].length;continue}for(var O=0;O<c[w].length;O++){p++;var M=d[w][O];if(M&&Object.keys(M).length>0){var j=u.util.hasStyleChanged(y,M,!0);j?_.push({start:p,end:p+1,style:M}):_[_.length-1].end++}y=M||{}}}return _},stylesFromArray:function(a,f){if(!Array.isArray(a))return a;for(var d=f.split(`
`),c=-1,p=0,y={},_=0;_<d.length;_++)for(var w=0;w<d[_].length;w++)c++,a[p]&&a[p].start<=c&&c<a[p].end&&(y[_]=y[_]||{},y[_][w]=Object.assign({},a[p].style),c===a[p].end-1&&p++);return y}}})(m),(function(){var g=Array.prototype.join,o={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},r={m:"l",M:"L"};function l(B,A,E,k,N,F,L,z,X,I,q){var J=u.util.cos(B),ht=u.util.sin(B),_t=u.util.cos(A),at=u.util.sin(A),K=E*N*_t-k*F*at+L,vt=k*N*_t+E*F*at+z,pt=I+X*(-E*N*ht-k*F*J),ot=q+X*(-k*N*ht+E*F*J),St=K+X*(E*N*at+k*F*_t),wt=vt+X*(k*N*at-E*F*_t);return["C",pt,ot,St,wt,K,vt]}function i(B,A,E,k,N,F,L){var z=Math.PI,X=L*z/180,I=u.util.sin(X),q=u.util.cos(X),J=0,ht=0;E=Math.abs(E),k=Math.abs(k);var _t=-q*B*.5-I*A*.5,at=-q*A*.5+I*B*.5,K=E*E,vt=k*k,pt=at*at,ot=_t*_t,St=K*vt-K*pt-vt*ot,wt=0;if(St<0){var Mt=Math.sqrt(1-St/(K*vt));E*=Mt,k*=Mt}else wt=(N===F?-1:1)*Math.sqrt(St/(K*pt+vt*ot));var Tt=wt*E*at/k,mt=-wt*k*_t/E,Ot=q*Tt-I*mt+B*.5,Bt=I*Tt+q*mt+A*.5,Ht=s(1,0,(_t-Tt)/E,(at-mt)/k),Vt=s((_t-Tt)/E,(at-mt)/k,(-_t-Tt)/E,(-at-mt)/k);F===0&&Vt>0?Vt-=2*z:F===1&&Vt<0&&(Vt+=2*z);for(var kt=Math.ceil(Math.abs(Vt/z*2)),ee=[],Yt=Vt/kt,ci=8/3*Math.sin(Yt/4)*Math.sin(Yt/4)/Math.sin(Yt/2),Ji=Ht+Yt,He=0;He<kt;He++)ee[He]=l(Ht,Ji,q,I,E,k,Ot,Bt,ci,J,ht),J=ee[He][5],ht=ee[He][6],Ht=Ji,Ji+=Yt;return ee}function s(B,A,E,k){var N=Math.atan2(A,B),F=Math.atan2(k,E);return F>=N?F-N:2*Math.PI-(N-F)}function a(B,A,E,k,N,F,L,z){var X;if(u.cachesBoundsOfCurve&&(X=g.call(arguments),u.boundsOfCurveCache[X]))return u.boundsOfCurveCache[X];var I=Math.sqrt,q=Math.min,J=Math.max,ht=Math.abs,_t=[],at=[[],[]],K,vt,pt,ot,St,wt,Mt,Tt;vt=6*B-12*E+6*N,K=-3*B+9*E-9*N+3*L,pt=3*E-3*B;for(var mt=0;mt<2;++mt){if(mt>0&&(vt=6*A-12*k+6*F,K=-3*A+9*k-9*F+3*z,pt=3*k-3*A),ht(K)<1e-12){if(ht(vt)<1e-12)continue;ot=-pt/vt,0<ot&&ot<1&&_t.push(ot);continue}Mt=vt*vt-4*pt*K,!(Mt<0)&&(Tt=I(Mt),St=(-vt+Tt)/(2*K),0<St&&St<1&&_t.push(St),wt=(-vt-Tt)/(2*K),0<wt&&wt<1&&_t.push(wt))}for(var Ot,Bt,Ht=_t.length,Vt=Ht,kt;Ht--;)ot=_t[Ht],kt=1-ot,Ot=kt*kt*kt*B+3*kt*kt*ot*E+3*kt*ot*ot*N+ot*ot*ot*L,at[0][Ht]=Ot,Bt=kt*kt*kt*A+3*kt*kt*ot*k+3*kt*ot*ot*F+ot*ot*ot*z,at[1][Ht]=Bt;at[0][Vt]=B,at[1][Vt]=A,at[0][Vt+1]=L,at[1][Vt+1]=z;var ee=[{x:q.apply(null,at[0]),y:q.apply(null,at[1])},{x:J.apply(null,at[0]),y:J.apply(null,at[1])}];return u.cachesBoundsOfCurve&&(u.boundsOfCurveCache[X]=ee),ee}function f(B,A,E){for(var k=E[1],N=E[2],F=E[3],L=E[4],z=E[5],X=E[6],I=E[7],q=i(X-B,I-A,k,N,L,z,F),J=0,ht=q.length;J<ht;J++)q[J][1]+=B,q[J][2]+=A,q[J][3]+=B,q[J][4]+=A,q[J][5]+=B,q[J][6]+=A;return q}function d(B){var A=0,E=0,k=B.length,N=0,F=0,L,z,X,I=[],q,J,ht;for(z=0;z<k;++z){switch(X=!1,L=B[z].slice(0),L[0]){case"l":L[0]="L",L[1]+=A,L[2]+=E;case"L":A=L[1],E=L[2];break;case"h":L[1]+=A;case"H":L[0]="L",L[2]=E,A=L[1];break;case"v":L[1]+=E;case"V":L[0]="L",E=L[1],L[1]=A,L[2]=E;break;case"m":L[0]="M",L[1]+=A,L[2]+=E;case"M":A=L[1],E=L[2],N=L[1],F=L[2];break;case"c":L[0]="C",L[1]+=A,L[2]+=E,L[3]+=A,L[4]+=E,L[5]+=A,L[6]+=E;case"C":J=L[3],ht=L[4],A=L[5],E=L[6];break;case"s":L[0]="S",L[1]+=A,L[2]+=E,L[3]+=A,L[4]+=E;case"S":q==="C"?(J=2*A-J,ht=2*E-ht):(J=A,ht=E),A=L[3],E=L[4],L[0]="C",L[5]=L[3],L[6]=L[4],L[3]=L[1],L[4]=L[2],L[1]=J,L[2]=ht,J=L[3],ht=L[4];break;case"q":L[0]="Q",L[1]+=A,L[2]+=E,L[3]+=A,L[4]+=E;case"Q":J=L[1],ht=L[2],A=L[3],E=L[4];break;case"t":L[0]="T",L[1]+=A,L[2]+=E;case"T":q==="Q"?(J=2*A-J,ht=2*E-ht):(J=A,ht=E),L[0]="Q",A=L[1],E=L[2],L[1]=J,L[2]=ht,L[3]=A,L[4]=E;break;case"a":L[0]="A",L[6]+=A,L[7]+=E;case"A":X=!0,I=I.concat(f(A,E,L)),A=L[6],E=L[7];break;case"z":case"Z":A=N,E=F;break}X||I.push(L),q=L[0]}return I}function c(B,A,E,k){return Math.sqrt((E-B)*(E-B)+(k-A)*(k-A))}function p(B){return B*B*B}function y(B){return 3*B*B*(1-B)}function _(B){return 3*B*(1-B)*(1-B)}function w(B){return(1-B)*(1-B)*(1-B)}function O(B,A,E,k,N,F,L,z){return function(X){var I=p(X),q=y(X),J=_(X),ht=w(X);return{x:L*I+N*q+E*J+B*ht,y:z*I+F*q+k*J+A*ht}}}function M(B,A,E,k,N,F,L,z){return function(X){var I=1-X,q=3*I*I*(E-B)+6*I*X*(N-E)+3*X*X*(L-N),J=3*I*I*(k-A)+6*I*X*(F-k)+3*X*X*(z-F);return Math.atan2(J,q)}}function j(B){return B*B}function U(B){return 2*B*(1-B)}function Y(B){return(1-B)*(1-B)}function W(B,A,E,k,N,F){return function(L){var z=j(L),X=U(L),I=Y(L);return{x:N*z+E*X+B*I,y:F*z+k*X+A*I}}}function it(B,A,E,k,N,F){return function(L){var z=1-L,X=2*z*(E-B)+2*L*(N-E),I=2*z*(k-A)+2*L*(F-k);return Math.atan2(I,X)}}function lt(B,A,E){var k={x:A,y:E},N,F=0,L;for(L=1;L<=100;L+=1)N=B(L/100),F+=c(k.x,k.y,N.x,N.y),k=N;return F}function gt(B,A){for(var E=0,k=0,N=B.iterator,F={x:B.x,y:B.y},L,z,X=.01,I=B.angleFinder,q;k<A&&X>1e-4;)L=N(E),q=E,z=c(F.x,F.y,L.x,L.y),z+k>A?(E-=X,X/=2):(F=L,E+=X,k+=z);return L.angle=I(q),L}function ut(B){for(var A=0,E=B.length,k,N=0,F=0,L=0,z=0,X=[],I,q,J,ht=0;ht<E;ht++){switch(k=B[ht],q={x:N,y:F,command:k[0]},k[0]){case"M":q.length=0,L=N=k[1],z=F=k[2];break;case"L":q.length=c(N,F,k[1],k[2]),N=k[1],F=k[2];break;case"C":I=O(N,F,k[1],k[2],k[3],k[4],k[5],k[6]),J=M(N,F,k[1],k[2],k[3],k[4],k[5],k[6]),q.iterator=I,q.angleFinder=J,q.length=lt(I,N,F),N=k[5],F=k[6];break;case"Q":I=W(N,F,k[1],k[2],k[3],k[4]),J=it(N,F,k[1],k[2],k[3],k[4]),q.iterator=I,q.angleFinder=J,q.length=lt(I,N,F),N=k[3],F=k[4];break;case"Z":case"z":q.destX=L,q.destY=z,q.length=c(N,F,L,z),N=L,F=z;break}A+=q.length,X.push(q)}return X.push({length:A,x:N,y:F}),X}function ft(B,A,E){E||(E=ut(B));for(var k=0;A-E[k].length>0&&k<E.length-2;)A-=E[k].length,k++;var N=E[k],F=A/N.length,L=N.command,z=B[k],X;switch(L){case"M":return{x:N.x,y:N.y,angle:0};case"Z":case"z":return X=new u.Point(N.x,N.y).lerp(new u.Point(N.destX,N.destY),F),X.angle=Math.atan2(N.destY-N.y,N.destX-N.x),X;case"L":return X=new u.Point(N.x,N.y).lerp(new u.Point(z[1],z[2]),F),X.angle=Math.atan2(z[2]-N.y,z[1]-N.x),X;case"C":return gt(N,A);case"Q":return gt(N,A)}}function G(B){var A=[],E=[],k,N,F=u.rePathCommand,L="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",z="("+L+")"+u.commaWsp,X="([01])"+u.commaWsp+"?",I=z+"?"+z+"?"+z+X+X+z+"?("+L+")",q=new RegExp(I,"g"),J,ht,_t;if(!B||!B.match)return A;_t=B.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var at=0,K,vt=_t.length;at<vt;at++){k=_t[at],ht=k.slice(1).trim(),E.length=0;var pt=k.charAt(0);if(K=[pt],pt.toLowerCase()==="a")for(var ot;ot=q.exec(ht);)for(var St=1;St<ot.length;St++)E.push(ot[St]);else for(;J=F.exec(ht);)E.push(J[0]);for(var St=0,wt=E.length;St<wt;St++)N=parseFloat(E[St]),isNaN(N)||K.push(N);var Mt=o[pt.toLowerCase()],Tt=r[pt]||pt;if(K.length-1>Mt)for(var mt=1,Ot=K.length;mt<Ot;mt+=Mt)A.push([pt].concat(K.slice(mt,mt+Mt))),pt=Tt;else A.push(K)}return A}function et(B,A){var E=[],k,N=new u.Point(B[0].x,B[0].y),F=new u.Point(B[1].x,B[1].y),L=B.length,z=1,X=0,I=L>2;for(A=A||0,I&&(z=B[2].x<F.x?-1:B[2].x===F.x?0:1,X=B[2].y<F.y?-1:B[2].y===F.y?0:1),E.push(["M",N.x-z*A,N.y-X*A]),k=1;k<L;k++){if(!N.eq(F)){var q=N.midPointFrom(F);E.push(["Q",N.x,N.y,q.x,q.y])}N=B[k],k+1<B.length&&(F=B[k+1])}return I&&(z=N.x>B[k-2].x?1:N.x===B[k-2].x?0:-1,X=N.y>B[k-2].y?1:N.y===B[k-2].y?0:-1),E.push(["L",N.x+z*A,N.y+X*A]),E}function yt(B,A,E){return E&&(A=u.util.multiplyTransformMatrices(A,[1,0,0,1,-E.x,-E.y])),B.map(function(k){for(var N=k.slice(0),F={},L=1;L<k.length-1;L+=2)F.x=k[L],F.y=k[L+1],F=u.util.transformPoint(F,A),N[L]=F.x,N[L+1]=F.y;return N})}u.util.joinPath=function(B){return B.map(function(A){return A.join(" ")}).join(" ")},u.util.parsePath=G,u.util.makePathSimpler=d,u.util.getSmoothPathFromPoints=et,u.util.getPathSegmentsInfo=ut,u.util.getBoundsOfCurve=a,u.util.getPointOnPath=ft,u.util.transformPath=yt})(),(function(){var g=Array.prototype.slice;function o(a,f){for(var d=g.call(arguments,2),c=[],p=0,y=a.length;p<y;p++)c[p]=d.length?a[p][f].apply(a[p],d):a[p][f].call(a[p]);return c}function r(a,f){return s(a,f,function(d,c){return d>=c})}function l(a,f){return s(a,f,function(d,c){return d<c})}function i(a,f){for(var d=a.length;d--;)a[d]=f;return a}function s(a,f,d){if(!(!a||a.length===0)){var c=a.length-1,p=f?a[c][f]:a[c];if(f)for(;c--;)d(a[c][f],p)&&(p=a[c][f]);else for(;c--;)d(a[c],p)&&(p=a[c]);return p}}u.util.array={fill:i,invoke:o,min:l,max:r}})(),(function(){function g(r,l,i){if(i)if(!u.isLikelyNode&&l instanceof Element)r=l;else if(l instanceof Array){r=[];for(var s=0,a=l.length;s<a;s++)r[s]=g({},l[s],i)}else if(l&&typeof l=="object")for(var f in l)f==="canvas"||f==="group"?r[f]=null:l.hasOwnProperty(f)&&(r[f]=g({},l[f],i));else r=l;else for(var f in l)r[f]=l[f];return r}function o(r,l){return g({},r,l)}u.util.object={extend:g,clone:o},u.util.object.extend(u.util,u.Observable)})(),(function(){function g(s){return s.replace(/-+(.)?/g,function(a,f){return f?f.toUpperCase():""})}function o(s,a){return s.charAt(0).toUpperCase()+(a?s.slice(1):s.slice(1).toLowerCase())}function r(s){return s.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function l(s){var a=0,f,d=[];for(a=0,f;a<s.length;a++)(f=i(s,a))!==!1&&d.push(f);return d}function i(s,a){var f=s.charCodeAt(a);if(isNaN(f))return"";if(f<55296||f>57343)return s.charAt(a);if(55296<=f&&f<=56319){if(s.length<=a+1)throw"High surrogate without following low surrogate";var d=s.charCodeAt(a+1);if(56320>d||d>57343)throw"High surrogate without following low surrogate";return s.charAt(a)+s.charAt(a+1)}if(a===0)throw"Low surrogate without preceding high surrogate";var c=s.charCodeAt(a-1);if(55296>c||c>56319)throw"Low surrogate without preceding high surrogate";return!1}u.util.string={camelize:g,capitalize:o,escapeXml:r,graphemeSplit:l}})(),(function(){var g=Array.prototype.slice,o=function(){},r=(function(){for(var f in{toString:1})if(f==="toString")return!1;return!0})(),l=function(f,d,c){for(var p in d)p in f.prototype&&typeof f.prototype[p]=="function"&&(d[p]+"").indexOf("callSuper")>-1?f.prototype[p]=(function(y){return function(){var _=this.constructor.superclass;this.constructor.superclass=c;var w=d[y].apply(this,arguments);if(this.constructor.superclass=_,y!=="initialize")return w}})(p):f.prototype[p]=d[p],r&&(d.toString!==Object.prototype.toString&&(f.prototype.toString=d.toString),d.valueOf!==Object.prototype.valueOf&&(f.prototype.valueOf=d.valueOf))};function i(){}function s(f){for(var d=null,c=this;c.constructor.superclass;){var p=c.constructor.superclass.prototype[f];if(c[f]!==p){d=p;break}c=c.constructor.superclass.prototype}return d?arguments.length>1?d.apply(this,g.call(arguments,1)):d.call(this):console.log("tried to callSuper "+f+", method not found in prototype chain",this)}function a(){var f=null,d=g.call(arguments,0);typeof d[0]=="function"&&(f=d.shift());function c(){this.initialize.apply(this,arguments)}c.superclass=f,c.subclasses=[],f&&(i.prototype=f.prototype,c.prototype=new i,f.subclasses.push(c));for(var p=0,y=d.length;p<y;p++)l(c,d[p],f);return c.prototype.initialize||(c.prototype.initialize=o),c.prototype.constructor=c,c.prototype.callSuper=s,c}u.util.createClass=a})(),(function(){var g=!!u.document.createElement("div").attachEvent,o=["touchstart","touchmove","touchend"];u.util.addListener=function(l,i,s,a){l&&l.addEventListener(i,s,g?!1:a)},u.util.removeListener=function(l,i,s,a){l&&l.removeEventListener(i,s,g?!1:a)};function r(l){var i=l.changedTouches;return i&&i[0]?i[0]:l}u.util.getPointer=function(l){var i=l.target,s=u.util.getScrollLeftTop(i),a=r(l);return{x:a.clientX+s.left,y:a.clientY+s.top}},u.util.isTouchEvent=function(l){return o.indexOf(l.type)>-1||l.pointerType==="touch"}})(),(function(){function g(a,f){var d=a.style;if(!d)return a;if(typeof f=="string")return a.style.cssText+=";"+f,f.indexOf("opacity")>-1?s(a,f.match(/opacity:\s*(\d?\.?\d*)/)[1]):a;for(var c in f)if(c==="opacity")s(a,f[c]);else{var p=c==="float"||c==="cssFloat"?typeof d.styleFloat>"u"?"cssFloat":"styleFloat":c;d.setProperty(p,f[c])}return a}var o=u.document.createElement("div"),r=typeof o.style.opacity=="string",l=typeof o.style.filter=="string",i=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,s=function(a){return a};r?s=function(a,f){return a.style.opacity=f,a}:l&&(s=function(a,f){var d=a.style;return a.currentStyle&&!a.currentStyle.hasLayout&&(d.zoom=1),i.test(d.filter)?(f=f>=.9999?"":"alpha(opacity="+f*100+")",d.filter=d.filter.replace(i,f)):d.filter+=" alpha(opacity="+f*100+")",a}),u.util.setStyle=g})(),(function(){var g=Array.prototype.slice;function o(w){return typeof w=="string"?u.document.getElementById(w):w}var r,l=function(w){return g.call(w,0)};try{r=l(u.document.childNodes)instanceof Array}catch{}r||(l=function(w){for(var O=new Array(w.length),M=w.length;M--;)O[M]=w[M];return O});function i(w,O){var M=u.document.createElement(w);for(var j in O)j==="class"?M.className=O[j]:j==="for"?M.htmlFor=O[j]:M.setAttribute(j,O[j]);return M}function s(w,O){w&&(" "+w.className+" ").indexOf(" "+O+" ")===-1&&(w.className+=(w.className?" ":"")+O)}function a(w,O,M){return typeof O=="string"&&(O=i(O,M)),w.parentNode&&w.parentNode.replaceChild(O,w),O.appendChild(w),O}function f(w){for(var O=0,M=0,j=u.document.documentElement,U=u.document.body||{scrollLeft:0,scrollTop:0};w&&(w.parentNode||w.host)&&(w=w.parentNode||w.host,w===u.document?(O=U.scrollLeft||j.scrollLeft||0,M=U.scrollTop||j.scrollTop||0):(O+=w.scrollLeft||0,M+=w.scrollTop||0),!(w.nodeType===1&&w.style.position==="fixed")););return{left:O,top:M}}function d(w){var O,M=w&&w.ownerDocument,j={left:0,top:0},U={left:0,top:0},Y,W={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!M)return U;for(var it in W)U[W[it]]+=parseInt(c(w,it),10)||0;return O=M.documentElement,typeof w.getBoundingClientRect<"u"&&(j=w.getBoundingClientRect()),Y=f(w),{left:j.left+Y.left-(O.clientLeft||0)+U.left,top:j.top+Y.top-(O.clientTop||0)+U.top}}var c;u.document.defaultView&&u.document.defaultView.getComputedStyle?c=function(w,O){var M=u.document.defaultView.getComputedStyle(w,null);return M?M[O]:void 0}:c=function(w,O){var M=w.style[O];return!M&&w.currentStyle&&(M=w.currentStyle[O]),M},(function(){var w=u.document.documentElement.style,O="userSelect"in w?"userSelect":"MozUserSelect"in w?"MozUserSelect":"WebkitUserSelect"in w?"WebkitUserSelect":"KhtmlUserSelect"in w?"KhtmlUserSelect":"";function M(U){return typeof U.onselectstart<"u"&&(U.onselectstart=u.util.falseFunction),O?U.style[O]="none":typeof U.unselectable=="string"&&(U.unselectable="on"),U}function j(U){return typeof U.onselectstart<"u"&&(U.onselectstart=null),O?U.style[O]="":typeof U.unselectable=="string"&&(U.unselectable=""),U}u.util.makeElementUnselectable=M,u.util.makeElementSelectable=j})();function p(w){var O=u.jsdomImplForWrapper(w);return O._canvas||O._image}function y(w){if(u.isLikelyNode){var O=u.jsdomImplForWrapper(w);O&&(O._image=null,O._canvas=null,O._currentSrc=null,O._attributes=null,O._classList=null)}}function _(w,O){w.imageSmoothingEnabled=w.imageSmoothingEnabled||w.webkitImageSmoothingEnabled||w.mozImageSmoothingEnabled||w.msImageSmoothingEnabled||w.oImageSmoothingEnabled,w.imageSmoothingEnabled=O}u.util.setImageSmoothing=_,u.util.getById=o,u.util.toArray=l,u.util.addClass=s,u.util.makeElement=i,u.util.wrapElement=a,u.util.getScrollLeftTop=f,u.util.getElementOffset=d,u.util.getNodeCanvas=p,u.util.cleanUpJsdomNode=y})(),(function(){function g(l,i){return l+(/\?/.test(l)?"&":"?")+i}function o(){}function r(l,i){i||(i={});var s=i.method?i.method.toUpperCase():"GET",a=i.onComplete||function(){},f=new u.window.XMLHttpRequest,d=i.body||i.parameters;return f.onreadystatechange=function(){f.readyState===4&&(a(f),f.onreadystatechange=o)},s==="GET"&&(d=null,typeof i.parameters=="string"&&(l=g(l,i.parameters))),f.open(s,l,!0),(s==="POST"||s==="PUT")&&f.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),f.send(d),f}u.util.request=r})(),u.log=console.log,u.warn=console.warn,(function(){var g=u.util.object.extend,o=u.util.object.clone,r=[];u.util.object.extend(r,{cancelAll:function(){var p=this.splice(0);return p.forEach(function(y){y.cancel()}),p},cancelByCanvas:function(p){if(!p)return[];var y=this.filter(function(_){return typeof _.target=="object"&&_.target.canvas===p});return y.forEach(function(_){_.cancel()}),y},cancelByTarget:function(p){var y=this.findAnimationsByTarget(p);return y.forEach(function(_){_.cancel()}),y},findAnimationIndex:function(p){return this.indexOf(this.findAnimation(p))},findAnimation:function(p){return this.find(function(y){return y.cancel===p})},findAnimationsByTarget:function(p){return p?this.filter(function(y){return y.target===p}):[]}});function l(){return!1}function i(p,y,_,w){return-_*Math.cos(p/w*(Math.PI/2))+_+y}function s(p){p||(p={});var y=!1,_,w=function(){var O=u.runningAnimations.indexOf(_);return O>-1&&u.runningAnimations.splice(O,1)[0]};return _=g(o(p),{cancel:function(){return y=!0,w()},currentValue:"startValue"in p?p.startValue:0,completionRate:0,durationRate:0}),u.runningAnimations.push(_),d(function(O){var M=O||+new Date,j=p.duration||500,U=M+j,Y,W=p.onChange||l,it=p.abort||l,lt=p.onComplete||l,gt=p.easing||i,ut="startValue"in p?p.startValue.length>0:!1,ft="startValue"in p?p.startValue:0,G="endValue"in p?p.endValue:100,et=p.byValue||(ut?ft.map(function(yt,B){return G[B]-ft[B]}):G-ft);p.onStart&&p.onStart(),(function yt(B){Y=B||+new Date;var A=Y>U?j:Y-M,E=A/j,k=ut?ft.map(function(F,L){return gt(A,ft[L],et[L],j)}):gt(A,ft,et,j),N=Math.abs(ut?(k[0]-ft[0])/et[0]:(k-ft)/et);if(_.currentValue=ut?k.slice():k,_.completionRate=N,_.durationRate=E,!y){if(it(k,N,E)){w();return}if(Y>U){_.currentValue=ut?G.slice():G,_.completionRate=1,_.durationRate=1,W(ut?G.slice():G,1,1),lt(G,1,1),w();return}else W(k,N,E),d(yt)}})(M)}),_.cancel}var a=u.window.requestAnimationFrame||u.window.webkitRequestAnimationFrame||u.window.mozRequestAnimationFrame||u.window.oRequestAnimationFrame||u.window.msRequestAnimationFrame||function(p){return u.window.setTimeout(p,1e3/60)},f=u.window.cancelAnimationFrame||u.window.clearTimeout;function d(){return a.apply(u.window,arguments)}function c(){return f.apply(u.window,arguments)}u.util.animate=s,u.util.requestAnimFrame=d,u.util.cancelAnimFrame=c,u.runningAnimations=r})(),(function(){function g(r,l,i){var s="rgba("+parseInt(r[0]+i*(l[0]-r[0]),10)+","+parseInt(r[1]+i*(l[1]-r[1]),10)+","+parseInt(r[2]+i*(l[2]-r[2]),10);return s+=","+(r&&l?parseFloat(r[3]+i*(l[3]-r[3])):1),s+=")",s}function o(r,l,i,s){var a=new u.Color(r).getSource(),f=new u.Color(l).getSource(),d=s.onComplete,c=s.onChange;return s=s||{},u.util.animate(u.util.object.extend(s,{duration:i||500,startValue:a,endValue:f,byValue:f,easing:function(p,y,_,w){var O=s.colorEasing?s.colorEasing(p,w):1-Math.cos(p/w*(Math.PI/2));return g(y,_,O)},onComplete:function(p,y,_){if(d)return d(g(f,f,0),y,_)},onChange:function(p,y,_){if(c){if(Array.isArray(p))return c(g(p,p,0),y,_);c(p,y,_)}}}))}u.util.animateColor=o})(),(function(){function g(B,A,E,k){return B<Math.abs(A)?(B=A,k=E/4):A===0&&B===0?k=E/(2*Math.PI)*Math.asin(1):k=E/(2*Math.PI)*Math.asin(A/B),{a:B,c:A,p:E,s:k}}function o(B,A,E){return B.a*Math.pow(2,10*(A-=1))*Math.sin((A*E-B.s)*(2*Math.PI)/B.p)}function r(B,A,E,k){return E*((B=B/k-1)*B*B+1)+A}function l(B,A,E,k){return B/=k/2,B<1?E/2*B*B*B+A:E/2*((B-=2)*B*B+2)+A}function i(B,A,E,k){return E*(B/=k)*B*B*B+A}function s(B,A,E,k){return-E*((B=B/k-1)*B*B*B-1)+A}function a(B,A,E,k){return B/=k/2,B<1?E/2*B*B*B*B+A:-E/2*((B-=2)*B*B*B-2)+A}function f(B,A,E,k){return E*(B/=k)*B*B*B*B+A}function d(B,A,E,k){return E*((B=B/k-1)*B*B*B*B+1)+A}function c(B,A,E,k){return B/=k/2,B<1?E/2*B*B*B*B*B+A:E/2*((B-=2)*B*B*B*B+2)+A}function p(B,A,E,k){return-E*Math.cos(B/k*(Math.PI/2))+E+A}function y(B,A,E,k){return E*Math.sin(B/k*(Math.PI/2))+A}function _(B,A,E,k){return-E/2*(Math.cos(Math.PI*B/k)-1)+A}function w(B,A,E,k){return B===0?A:E*Math.pow(2,10*(B/k-1))+A}function O(B,A,E,k){return B===k?A+E:E*(-Math.pow(2,-10*B/k)+1)+A}function M(B,A,E,k){return B===0?A:B===k?A+E:(B/=k/2,B<1?E/2*Math.pow(2,10*(B-1))+A:E/2*(-Math.pow(2,-10*--B)+2)+A)}function j(B,A,E,k){return-E*(Math.sqrt(1-(B/=k)*B)-1)+A}function U(B,A,E,k){return E*Math.sqrt(1-(B=B/k-1)*B)+A}function Y(B,A,E,k){return B/=k/2,B<1?-E/2*(Math.sqrt(1-B*B)-1)+A:E/2*(Math.sqrt(1-(B-=2)*B)+1)+A}function W(B,A,E,k){var N=1.70158,F=0,L=E;if(B===0)return A;if(B/=k,B===1)return A+E;F||(F=k*.3);var z=g(L,E,F,N);return-o(z,B,k)+A}function it(B,A,E,k){var N=1.70158,F=0,L=E;if(B===0)return A;if(B/=k,B===1)return A+E;F||(F=k*.3);var z=g(L,E,F,N);return z.a*Math.pow(2,-10*B)*Math.sin((B*k-z.s)*(2*Math.PI)/z.p)+z.c+A}function lt(B,A,E,k){var N=1.70158,F=0,L=E;if(B===0)return A;if(B/=k/2,B===2)return A+E;F||(F=k*(.3*1.5));var z=g(L,E,F,N);return B<1?-.5*o(z,B,k)+A:z.a*Math.pow(2,-10*(B-=1))*Math.sin((B*k-z.s)*(2*Math.PI)/z.p)*.5+z.c+A}function gt(B,A,E,k,N){return N===void 0&&(N=1.70158),E*(B/=k)*B*((N+1)*B-N)+A}function ut(B,A,E,k,N){return N===void 0&&(N=1.70158),E*((B=B/k-1)*B*((N+1)*B+N)+1)+A}function ft(B,A,E,k,N){return N===void 0&&(N=1.70158),B/=k/2,B<1?E/2*(B*B*(((N*=1.525)+1)*B-N))+A:E/2*((B-=2)*B*(((N*=1.525)+1)*B+N)+2)+A}function G(B,A,E,k){return E-et(k-B,0,E,k)+A}function et(B,A,E,k){return(B/=k)<1/2.75?E*(7.5625*B*B)+A:B<2/2.75?E*(7.5625*(B-=1.5/2.75)*B+.75)+A:B<2.5/2.75?E*(7.5625*(B-=2.25/2.75)*B+.9375)+A:E*(7.5625*(B-=2.625/2.75)*B+.984375)+A}function yt(B,A,E,k){return B<k/2?G(B*2,0,E,k)*.5+A:et(B*2-k,0,E,k)*.5+E*.5+A}u.util.ease={easeInQuad:function(B,A,E,k){return E*(B/=k)*B+A},easeOutQuad:function(B,A,E,k){return-E*(B/=k)*(B-2)+A},easeInOutQuad:function(B,A,E,k){return B/=k/2,B<1?E/2*B*B+A:-E/2*(--B*(B-2)-1)+A},easeInCubic:function(B,A,E,k){return E*(B/=k)*B*B+A},easeOutCubic:r,easeInOutCubic:l,easeInQuart:i,easeOutQuart:s,easeInOutQuart:a,easeInQuint:f,easeOutQuint:d,easeInOutQuint:c,easeInSine:p,easeOutSine:y,easeInOutSine:_,easeInExpo:w,easeOutExpo:O,easeInOutExpo:M,easeInCirc:j,easeOutCirc:U,easeInOutCirc:Y,easeInElastic:W,easeOutElastic:it,easeInOutElastic:lt,easeInBack:gt,easeOutBack:ut,easeInOutBack:ft,easeInBounce:G,easeOutBounce:et,easeInOutBounce:yt}})(),(function(g){var o=g.fabric||(g.fabric={}),r=o.util.object.extend,l=o.util.object.clone,i=o.util.toFixed,s=o.util.parseUnit,a=o.util.multiplyTransformMatrices,f=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],d=["symbol","image","marker","pattern","view","svg"],c=["pattern","defs","symbol","metadata","clipPath","mask","desc"],p=["symbol","g","a","svg","clipPath","defs"],y={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},_={stroke:"strokeOpacity",fill:"fillOpacity"},w="font-size",O="clip-path";o.svgValidTagNamesRegEx=U(f),o.svgViewBoxElementsRegEx=U(d),o.svgInvalidAncestorsRegEx=U(c),o.svgValidParentsRegEx=U(p),o.cssRules={},o.gradientDefs={},o.clipPaths={};function M(F){return F in y?y[F]:F}function j(F,L,z,X){var I=Array.isArray(L),q;if((F==="fill"||F==="stroke")&&L==="none")L="";else{if(F==="strokeUniform")return L==="non-scaling-stroke";if(F==="strokeDashArray")L==="none"?L=null:L=L.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(F==="transformMatrix")z&&z.transformMatrix?L=a(z.transformMatrix,o.parseTransformAttribute(L)):L=o.parseTransformAttribute(L);else if(F==="visible")L=L!=="none"&&L!=="hidden",z&&z.visible===!1&&(L=!1);else if(F==="opacity")L=parseFloat(L),z&&typeof z.opacity<"u"&&(L*=z.opacity);else if(F==="textAnchor")L=L==="start"?"left":L==="end"?"right":"center";else if(F==="charSpacing")q=s(L,X)/X*1e3;else if(F==="paintFirst"){var J=L.indexOf("fill"),ht=L.indexOf("stroke"),L="fill";(J>-1&&ht>-1&&ht<J||J===-1&&ht>-1)&&(L="stroke")}else{if(F==="href"||F==="xlink:href"||F==="font")return L;if(F==="imageSmoothing")return L==="optimizeQuality";q=I?L.map(s):s(L,X)}}return!I&&isNaN(q)?L:q}function U(F){return new RegExp("^("+F.join("|")+")\\b","i")}function Y(F){for(var L in _)if(!(typeof F[_[L]]>"u"||F[L]==="")){if(typeof F[L]>"u"){if(!o.Object.prototype[L])continue;F[L]=o.Object.prototype[L]}if(F[L].indexOf("url(")!==0){var z=new o.Color(F[L]);F[L]=z.setAlpha(i(z.getAlpha()*F[_[L]],2)).toRgba()}}return F}function W(F,L){var z,X=[],I,q,J;for(q=0,J=L.length;q<J;q++)z=L[q],I=F.getElementsByTagName(z),X=X.concat(Array.prototype.slice.call(I));return X}o.parseTransformAttribute=(function(){function F(mt,Ot){var Bt=o.util.cos(Ot[0]),Ht=o.util.sin(Ot[0]),Vt=0,kt=0;Ot.length===3&&(Vt=Ot[1],kt=Ot[2]),mt[0]=Bt,mt[1]=Ht,mt[2]=-Ht,mt[3]=Bt,mt[4]=Vt-(Bt*Vt-Ht*kt),mt[5]=kt-(Ht*Vt+Bt*kt)}function L(mt,Ot){var Bt=Ot[0],Ht=Ot.length===2?Ot[1]:Ot[0];mt[0]=Bt,mt[3]=Ht}function z(mt,Ot,Bt){mt[Bt]=Math.tan(o.util.degreesToRadians(Ot[0]))}function X(mt,Ot){mt[4]=Ot[0],Ot.length===2&&(mt[5]=Ot[1])}var I=o.iMatrix,q=o.reNum,J=o.commaWsp,ht="(?:(skewX)\\s*\\(\\s*("+q+")\\s*\\))",_t="(?:(skewY)\\s*\\(\\s*("+q+")\\s*\\))",at="(?:(rotate)\\s*\\(\\s*("+q+")(?:"+J+"("+q+")"+J+"("+q+"))?\\s*\\))",K="(?:(scale)\\s*\\(\\s*("+q+")(?:"+J+"("+q+"))?\\s*\\))",vt="(?:(translate)\\s*\\(\\s*("+q+")(?:"+J+"("+q+"))?\\s*\\))",pt="(?:(matrix)\\s*\\(\\s*("+q+")"+J+"("+q+")"+J+"("+q+")"+J+"("+q+")"+J+"("+q+")"+J+"("+q+")\\s*\\))",ot="(?:"+pt+"|"+vt+"|"+K+"|"+at+"|"+ht+"|"+_t+")",St="(?:"+ot+"(?:"+J+"*"+ot+")*)",wt="^\\s*(?:"+St+"?)\\s*$",Mt=new RegExp(wt),Tt=new RegExp(ot,"g");return function(mt){var Ot=I.concat(),Bt=[];if(!mt||mt&&!Mt.test(mt))return Ot;mt.replace(Tt,function(Vt){var kt=new RegExp(ot).exec(Vt).filter(function(ci){return!!ci}),ee=kt[1],Yt=kt.slice(2).map(parseFloat);switch(ee){case"translate":X(Ot,Yt);break;case"rotate":Yt[0]=o.util.degreesToRadians(Yt[0]),F(Ot,Yt);break;case"scale":L(Ot,Yt);break;case"skewX":z(Ot,Yt,2);break;case"skewY":z(Ot,Yt,1);break;case"matrix":Ot=Yt;break}Bt.push(Ot.concat()),Ot=I.concat()});for(var Ht=Bt[0];Bt.length>1;)Bt.shift(),Ht=o.util.multiplyTransformMatrices(Ht,Bt[0]);return Ht}})();function it(F,L){var z,X;F.replace(/;\s*$/,"").split(";").forEach(function(I){var q=I.split(":");z=q[0].trim().toLowerCase(),X=q[1].trim(),L[z]=X})}function lt(F,L){var z,X;for(var I in F)typeof F[I]>"u"||(z=I.toLowerCase(),X=F[I],L[z]=X)}function gt(F,L){var z={};for(var X in o.cssRules[L])if(ut(F,X.split(" ")))for(var I in o.cssRules[L][X])z[I]=o.cssRules[L][X][I];return z}function ut(F,L){var z,X=!0;return z=G(F,L.pop()),z&&L.length&&(X=ft(F,L)),z&&X&&L.length===0}function ft(F,L){for(var z,X=!0;F.parentNode&&F.parentNode.nodeType===1&&L.length;)X&&(z=L.pop()),F=F.parentNode,X=G(F,z);return L.length===0}function G(F,L){var z=F.nodeName,X=F.getAttribute("class"),I=F.getAttribute("id"),q,J;if(q=new RegExp("^"+z,"i"),L=L.replace(q,""),I&&L.length&&(q=new RegExp("#"+I+"(?![a-zA-Z\\-]+)","i"),L=L.replace(q,"")),X&&L.length)for(X=X.split(" "),J=X.length;J--;)q=new RegExp("\\."+X[J]+"(?![a-zA-Z\\-]+)","i"),L=L.replace(q,"");return L.length===0}function et(F,L){var z;if(F.getElementById&&(z=F.getElementById(L)),z)return z;var X,I,q,J=F.getElementsByTagName("*");for(I=0,q=J.length;I<q;I++)if(X=J[I],L===X.getAttribute("id"))return X}function yt(F){for(var L=W(F,["use","svg:use"]),z=0;L.length&&z<L.length;){var X=L[z],I=X.getAttribute("xlink:href")||X.getAttribute("href");if(I===null)return;var q=I.slice(1),J=X.getAttribute("x")||0,ht=X.getAttribute("y")||0,_t=et(F,q).cloneNode(!0),at=(_t.getAttribute("transform")||"")+" translate("+J+", "+ht+")",K,vt=L.length,pt,ot,St,wt,Mt=o.svgNS;if(A(_t),/^svg$/i.test(_t.nodeName)){var Tt=_t.ownerDocument.createElementNS(Mt,"g");for(ot=0,St=_t.attributes,wt=St.length;ot<wt;ot++)pt=St.item(ot),Tt.setAttributeNS(Mt,pt.nodeName,pt.nodeValue);for(;_t.firstChild;)Tt.appendChild(_t.firstChild);_t=Tt}for(ot=0,St=X.attributes,wt=St.length;ot<wt;ot++)pt=St.item(ot),!(pt.nodeName==="x"||pt.nodeName==="y"||pt.nodeName==="xlink:href"||pt.nodeName==="href")&&(pt.nodeName==="transform"?at=pt.nodeValue+" "+at:_t.setAttribute(pt.nodeName,pt.nodeValue));_t.setAttribute("transform",at),_t.setAttribute("instantiated_by_use","1"),_t.removeAttribute("id"),K=X.parentNode,K.replaceChild(_t,X),L.length===vt&&z++}}var B=new RegExp("^\\s*("+o.reNum+"+)\\s*,?\\s*("+o.reNum+"+)\\s*,?\\s*("+o.reNum+"+)\\s*,?\\s*("+o.reNum+"+)\\s*$");function A(F){if(!o.svgViewBoxElementsRegEx.test(F.nodeName))return{};var L=F.getAttribute("viewBox"),z=1,X=1,I=0,q=0,J,ht,_t,at,K=F.getAttribute("width"),vt=F.getAttribute("height"),pt=F.getAttribute("x")||0,ot=F.getAttribute("y")||0,St=F.getAttribute("preserveAspectRatio")||"",wt=!L||!(L=L.match(B)),Mt=!K||!vt||K==="100%"||vt==="100%",Tt=wt&&Mt,mt={},Ot="",Bt=0,Ht=0;if(mt.width=0,mt.height=0,mt.toBeParsed=Tt,wt&&(pt||ot)&&F.parentNode&&F.parentNode.nodeName!=="#document"&&(Ot=" translate("+s(pt)+" "+s(ot)+") ",_t=(F.getAttribute("transform")||"")+Ot,F.setAttribute("transform",_t),F.removeAttribute("x"),F.removeAttribute("y")),Tt)return mt;if(wt)return mt.width=s(K),mt.height=s(vt),mt;if(I=-parseFloat(L[1]),q=-parseFloat(L[2]),J=parseFloat(L[3]),ht=parseFloat(L[4]),mt.minX=I,mt.minY=q,mt.viewBoxWidth=J,mt.viewBoxHeight=ht,Mt?(mt.width=J,mt.height=ht):(mt.width=s(K),mt.height=s(vt),z=mt.width/J,X=mt.height/ht),St=o.util.parsePreserveAspectRatioAttribute(St),St.alignX!=="none"&&(St.meetOrSlice==="meet"&&(X=z=z>X?X:z),St.meetOrSlice==="slice"&&(X=z=z>X?z:X),Bt=mt.width-J*z,Ht=mt.height-ht*z,St.alignX==="Mid"&&(Bt/=2),St.alignY==="Mid"&&(Ht/=2),St.alignX==="Min"&&(Bt=0),St.alignY==="Min"&&(Ht=0)),z===1&&X===1&&I===0&&q===0&&pt===0&&ot===0)return mt;if((pt||ot)&&F.parentNode.nodeName!=="#document"&&(Ot=" translate("+s(pt)+" "+s(ot)+") "),_t=Ot+" matrix("+z+" 0 0 "+X+" "+(I*z+Bt)+" "+(q*X+Ht)+") ",F.nodeName==="svg"){for(at=F.ownerDocument.createElementNS(o.svgNS,"g");F.firstChild;)at.appendChild(F.firstChild);F.appendChild(at)}else at=F,at.removeAttribute("x"),at.removeAttribute("y"),_t=at.getAttribute("transform")+_t;return at.setAttribute("transform",_t),mt}function E(F,L){for(;F&&(F=F.parentNode);)if(F.nodeName&&L.test(F.nodeName.replace("svg:",""))&&!F.getAttribute("instantiated_by_use"))return!0;return!1}o.parseSVGDocument=function(F,L,z,X){if(F){yt(F);var I=o.Object.__uid++,q,J,ht=A(F),_t=o.util.toArray(F.getElementsByTagName("*"));if(ht.crossOrigin=X&&X.crossOrigin,ht.svgUid=I,_t.length===0&&o.isLikelyNode){_t=F.selectNodes('//*[name(.)!="svg"]');var at=[];for(q=0,J=_t.length;q<J;q++)at[q]=_t[q];_t=at}var K=_t.filter(function(pt){return A(pt),o.svgValidTagNamesRegEx.test(pt.nodeName.replace("svg:",""))&&!E(pt,o.svgInvalidAncestorsRegEx)});if(!K||K&&!K.length){L&&L([],{});return}var vt={};_t.filter(function(pt){return pt.nodeName.replace("svg:","")==="clipPath"}).forEach(function(pt){var ot=pt.getAttribute("id");vt[ot]=o.util.toArray(pt.getElementsByTagName("*")).filter(function(St){return o.svgValidTagNamesRegEx.test(St.nodeName.replace("svg:",""))})}),o.gradientDefs[I]=o.getGradientDefs(F),o.cssRules[I]=o.getCSSRules(F),o.clipPaths[I]=vt,o.parseElements(K,function(pt,ot){L&&(L(pt,ht,ot,_t),delete o.gradientDefs[I],delete o.cssRules[I],delete o.clipPaths[I])},l(ht),z,X)}};function k(F,L){var z=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],X="xlink:href",I=L.getAttribute(X).slice(1),q=et(F,I);if(q&&q.getAttribute(X)&&k(F,q),z.forEach(function(ht){q&&!L.hasAttribute(ht)&&q.hasAttribute(ht)&&L.setAttribute(ht,q.getAttribute(ht))}),!L.children.length)for(var J=q.cloneNode(!0);J.firstChild;)L.appendChild(J.firstChild);L.removeAttribute(X)}var N=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+o.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+o.reNum+"))?\\s+(.*)");r(o,{parseFontDeclaration:function(F,L){var z=F.match(N);if(z){var X=z[1],I=z[3],q=z[4],J=z[5],ht=z[6];X&&(L.fontStyle=X),I&&(L.fontWeight=isNaN(parseFloat(I))?I:parseFloat(I)),q&&(L.fontSize=s(q)),ht&&(L.fontFamily=ht),J&&(L.lineHeight=J==="normal"?1:J)}},getGradientDefs:function(F){var L=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],z=W(F,L),X,I=0,q={};for(I=z.length;I--;)X=z[I],X.getAttribute("xlink:href")&&k(F,X),q[X.getAttribute("id")]=X;return q},parseAttributes:function(F,L,z){if(F){var X,I={},q,J;typeof z>"u"&&(z=F.getAttribute("svgUid")),F.parentNode&&o.svgValidParentsRegEx.test(F.parentNode.nodeName)&&(I=o.parseAttributes(F.parentNode,L,z));var ht=L.reduce(function(St,wt){return X=F.getAttribute(wt),X&&(St[wt]=X),St},{}),_t=r(gt(F,z),o.parseStyleAttribute(F));ht=r(ht,_t),_t[O]&&F.setAttribute(O,_t[O]),q=J=I.fontSize||o.Text.DEFAULT_SVG_FONT_SIZE,ht[w]&&(ht[w]=q=s(ht[w],J));var at,K,vt={};for(var pt in ht)at=M(pt),K=j(at,ht[pt],I,q),vt[at]=K;vt&&vt.font&&o.parseFontDeclaration(vt.font,vt);var ot=r(I,vt);return o.svgValidParentsRegEx.test(F.nodeName)?ot:Y(ot)}},parseElements:function(F,L,z,X,I){new o.ElementsParser(F,L,z,X,I).parse()},parseStyleAttribute:function(F){var L={},z=F.getAttribute("style");return z&&(typeof z=="string"?it(z,L):lt(z,L)),L},parsePointsAttribute:function(F){if(!F)return null;F=F.replace(/,/g," ").trim(),F=F.split(/\s+/);var L=[],z,X;for(z=0,X=F.length;z<X;z+=2)L.push({x:parseFloat(F[z]),y:parseFloat(F[z+1])});return L},getCSSRules:function(F){var L=F.getElementsByTagName("style"),z,X,I={},q;for(z=0,X=L.length;z<X;z++){var J=L[z].textContent;J=J.replace(/\/\*[\s\S]*?\*\//g,""),J.trim()!==""&&(q=J.split("}"),q=q.filter(function(ht){return ht.trim()}),q.forEach(function(ht){var _t=ht.split("{"),at={},K=_t[1].trim(),vt=K.split(";").filter(function(wt){return wt.trim()});for(z=0,X=vt.length;z<X;z++){var pt=vt[z].split(":"),ot=pt[0].trim(),St=pt[1].trim();at[ot]=St}ht=_t[0].trim(),ht.split(",").forEach(function(wt){wt=wt.replace(/^svg/i,"").trim(),wt!==""&&(I[wt]?o.util.object.extend(I[wt],at):I[wt]=o.util.object.clone(at))})}))}return I},loadSVGFromURL:function(F,L,z,X){F=F.replace(/^\n\s*/,"").trim(),new o.util.request(F,{method:"get",onComplete:I});function I(q){var J=q.responseXML;if(!J||!J.documentElement)return L&&L(null),!1;o.parseSVGDocument(J.documentElement,function(ht,_t,at,K){L&&L(ht,_t,at,K)},z,X)}},loadSVGFromString:function(F,L,z,X){var I=new o.window.DOMParser,q=I.parseFromString(F.trim(),"text/xml");o.parseSVGDocument(q.documentElement,function(J,ht,_t,at){L(J,ht,_t,at)},z,X)}})})(m),u.ElementsParser=function(g,o,r,l,i,s){this.elements=g,this.callback=o,this.options=r,this.reviver=l,this.svgUid=r&&r.svgUid||0,this.parsingOptions=i,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=s},(function(g){g.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},g.createObjects=function(){var o=this;this.elements.forEach(function(r,l){r.setAttribute("svgUid",o.svgUid),o.createObject(r,l)})},g.findTag=function(o){return u[u.util.string.capitalize(o.tagName.replace("svg:",""))]},g.createObject=function(o,r){var l=this.findTag(o);if(l&&l.fromElement)try{l.fromElement(o,this.createCallback(r,o),this.options)}catch(i){u.log(i)}else this.checkIfDone()},g.createCallback=function(o,r){var l=this;return function(i){var s;l.resolveGradient(i,r,"fill"),l.resolveGradient(i,r,"stroke"),i instanceof u.Image&&i._originalElement&&(s=i.parsePreserveAspectRatioAttribute(r)),i._removeTransformMatrix(s),l.resolveClipPath(i,r),l.reviver&&l.reviver(r,i),l.instances[o]=i,l.checkIfDone()}},g.extractPropertyDefinition=function(o,r,l){var i=o[r],s=this.regexUrl;if(s.test(i)){s.lastIndex=0;var a=s.exec(i)[1];return s.lastIndex=0,u[l][this.svgUid][a]}},g.resolveGradient=function(o,r,l){var i=this.extractPropertyDefinition(o,l,"gradientDefs");if(i){var s=r.getAttribute(l+"-opacity"),a=u.Gradient.fromElement(i,o,s,this.options);o.set(l,a)}},g.createClipPathCallback=function(o,r){return function(l){l._removeTransformMatrix(),l.fillRule=l.clipRule,r.push(l)}},g.resolveClipPath=function(o,r){var l=this.extractPropertyDefinition(o,"clipPath","clipPaths"),i,s,a,f,d,c;if(l){f=[],a=u.util.invertTransform(o.calcTransformMatrix());for(var p=l[0].parentNode,y=r;y.parentNode&&y.getAttribute("clip-path")!==o.clipPath;)y=y.parentNode;y.parentNode.appendChild(p);for(var _=0;_<l.length;_++)i=l[_],s=this.findTag(i),s.fromElement(i,this.createClipPathCallback(o,f),this.options);f.length===1?l=f[0]:l=new u.Group(f),d=u.util.multiplyTransformMatrices(a,l.calcTransformMatrix()),l.clipPath&&this.resolveClipPath(l,y);var c=u.util.qrDecompose(d);l.flipX=!1,l.flipY=!1,l.set("scaleX",c.scaleX),l.set("scaleY",c.scaleY),l.angle=c.angle,l.skewX=c.skewX,l.skewY=0,l.setPositionByOrigin({x:c.translateX,y:c.translateY},"center","center"),o.clipPath=l}else delete o.clipPath},g.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(o){return o!=null}),this.callback(this.instances,this.elements))}})(u.ElementsParser.prototype),(function(g){var o=g.fabric||(g.fabric={});if(o.Point){o.warn("fabric.Point is already defined");return}o.Point=r;function r(l,i){this.x=l,this.y=i}r.prototype={type:"point",constructor:r,add:function(l){return new r(this.x+l.x,this.y+l.y)},addEquals:function(l){return this.x+=l.x,this.y+=l.y,this},scalarAdd:function(l){return new r(this.x+l,this.y+l)},scalarAddEquals:function(l){return this.x+=l,this.y+=l,this},subtract:function(l){return new r(this.x-l.x,this.y-l.y)},subtractEquals:function(l){return this.x-=l.x,this.y-=l.y,this},scalarSubtract:function(l){return new r(this.x-l,this.y-l)},scalarSubtractEquals:function(l){return this.x-=l,this.y-=l,this},multiply:function(l){return new r(this.x*l,this.y*l)},multiplyEquals:function(l){return this.x*=l,this.y*=l,this},divide:function(l){return new r(this.x/l,this.y/l)},divideEquals:function(l){return this.x/=l,this.y/=l,this},eq:function(l){return this.x===l.x&&this.y===l.y},lt:function(l){return this.x<l.x&&this.y<l.y},lte:function(l){return this.x<=l.x&&this.y<=l.y},gt:function(l){return this.x>l.x&&this.y>l.y},gte:function(l){return this.x>=l.x&&this.y>=l.y},lerp:function(l,i){return typeof i>"u"&&(i=.5),i=Math.max(Math.min(1,i),0),new r(this.x+(l.x-this.x)*i,this.y+(l.y-this.y)*i)},distanceFrom:function(l){var i=this.x-l.x,s=this.y-l.y;return Math.sqrt(i*i+s*s)},midPointFrom:function(l){return this.lerp(l)},min:function(l){return new r(Math.min(this.x,l.x),Math.min(this.y,l.y))},max:function(l){return new r(Math.max(this.x,l.x),Math.max(this.y,l.y))},toString:function(){return this.x+","+this.y},setXY:function(l,i){return this.x=l,this.y=i,this},setX:function(l){return this.x=l,this},setY:function(l){return this.y=l,this},setFromPoint:function(l){return this.x=l.x,this.y=l.y,this},swap:function(l){var i=this.x,s=this.y;this.x=l.x,this.y=l.y,l.x=i,l.y=s},clone:function(){return new r(this.x,this.y)}}})(m),(function(g){var o=g.fabric||(g.fabric={});if(o.Intersection){o.warn("fabric.Intersection is already defined");return}function r(l){this.status=l,this.points=[]}o.Intersection=r,o.Intersection.prototype={constructor:r,appendPoint:function(l){return this.points.push(l),this},appendPoints:function(l){return this.points=this.points.concat(l),this}},o.Intersection.intersectLineLine=function(l,i,s,a){var f,d=(a.x-s.x)*(l.y-s.y)-(a.y-s.y)*(l.x-s.x),c=(i.x-l.x)*(l.y-s.y)-(i.y-l.y)*(l.x-s.x),p=(a.y-s.y)*(i.x-l.x)-(a.x-s.x)*(i.y-l.y);if(p!==0){var y=d/p,_=c/p;0<=y&&y<=1&&0<=_&&_<=1?(f=new r("Intersection"),f.appendPoint(new o.Point(l.x+y*(i.x-l.x),l.y+y*(i.y-l.y)))):f=new r}else d===0||c===0?f=new r("Coincident"):f=new r("Parallel");return f},o.Intersection.intersectLinePolygon=function(l,i,s){var a=new r,f=s.length,d,c,p,y;for(y=0;y<f;y++)d=s[y],c=s[(y+1)%f],p=r.intersectLineLine(l,i,d,c),a.appendPoints(p.points);return a.points.length>0&&(a.status="Intersection"),a},o.Intersection.intersectPolygonPolygon=function(l,i){var s=new r,a=l.length,f;for(f=0;f<a;f++){var d=l[f],c=l[(f+1)%a],p=r.intersectLinePolygon(d,c,i);s.appendPoints(p.points)}return s.points.length>0&&(s.status="Intersection"),s},o.Intersection.intersectPolygonRectangle=function(l,i,s){var a=i.min(s),f=i.max(s),d=new o.Point(f.x,a.y),c=new o.Point(a.x,f.y),p=r.intersectLinePolygon(a,d,l),y=r.intersectLinePolygon(d,f,l),_=r.intersectLinePolygon(f,c,l),w=r.intersectLinePolygon(c,a,l),O=new r;return O.appendPoints(p.points),O.appendPoints(y.points),O.appendPoints(_.points),O.appendPoints(w.points),O.points.length>0&&(O.status="Intersection"),O}})(m),(function(g){var o=g.fabric||(g.fabric={});if(o.Color){o.warn("fabric.Color is already defined.");return}function r(i){i?this._tryParsingColor(i):this.setSource([0,0,0,1])}o.Color=r,o.Color.prototype={_tryParsingColor:function(i){var s;i in r.colorNameMap&&(i=r.colorNameMap[i]),i==="transparent"&&(s=[255,255,255,0]),s||(s=r.sourceFromHex(i)),s||(s=r.sourceFromRgb(i)),s||(s=r.sourceFromHsl(i)),s||(s=[0,0,0,1]),s&&this.setSource(s)},_rgbToHsl:function(i,s,a){i/=255,s/=255,a/=255;var f,d,c,p=o.util.array.max([i,s,a]),y=o.util.array.min([i,s,a]);if(c=(p+y)/2,p===y)f=d=0;else{var _=p-y;switch(d=c>.5?_/(2-p-y):_/(p+y),p){case i:f=(s-a)/_+(s<a?6:0);break;case s:f=(a-i)/_+2;break;case a:f=(i-s)/_+4;break}f/=6}return[Math.round(f*360),Math.round(d*100),Math.round(c*100)]},getSource:function(){return this._source},setSource:function(i){this._source=i},toRgb:function(){var i=this.getSource();return"rgb("+i[0]+","+i[1]+","+i[2]+")"},toRgba:function(){var i=this.getSource();return"rgba("+i[0]+","+i[1]+","+i[2]+","+i[3]+")"},toHsl:function(){var i=this.getSource(),s=this._rgbToHsl(i[0],i[1],i[2]);return"hsl("+s[0]+","+s[1]+"%,"+s[2]+"%)"},toHsla:function(){var i=this.getSource(),s=this._rgbToHsl(i[0],i[1],i[2]);return"hsla("+s[0]+","+s[1]+"%,"+s[2]+"%,"+i[3]+")"},toHex:function(){var i=this.getSource(),s,a,f;return s=i[0].toString(16),s=s.length===1?"0"+s:s,a=i[1].toString(16),a=a.length===1?"0"+a:a,f=i[2].toString(16),f=f.length===1?"0"+f:f,s.toUpperCase()+a.toUpperCase()+f.toUpperCase()},toHexa:function(){var i=this.getSource(),s;return s=Math.round(i[3]*255),s=s.toString(16),s=s.length===1?"0"+s:s,this.toHex()+s.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(i){var s=this.getSource();return s[3]=i,this.setSource(s),this},toGrayscale:function(){var i=this.getSource(),s=parseInt((i[0]*.3+i[1]*.59+i[2]*.11).toFixed(0),10),a=i[3];return this.setSource([s,s,s,a]),this},toBlackWhite:function(i){var s=this.getSource(),a=(s[0]*.3+s[1]*.59+s[2]*.11).toFixed(0),f=s[3];return i=i||127,a=Number(a)<Number(i)?0:255,this.setSource([a,a,a,f]),this},overlayWith:function(i){i instanceof r||(i=new r(i));var s=[],a=this.getAlpha(),f=.5,d=this.getSource(),c=i.getSource(),p;for(p=0;p<3;p++)s.push(Math.round(d[p]*(1-f)+c[p]*f));return s[3]=a,this.setSource(s),this}},o.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,o.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,o.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,o.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function l(i,s,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?i+(s-i)*6*a:a<1/2?s:a<2/3?i+(s-i)*(2/3-a)*6:i}o.Color.fromRgb=function(i){return r.fromSource(r.sourceFromRgb(i))},o.Color.sourceFromRgb=function(i){var s=i.match(r.reRGBa);if(s){var a=parseInt(s[1],10)/(/%$/.test(s[1])?100:1)*(/%$/.test(s[1])?255:1),f=parseInt(s[2],10)/(/%$/.test(s[2])?100:1)*(/%$/.test(s[2])?255:1),d=parseInt(s[3],10)/(/%$/.test(s[3])?100:1)*(/%$/.test(s[3])?255:1);return[parseInt(a,10),parseInt(f,10),parseInt(d,10),s[4]?parseFloat(s[4]):1]}},o.Color.fromRgba=r.fromRgb,o.Color.fromHsl=function(i){return r.fromSource(r.sourceFromHsl(i))},o.Color.sourceFromHsl=function(i){var s=i.match(r.reHSLa);if(s){var a=(parseFloat(s[1])%360+360)%360/360,f=parseFloat(s[2])/(/%$/.test(s[2])?100:1),d=parseFloat(s[3])/(/%$/.test(s[3])?100:1),c,p,y;if(f===0)c=p=y=d;else{var _=d<=.5?d*(f+1):d+f-d*f,w=d*2-_;c=l(w,_,a+1/3),p=l(w,_,a),y=l(w,_,a-1/3)}return[Math.round(c*255),Math.round(p*255),Math.round(y*255),s[4]?parseFloat(s[4]):1]}},o.Color.fromHsla=r.fromHsl,o.Color.fromHex=function(i){return r.fromSource(r.sourceFromHex(i))},o.Color.sourceFromHex=function(i){if(i.match(r.reHex)){var s=i.slice(i.indexOf("#")+1),a=s.length===3||s.length===4,f=s.length===8||s.length===4,d=a?s.charAt(0)+s.charAt(0):s.substring(0,2),c=a?s.charAt(1)+s.charAt(1):s.substring(2,4),p=a?s.charAt(2)+s.charAt(2):s.substring(4,6),y=f?a?s.charAt(3)+s.charAt(3):s.substring(6,8):"FF";return[parseInt(d,16),parseInt(c,16),parseInt(p,16),parseFloat((parseInt(y,16)/255).toFixed(2))]}},o.Color.fromSource=function(i){var s=new r;return s.setSource(i),s}})(m),(function(g){var o=g.fabric||(g.fabric={}),r=["e","se","s","sw","w","nw","n","ne","e"],l=["ns","nesw","ew","nwse"],i={},s="left",a="top",f="right",d="bottom",c="center",p={top:d,bottom:a,left:f,right:s,center:c},y=o.util.radiansToDegrees,_=Math.sign||function(at){return(at>0)-(at<0)||+at};function w(at,K){var vt=at.angle+y(Math.atan2(K.y,K.x))+360;return Math.round(vt%360/45)}function O(at,K){var vt=K.transform.target,pt=vt.canvas,ot=o.util.object.clone(K);ot.target=vt,pt&&pt.fire("object:"+at,ot),vt.fire(at,K)}function M(at,K){var vt=K.canvas,pt=vt.uniScaleKey,ot=at[pt];return vt.uniformScaling&&!ot||!vt.uniformScaling&&ot}function j(at){return at.originX===c&&at.originY===c}function U(at,K,vt){var pt=at.lockScalingX,ot=at.lockScalingY;return!!(pt&&ot||!K&&(pt||ot)&&vt||pt&&K==="x"||ot&&K==="y")}function Y(at,K,vt){var pt="not-allowed",ot=M(at,vt),St="";if(K.x!==0&&K.y===0?St="x":K.x===0&&K.y!==0&&(St="y"),U(vt,St,ot))return pt;var wt=w(vt,K);return r[wt]+"-resize"}function W(at,K,vt){var pt="not-allowed";if(K.x!==0&&vt.lockSkewingY||K.y!==0&&vt.lockSkewingX)return pt;var ot=w(vt,K)%4;return l[ot]+"-resize"}function it(at,K,vt){return at[vt.canvas.altActionKey]?i.skewCursorStyleHandler(at,K,vt):i.scaleCursorStyleHandler(at,K,vt)}function lt(at,K,vt){var pt=at[vt.canvas.altActionKey];if(K.x===0)return pt?"skewX":"scaleY";if(K.y===0)return pt?"skewY":"scaleX"}function gt(at,K,vt){return vt.lockRotation?"not-allowed":K.cursorStyle}function ut(at,K,vt,pt){return{e:at,transform:K,pointer:{x:vt,y:pt}}}function ft(at){return function(K,vt,pt,ot){var St=vt.target,wt=St.getCenterPoint(),Mt=St.translateToOriginPoint(wt,vt.originX,vt.originY),Tt=at(K,vt,pt,ot);return St.setPositionByOrigin(Mt,vt.originX,vt.originY),Tt}}function G(at,K){return function(vt,pt,ot,St){var wt=K(vt,pt,ot,St);return wt&&O(at,ut(vt,pt,ot,St)),wt}}function et(at,K,vt,pt,ot){var St=at.target,wt=St.controls[at.corner],Mt=St.canvas.getZoom(),Tt=St.padding/Mt,mt=St.toLocalPoint(new o.Point(pt,ot),K,vt);return mt.x>=Tt&&(mt.x-=Tt),mt.x<=-Tt&&(mt.x+=Tt),mt.y>=Tt&&(mt.y-=Tt),mt.y<=Tt&&(mt.y+=Tt),mt.x-=wt.offsetX,mt.y-=wt.offsetY,mt}function yt(at){return at.flipX!==at.flipY}function B(at,K,vt,pt,ot){if(at[K]!==0){var St=at._getTransformedDimensions()[pt],wt=ot/St*at[vt];at.set(vt,wt)}}function A(at,K,vt,pt){var ot=K.target,St=ot._getTransformedDimensions(0,ot.skewY),wt=et(K,K.originX,K.originY,vt,pt),Mt=Math.abs(wt.x*2)-St.x,Tt=ot.skewX,mt;Mt<2?mt=0:(mt=y(Math.atan2(Mt/ot.scaleX,St.y/ot.scaleY)),K.originX===s&&K.originY===d&&(mt=-mt),K.originX===f&&K.originY===a&&(mt=-mt),yt(ot)&&(mt=-mt));var Ot=Tt!==mt;if(Ot){var Bt=ot._getTransformedDimensions().y;ot.set("skewX",mt),B(ot,"skewY","scaleY","y",Bt)}return Ot}function E(at,K,vt,pt){var ot=K.target,St=ot._getTransformedDimensions(ot.skewX,0),wt=et(K,K.originX,K.originY,vt,pt),Mt=Math.abs(wt.y*2)-St.y,Tt=ot.skewY,mt;Mt<2?mt=0:(mt=y(Math.atan2(Mt/ot.scaleY,St.x/ot.scaleX)),K.originX===s&&K.originY===d&&(mt=-mt),K.originX===f&&K.originY===a&&(mt=-mt),yt(ot)&&(mt=-mt));var Ot=Tt!==mt;if(Ot){var Bt=ot._getTransformedDimensions().x;ot.set("skewY",mt),B(ot,"skewX","scaleX","x",Bt)}return Ot}function k(at,K,vt,pt){var ot=K.target,St=ot.skewX,wt,Mt=K.originY;if(ot.lockSkewingX)return!1;if(St===0){var Tt=et(K,c,c,vt,pt);Tt.x>0?wt=s:wt=f}else St>0&&(wt=Mt===a?s:f),St<0&&(wt=Mt===a?f:s),yt(ot)&&(wt=wt===s?f:s);K.originX=wt;var mt=G("skewing",ft(A));return mt(at,K,vt,pt)}function N(at,K,vt,pt){var ot=K.target,St=ot.skewY,wt,Mt=K.originX;if(ot.lockSkewingY)return!1;if(St===0){var Tt=et(K,c,c,vt,pt);Tt.y>0?wt=a:wt=d}else St>0&&(wt=Mt===s?a:d),St<0&&(wt=Mt===s?d:a),yt(ot)&&(wt=wt===a?d:a);K.originY=wt;var mt=G("skewing",ft(E));return mt(at,K,vt,pt)}function F(at,K,vt,pt){var ot=K,St=ot.target,wt=St.translateToOriginPoint(St.getCenterPoint(),ot.originX,ot.originY);if(St.lockRotation)return!1;var Mt=Math.atan2(ot.ey-wt.y,ot.ex-wt.x),Tt=Math.atan2(pt-wt.y,vt-wt.x),mt=y(Tt-Mt+ot.theta),Ot=!0;if(St.snapAngle>0){var Bt=St.snapAngle,Ht=St.snapThreshold||Bt,Vt=Math.ceil(mt/Bt)*Bt,kt=Math.floor(mt/Bt)*Bt;Math.abs(mt-kt)<Ht?mt=kt:Math.abs(mt-Vt)<Ht&&(mt=Vt)}return mt<0&&(mt=360+mt),mt%=360,Ot=St.angle!==mt,St.angle=mt,Ot}function L(at,K,vt,pt,ot){ot=ot||{};var St=K.target,wt=St.lockScalingX,Mt=St.lockScalingY,Tt=ot.by,mt,Ot,Bt,Ht,Vt=M(at,St),kt=U(St,Tt,Vt),ee,Yt,ci=K.gestureScale;if(kt)return!1;if(ci)Ot=K.scaleX*ci,Bt=K.scaleY*ci;else{if(mt=et(K,K.originX,K.originY,vt,pt),ee=Tt!=="y"?_(mt.x):1,Yt=Tt!=="x"?_(mt.y):1,K.signX||(K.signX=ee),K.signY||(K.signY=Yt),St.lockScalingFlip&&(K.signX!==ee||K.signY!==Yt))return!1;if(Ht=St._getTransformedDimensions(),Vt&&!Tt){var Ji=Math.abs(mt.x)+Math.abs(mt.y),He=K.original,wn=Math.abs(Ht.x*He.scaleX/St.scaleX)+Math.abs(Ht.y*He.scaleY/St.scaleY),$i=Ji/wn;Ot=He.scaleX*$i,Bt=He.scaleY*$i}else Ot=Math.abs(mt.x*St.scaleX/Ht.x),Bt=Math.abs(mt.y*St.scaleY/Ht.y);j(K)&&(Ot*=2,Bt*=2),K.signX!==ee&&Tt!=="y"&&(K.originX=p[K.originX],Ot*=-1,K.signX=ee),K.signY!==Yt&&Tt!=="x"&&(K.originY=p[K.originY],Bt*=-1,K.signY=Yt)}var fi=St.scaleX,xn=St.scaleY;return Tt?(Tt==="x"&&St.set("scaleX",Ot),Tt==="y"&&St.set("scaleY",Bt)):(!wt&&St.set("scaleX",Ot),!Mt&&St.set("scaleY",Bt)),fi!==St.scaleX||xn!==St.scaleY}function z(at,K,vt,pt){return L(at,K,vt,pt)}function X(at,K,vt,pt){return L(at,K,vt,pt,{by:"x"})}function I(at,K,vt,pt){return L(at,K,vt,pt,{by:"y"})}function q(at,K,vt,pt){return at[K.target.canvas.altActionKey]?i.skewHandlerX(at,K,vt,pt):i.scalingY(at,K,vt,pt)}function J(at,K,vt,pt){return at[K.target.canvas.altActionKey]?i.skewHandlerY(at,K,vt,pt):i.scalingX(at,K,vt,pt)}function ht(at,K,vt,pt){var ot=K.target,St=et(K,K.originX,K.originY,vt,pt),wt=ot.strokeWidth/(ot.strokeUniform?ot.scaleX:1),Mt=j(K)?2:1,Tt=ot.width,mt=Math.abs(St.x*Mt/ot.scaleX)-wt;return ot.set("width",Math.max(mt,0)),Tt!==mt}function _t(at,K,vt,pt){var ot=K.target,St=vt-K.offsetX,wt=pt-K.offsetY,Mt=!ot.get("lockMovementX")&&ot.left!==St,Tt=!ot.get("lockMovementY")&&ot.top!==wt;return Mt&&ot.set("left",St),Tt&&ot.set("top",wt),(Mt||Tt)&&O("moving",ut(at,K,vt,pt)),Mt||Tt}i.scaleCursorStyleHandler=Y,i.skewCursorStyleHandler=W,i.scaleSkewCursorStyleHandler=it,i.rotationWithSnapping=G("rotating",ft(F)),i.scalingEqually=G("scaling",ft(z)),i.scalingX=G("scaling",ft(X)),i.scalingY=G("scaling",ft(I)),i.scalingYOrSkewingX=q,i.scalingXOrSkewingY=J,i.changeWidth=G("resizing",ft(ht)),i.skewHandlerX=k,i.skewHandlerY=N,i.dragHandler=_t,i.scaleOrSkewActionName=lt,i.rotationStyleHandler=gt,i.fireEvent=O,i.wrapWithFixedAnchor=ft,i.wrapWithFireEvent=G,i.getLocalPoint=et,o.controlsUtils=i})(m),(function(g){var o=g.fabric||(g.fabric={}),r=o.util.degreesToRadians,l=o.controlsUtils;function i(a,f,d,c,p){c=c||{};var y=this.sizeX||c.cornerSize||p.cornerSize,_=this.sizeY||c.cornerSize||p.cornerSize,w=typeof c.transparentCorners<"u"?c.transparentCorners:p.transparentCorners,O=w?"stroke":"fill",M=!w&&(c.cornerStrokeColor||p.cornerStrokeColor),j=f,U=d,Y;a.save(),a.fillStyle=c.cornerColor||p.cornerColor,a.strokeStyle=c.cornerStrokeColor||p.cornerStrokeColor,y>_?(Y=y,a.scale(1,_/y),U=d*y/_):_>y?(Y=_,a.scale(y/_,1),j=f*_/y):Y=y,a.lineWidth=1,a.beginPath(),a.arc(j,U,Y/2,0,2*Math.PI,!1),a[O](),M&&a.stroke(),a.restore()}function s(a,f,d,c,p){c=c||{};var y=this.sizeX||c.cornerSize||p.cornerSize,_=this.sizeY||c.cornerSize||p.cornerSize,w=typeof c.transparentCorners<"u"?c.transparentCorners:p.transparentCorners,O=w?"stroke":"fill",M=!w&&(c.cornerStrokeColor||p.cornerStrokeColor),j=y/2,U=_/2;a.save(),a.fillStyle=c.cornerColor||p.cornerColor,a.strokeStyle=c.cornerStrokeColor||p.cornerStrokeColor,a.lineWidth=1,a.translate(f,d),a.rotate(r(p.angle)),a[O+"Rect"](-j,-U,y,_),M&&a.strokeRect(-j,-U,y,_),a.restore()}l.renderCircleControl=i,l.renderSquareControl=s})(m),(function(g){var o=g.fabric||(g.fabric={});function r(l){for(var i in l)this[i]=l[i]}o.Control=r,o.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(l,i){return i.cursorStyle},getActionName:function(l,i){return i.actionName},getVisibility:function(l,i){var s=l._controlsVisibility;return s&&typeof s[i]<"u"?s[i]:this.visible},setVisibility:function(l){this.visible=l},positionHandler:function(l,i){var s=o.util.transformPoint({x:this.x*l.x+this.offsetX,y:this.y*l.y+this.offsetY},i);return s},calcCornerCoords:function(l,i,s,a,f){var d,c,p,y,_=f?this.touchSizeX:this.sizeX,w=f?this.touchSizeY:this.sizeY;if(_&&w&&_!==w){var O=Math.atan2(w,_),M=Math.sqrt(_*_+w*w)/2,j=O-o.util.degreesToRadians(l),U=Math.PI/2-O-o.util.degreesToRadians(l);d=M*o.util.cos(j),c=M*o.util.sin(j),p=M*o.util.cos(U),y=M*o.util.sin(U)}else{var Y=_&&w?_:i;M=Y*.7071067812;var j=o.util.degreesToRadians(45-l);d=p=M*o.util.cos(j),c=y=M*o.util.sin(j)}return{tl:{x:s-y,y:a-p},tr:{x:s+d,y:a-c},bl:{x:s-d,y:a+c},br:{x:s+y,y:a+p}}},render:function(l,i,s,a,f){switch(a=a||{},a.cornerStyle||f.cornerStyle){case"circle":o.controlsUtils.renderCircleControl.call(this,l,i,s,a,f);break;default:o.controlsUtils.renderSquareControl.call(this,l,i,s,a,f)}}}})(m),(function(){function g(s,a){var f=s.getAttribute("style"),d=s.getAttribute("offset")||0,c,p,y,_;if(d=parseFloat(d)/(/%$/.test(d)?100:1),d=d<0?0:d>1?1:d,f){var w=f.split(/\s*;\s*/);for(w[w.length-1]===""&&w.pop(),_=w.length;_--;){var O=w[_].split(/\s*:\s*/),M=O[0].trim(),j=O[1].trim();M==="stop-color"?c=j:M==="stop-opacity"&&(y=j)}}return c||(c=s.getAttribute("stop-color")||"rgb(0,0,0)"),y||(y=s.getAttribute("stop-opacity")),c=new u.Color(c),p=c.getAlpha(),y=isNaN(parseFloat(y))?1:parseFloat(y),y*=p*a,{offset:d,color:c.toRgb(),opacity:y}}function o(s){return{x1:s.getAttribute("x1")||0,y1:s.getAttribute("y1")||0,x2:s.getAttribute("x2")||"100%",y2:s.getAttribute("y2")||0}}function r(s){return{x1:s.getAttribute("fx")||s.getAttribute("cx")||"50%",y1:s.getAttribute("fy")||s.getAttribute("cy")||"50%",r1:0,x2:s.getAttribute("cx")||"50%",y2:s.getAttribute("cy")||"50%",r2:s.getAttribute("r")||"50%"}}var l=u.util.object.clone;u.Gradient=u.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(s){s||(s={}),s.coords||(s.coords={});var a,f=this;Object.keys(s).forEach(function(d){f[d]=s[d]}),this.id?this.id+="_"+u.Object.__uid++:this.id=u.Object.__uid++,a={x1:s.coords.x1||0,y1:s.coords.y1||0,x2:s.coords.x2||0,y2:s.coords.y2||0},this.type==="radial"&&(a.r1=s.coords.r1||0,a.r2=s.coords.r2||0),this.coords=a,this.colorStops=s.colorStops.slice()},addColorStop:function(s){for(var a in s){var f=new u.Color(s[a]);this.colorStops.push({offset:parseFloat(a),color:f.toRgb(),opacity:f.getAlpha()})}return this},toObject:function(s){var a={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return u.util.populateWithProperties(this,a,s),a},toSVG:function(s,p){var f=l(this.coords,!0),d,c,p=p||{},y,_,w=l(this.colorStops,!0),O=f.r1>f.r2,M=this.gradientTransform?this.gradientTransform.concat():u.iMatrix.concat(),j=-this.offsetX,U=-this.offsetY,Y=!!p.additionalTransform,W=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(w.sort(function(ft,G){return ft.offset-G.offset}),W==="objectBoundingBox"?(j/=s.width,U/=s.height):(j+=s.width/2,U+=s.height/2),s.type==="path"&&this.gradientUnits!=="percentage"&&(j-=s.pathOffset.x,U-=s.pathOffset.y),M[4]-=j,M[5]-=U,_='id="SVGID_'+this.id+'" gradientUnits="'+W+'"',_+=' gradientTransform="'+(Y?p.additionalTransform+" ":"")+u.util.matrixToSVG(M)+'" ',this.type==="linear"?y=["<linearGradient ",_,' x1="',f.x1,'" y1="',f.y1,'" x2="',f.x2,'" y2="',f.y2,`">
`]:this.type==="radial"&&(y=["<radialGradient ",_,' cx="',O?f.x1:f.x2,'" cy="',O?f.y1:f.y2,'" r="',O?f.r1:f.r2,'" fx="',O?f.x2:f.x1,'" fy="',O?f.y2:f.y1,`">
`]),this.type==="radial"){if(O)for(w=w.concat(),w.reverse(),d=0,c=w.length;d<c;d++)w[d].offset=1-w[d].offset;var it=Math.min(f.r1,f.r2);if(it>0){var lt=Math.max(f.r1,f.r2),gt=it/lt;for(d=0,c=w.length;d<c;d++)w[d].offset+=gt*(1-w[d].offset)}}for(d=0,c=w.length;d<c;d++){var ut=w[d];y.push("<stop ",'offset="',ut.offset*100+"%",'" style="stop-color:',ut.color,typeof ut.opacity<"u"?";stop-opacity: "+ut.opacity:";",`"/>
`)}return y.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),y.join("")},toLive:function(s){var a,f=u.util.object.clone(this.coords),d,c;if(this.type){for(this.type==="linear"?a=s.createLinearGradient(f.x1,f.y1,f.x2,f.y2):this.type==="radial"&&(a=s.createRadialGradient(f.x1,f.y1,f.r1,f.x2,f.y2,f.r2)),d=0,c=this.colorStops.length;d<c;d++){var p=this.colorStops[d].color,y=this.colorStops[d].opacity,_=this.colorStops[d].offset;typeof y<"u"&&(p=new u.Color(p).setAlpha(y).toRgba()),a.addColorStop(_,p)}return a}}}),u.util.object.extend(u.Gradient,{fromElement:function(s,a,f,d){var c=parseFloat(f)/(/%$/.test(f)?100:1);c=c<0?0:c>1?1:c,isNaN(c)&&(c=1);var p=s.getElementsByTagName("stop"),y,_=s.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",w=s.getAttribute("gradientTransform")||"",O=[],M,j,U=0,Y=0,W;for(s.nodeName==="linearGradient"||s.nodeName==="LINEARGRADIENT"?(y="linear",M=o(s)):(y="radial",M=r(s)),j=p.length;j--;)O.push(g(p[j],c));W=u.parseTransformAttribute(w),i(a,M,d,_),_==="pixels"&&(U=-a.left,Y=-a.top);var it=new u.Gradient({id:s.getAttribute("id"),type:y,coords:M,colorStops:O,gradientUnits:_,gradientTransform:W,offsetX:U,offsetY:Y});return it}});function i(s,a,f,d){var c,p;Object.keys(a).forEach(function(y){c=a[y],c==="Infinity"?p=1:c==="-Infinity"?p=0:(p=parseFloat(a[y],10),typeof c=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(c)&&(p*=.01,d==="pixels"&&((y==="x1"||y==="x2"||y==="r2")&&(p*=f.viewBoxWidth||f.width),(y==="y1"||y==="y2")&&(p*=f.viewBoxHeight||f.height)))),a[y]=p})}})(),(function(){var g=u.util.toFixed;u.Pattern=u.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(o,r){if(o||(o={}),this.id=u.Object.__uid++,this.setOptions(o),!o.source||o.source&&typeof o.source!="string"){r&&r(this);return}else{var l=this;this.source=u.util.createImage(),u.util.loadImage(o.source,function(i,s){l.source=i,r&&r(l,s)},null,this.crossOrigin)}},toObject:function(o){var r=u.Object.NUM_FRACTION_DIGITS,l,i;return typeof this.source.src=="string"?l=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(l=this.source.toDataURL()),i={type:"pattern",source:l,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:g(this.offsetX,r),offsetY:g(this.offsetY,r),patternTransform:this.patternTransform?this.patternTransform.concat():null},u.util.populateWithProperties(this,i,o),i},toSVG:function(o){var r=typeof this.source=="function"?this.source():this.source,l=r.width/o.width,i=r.height/o.height,s=this.offsetX/o.width,a=this.offsetY/o.height,f="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(i=1,a&&(i+=Math.abs(a))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(l=1,s&&(l+=Math.abs(s))),r.src?f=r.src:r.toDataURL&&(f=r.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+s+'" y="'+a+'" width="'+l+'" height="'+i+`">
<image x="0" y="0" width="`+r.width+'" height="'+r.height+'" xlink:href="'+f+`"></image>
</pattern>
`},setOptions:function(o){for(var r in o)this[r]=o[r]},toLive:function(o){var r=this.source;return!r||typeof r.src<"u"&&(!r.complete||r.naturalWidth===0||r.naturalHeight===0)?"":o.createPattern(r,this.repeat)}})})(),(function(g){var o=g.fabric||(g.fabric={}),r=o.util.toFixed;if(o.Shadow){o.warn("fabric.Shadow is already defined.");return}o.Shadow=o.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(l){typeof l=="string"&&(l=this._parseShadow(l));for(var i in l)this[i]=l[i];this.id=o.Object.__uid++},_parseShadow:function(l){var i=l.trim(),s=o.Shadow.reOffsetsAndBlur.exec(i)||[],a=i.replace(o.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:a.trim(),offsetX:parseFloat(s[1],10)||0,offsetY:parseFloat(s[2],10)||0,blur:parseFloat(s[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(l){var i=40,s=40,a=o.Object.NUM_FRACTION_DIGITS,f=o.util.rotateVector({x:this.offsetX,y:this.offsetY},o.util.degreesToRadians(-l.angle)),d=20,c=new o.Color(this.color);return l.width&&l.height&&(i=r((Math.abs(f.x)+this.blur)/l.width,a)*100+d,s=r((Math.abs(f.y)+this.blur)/l.height,a)*100+d),l.flipX&&(f.x*=-1),l.flipY&&(f.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+s+'%" height="'+(100+2*s)+'%" x="-'+i+'%" width="'+(100+2*i)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+r(this.blur?this.blur/2:0,a)+`"></feGaussianBlur>
	<feOffset dx="`+r(f.x,a)+'" dy="'+r(f.y,a)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+c.toRgb()+'" flood-opacity="'+c.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var l={},i=o.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(s){this[s]!==i[s]&&(l[s]=this[s])},this),l}}),o.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/})(m),(function(){if(u.StaticCanvas){u.warn("fabric.StaticCanvas is already defined.");return}var g=u.util.object.extend,o=u.util.getElementOffset,r=u.util.removeFromArray,l=u.util.toFixed,i=u.util.transformPoint,s=u.util.invertTransform,a=u.util.getNodeCanvas,f=u.util.createCanvasElement,d=new Error("Could not initialize `canvas` element");u.StaticCanvas=u.util.createClass(u.CommonMethods,{initialize:function(c,p){p||(p={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(c,p)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:u.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(c,p){var y=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(c),this._initOptions(p),this.interactive||this._initRetinaScaling(),p.overlayImage&&this.setOverlayImage(p.overlayImage,y),p.backgroundImage&&this.setBackgroundImage(p.backgroundImage,y),p.backgroundColor&&this.setBackgroundColor(p.backgroundColor,y),p.overlayColor&&this.setOverlayColor(p.overlayColor,y),this.calcOffset()},_isRetinaScaling:function(){return u.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,u.devicePixelRatio):1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var c=u.devicePixelRatio;this.__initRetinaScaling(c,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(c,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(c,p,y){p.setAttribute("width",this.width*c),p.setAttribute("height",this.height*c),y.scale(c,c)},calcOffset:function(){return this._offset=o(this.lowerCanvasEl),this},setOverlayImage:function(c,p,y){return this.__setBgOverlayImage("overlayImage",c,p,y)},setBackgroundImage:function(c,p,y){return this.__setBgOverlayImage("backgroundImage",c,p,y)},setOverlayColor:function(c,p){return this.__setBgOverlayColor("overlayColor",c,p)},setBackgroundColor:function(c,p){return this.__setBgOverlayColor("backgroundColor",c,p)},__setBgOverlayImage:function(c,p,y,_){return typeof p=="string"?u.util.loadImage(p,function(w,O){if(w){var M=new u.Image(w,_);this[c]=M,M.canvas=this}y&&y(w,O)},this,_&&_.crossOrigin):(_&&p.setOptions(_),this[c]=p,p&&(p.canvas=this),y&&y(p,!1)),this},__setBgOverlayColor:function(c,p,y){return this[c]=p,this._initGradient(p,c),this._initPattern(p,c,y),this},_createCanvasElement:function(){var c=f();if(!c||(c.style||(c.style={}),typeof c.getContext>"u"))throw d;return c},_initOptions:function(c){var p=this.lowerCanvasEl;this._setOptions(c),this.width=this.width||parseInt(p.width,10)||0,this.height=this.height||parseInt(p.height,10)||0,this.lowerCanvasEl.style&&(p.width=this.width,p.height=this.height,p.style.width=this.width+"px",p.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(c){c&&c.getContext?this.lowerCanvasEl=c:this.lowerCanvasEl=u.util.getById(c)||this._createCanvasElement(),u.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(c,p){return this.setDimensions({width:c},p)},setHeight:function(c,p){return this.setDimensions({height:c},p)},setDimensions:function(c,p){var y;p=p||{};for(var _ in c)y=c[_],p.cssOnly||(this._setBackstoreDimension(_,c[_]),y+="px",this.hasLostContext=!0),p.backstoreOnly||this._setCssDimension(_,y);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),p.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(c,p){return this.lowerCanvasEl[c]=p,this.upperCanvasEl&&(this.upperCanvasEl[c]=p),this.cacheCanvasEl&&(this.cacheCanvasEl[c]=p),this[c]=p,this},_setCssDimension:function(c,p){return this.lowerCanvasEl.style[c]=p,this.upperCanvasEl&&(this.upperCanvasEl.style[c]=p),this.wrapperEl&&(this.wrapperEl.style[c]=p),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(c){var p=this._activeObject,y=this.backgroundImage,_=this.overlayImage,w,O,M;for(this.viewportTransform=c,O=0,M=this._objects.length;O<M;O++)w=this._objects[O],w.group||w.setCoords(!0);return p&&p.setCoords(),y&&y.setCoords(!0),_&&_.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(c,p){var y=c,_=this.viewportTransform.slice(0);c=i(c,s(this.viewportTransform)),_[0]=p,_[3]=p;var w=i(c,_);return _[4]+=y.x-w.x,_[5]+=y.y-w.y,this.setViewportTransform(_)},setZoom:function(c){return this.zoomToPoint(new u.Point(0,0),c),this},absolutePan:function(c){var p=this.viewportTransform.slice(0);return p[4]=-c.x,p[5]=-c.y,this.setViewportTransform(p)},relativePan:function(c){return this.absolutePan(new u.Point(-c.x-this.viewportTransform[4],-c.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(c){this.stateful&&c.setupState(),c._set("canvas",this),c.setCoords(),this.fire("object:added",{target:c}),c.fire("added")},_onObjectRemoved:function(c){this.fire("object:removed",{target:c}),c.fire("removed"),delete c.canvas},clearContext:function(c){return c.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var c=this.contextContainer;return this.renderCanvas(c,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=u.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var c={},p=this.width,y=this.height,_=s(this.viewportTransform);return c.tl=i({x:0,y:0},_),c.br=i({x:p,y},_),c.tr=new u.Point(c.br.x,c.tl.y),c.bl=new u.Point(c.tl.x,c.br.y),this.vptCoords=c,c},cancelRequestedRender:function(){this.isRendering&&(u.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(c,p){var y=this.viewportTransform,_=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(c),u.util.setImageSmoothing(c,this.imageSmoothingEnabled),this.fire("before:render",{ctx:c}),this._renderBackground(c),c.save(),c.transform(y[0],y[1],y[2],y[3],y[4],y[5]),this._renderObjects(c,p),c.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(c),_&&(_.canvas=this,_.shouldCache(),_._transformDone=!0,_.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(c)),this._renderOverlay(c),this.controlsAboveOverlay&&this.interactive&&this.drawControls(c),this.fire("after:render",{ctx:c})},drawClipPathOnCanvas:function(c){var p=this.viewportTransform,y=this.clipPath;c.save(),c.transform(p[0],p[1],p[2],p[3],p[4],p[5]),c.globalCompositeOperation="destination-in",y.transform(c),c.scale(1/y.zoomX,1/y.zoomY),c.drawImage(y._cacheCanvas,-y.cacheTranslationX,-y.cacheTranslationY),c.restore()},_renderObjects:function(c,p){var y,_;for(y=0,_=p.length;y<_;++y)p[y]&&p[y].render(c)},_renderBackgroundOrOverlay:function(c,p){var y=this[p+"Color"],_=this[p+"Image"],w=this.viewportTransform,O=this[p+"Vpt"];if(!(!y&&!_)){if(y){c.save(),c.beginPath(),c.moveTo(0,0),c.lineTo(this.width,0),c.lineTo(this.width,this.height),c.lineTo(0,this.height),c.closePath(),c.fillStyle=y.toLive?y.toLive(c,this):y,O&&c.transform(w[0],w[1],w[2],w[3],w[4],w[5]),c.transform(1,0,0,1,y.offsetX||0,y.offsetY||0);var M=y.gradientTransform||y.patternTransform;M&&c.transform(M[0],M[1],M[2],M[3],M[4],M[5]),c.fill(),c.restore()}if(_){c.save();var j=this.skipOffscreen;this.skipOffscreen=O,O&&c.transform(w[0],w[1],w[2],w[3],w[4],w[5]),_.render(c),this.skipOffscreen=j,c.restore()}}},_renderBackground:function(c){this._renderBackgroundOrOverlay(c,"background")},_renderOverlay:function(c){this._renderBackgroundOrOverlay(c,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new u.Point(this.width/2,this.height/2)},centerObjectH:function(c){return this._centerObject(c,new u.Point(this.getCenterPoint().x,c.getCenterPoint().y))},centerObjectV:function(c){return this._centerObject(c,new u.Point(c.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(c){var p=this.getCenterPoint();return this._centerObject(c,p)},viewportCenterObject:function(c){var p=this.getVpCenter();return this._centerObject(c,p)},viewportCenterObjectH:function(c){var p=this.getVpCenter();return this._centerObject(c,new u.Point(p.x,c.getCenterPoint().y)),this},viewportCenterObjectV:function(c){var p=this.getVpCenter();return this._centerObject(c,new u.Point(c.getCenterPoint().x,p.y))},getVpCenter:function(){var c=this.getCenterPoint(),p=s(this.viewportTransform);return i(c,p)},_centerObject:function(c,p){return c.setPositionByOrigin(p,"center","center"),c.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(c){return this.toDatalessObject(c)},toObject:function(c){return this._toObjectMethod("toObject",c)},toDatalessObject:function(c){return this._toObjectMethod("toDatalessObject",c)},_toObjectMethod:function(c,p){var y=this.clipPath,_={version:u.version,objects:this._toObjects(c,p)};return y&&!y.excludeFromExport&&(_.clipPath=this._toObject(this.clipPath,c,p)),g(_,this.__serializeBgOverlay(c,p)),u.util.populateWithProperties(this,_,p),_},_toObjects:function(c,p){return this._objects.filter(function(y){return!y.excludeFromExport}).map(function(y){return this._toObject(y,c,p)},this)},_toObject:function(c,p,y){var _;this.includeDefaultValues||(_=c.includeDefaultValues,c.includeDefaultValues=!1);var w=c[p](y);return this.includeDefaultValues||(c.includeDefaultValues=_),w},__serializeBgOverlay:function(c,p){var y={},_=this.backgroundImage,w=this.overlayImage,O=this.backgroundColor,M=this.overlayColor;return O&&O.toObject?O.excludeFromExport||(y.background=O.toObject(p)):O&&(y.background=O),M&&M.toObject?M.excludeFromExport||(y.overlay=M.toObject(p)):M&&(y.overlay=M),_&&!_.excludeFromExport&&(y.backgroundImage=this._toObject(_,c,p)),w&&!w.excludeFromExport&&(y.overlayImage=this._toObject(w,c,p)),y},svgViewportTransformation:!0,toSVG:function(c,p){c||(c={}),c.reviver=p;var y=[];return this._setSVGPreamble(y,c),this._setSVGHeader(y,c),this.clipPath&&y.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(y,"background"),this._setSVGBgOverlayImage(y,"backgroundImage",p),this._setSVGObjects(y,p),this.clipPath&&y.push(`</g>
`),this._setSVGBgOverlayColor(y,"overlay"),this._setSVGBgOverlayImage(y,"overlayImage",p),y.push("</svg>"),y.join("")},_setSVGPreamble:function(c,p){p.suppressPreamble||c.push('<?xml version="1.0" encoding="',p.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(c,p){var y=p.width||this.width,_=p.height||this.height,w,O='viewBox="0 0 '+this.width+" "+this.height+'" ',M=u.Object.NUM_FRACTION_DIGITS;p.viewBox?O='viewBox="'+p.viewBox.x+" "+p.viewBox.y+" "+p.viewBox.width+" "+p.viewBox.height+'" ':this.svgViewportTransformation&&(w=this.viewportTransform,O='viewBox="'+l(-w[4]/w[0],M)+" "+l(-w[5]/w[3],M)+" "+l(this.width/w[0],M)+" "+l(this.height/w[3],M)+'" '),c.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',y,'" ','height="',_,'" ',O,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",u.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(p),`</defs>
`)},createSVGClipPathMarkup:function(c){var p=this.clipPath;return p?(p.clipPathId="CLIPPATH_"+u.Object.__uid++,'<clipPath id="'+p.clipPathId+`" >
`+this.clipPath.toClipPathSVG(c.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var c=this,p=["background","overlay"].map(function(y){var _=c[y+"Color"];if(_&&_.toLive){var w=c[y+"Vpt"],O=c.viewportTransform,M={width:c.width/(w?O[0]:1),height:c.height/(w?O[3]:1)};return _.toSVG(M,{additionalTransform:w?u.util.matrixToSVG(O):""})}});return p.join("")},createSVGFontFacesMarkup:function(){var c="",p={},y,_,w,O,M,j,U,Y,W,it=u.fontPaths,lt=[];for(this._objects.forEach(function ut(ft){lt.push(ft),ft._objects&&ft._objects.forEach(ut)}),Y=0,W=lt.length;Y<W;Y++)if(y=lt[Y],_=y.fontFamily,!(y.type.indexOf("text")===-1||p[_]||!it[_])&&(p[_]=!0,!!y.styles)){w=y.styles;for(M in w){O=w[M];for(U in O)j=O[U],_=j.fontFamily,!p[_]&&it[_]&&(p[_]=!0)}}for(var gt in p)c+=[`		@font-face {
`,"			font-family: '",gt,`';
`,"			src: url('",it[gt],`');
`,`		}
`].join("");return c&&(c=['	<style type="text/css">',`<![CDATA[
`,c,"]]>",`</style>
`].join("")),c},_setSVGObjects:function(c,p){var y,_,w,O=this._objects;for(_=0,w=O.length;_<w;_++)y=O[_],!y.excludeFromExport&&this._setSVGObject(c,y,p)},_setSVGObject:function(c,p,y){c.push(p.toSVG(y))},_setSVGBgOverlayImage:function(c,p,y){this[p]&&!this[p].excludeFromExport&&this[p].toSVG&&c.push(this[p].toSVG(y))},_setSVGBgOverlayColor:function(c,p){var y=this[p+"Color"],_=this.viewportTransform,w=this.width,O=this.height;if(y)if(y.toLive){var M=y.repeat,j=u.util.invertTransform(_),U=this[p+"Vpt"],Y=U?u.util.matrixToSVG(j):"";c.push('<rect transform="'+Y+" translate(",w/2,",",O/2,')"',' x="',y.offsetX-w/2,'" y="',y.offsetY-O/2,'" ','width="',M==="repeat-y"||M==="no-repeat"?y.source.width:w,'" height="',M==="repeat-x"||M==="no-repeat"?y.source.height:O,'" fill="url(#SVGID_'+y.id+')"',`></rect>
`)}else c.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',y,'"',`></rect>
`)},sendToBack:function(c){if(!c)return this;var p=this._activeObject,y,_,w;if(c===p&&c.type==="activeSelection")for(w=p._objects,y=w.length;y--;)_=w[y],r(this._objects,_),this._objects.unshift(_);else r(this._objects,c),this._objects.unshift(c);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(c){if(!c)return this;var p=this._activeObject,y,_,w;if(c===p&&c.type==="activeSelection")for(w=p._objects,y=0;y<w.length;y++)_=w[y],r(this._objects,_),this._objects.push(_);else r(this._objects,c),this._objects.push(c);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(c,p){if(!c)return this;var y=this._activeObject,_,w,O,M,j,U=0;if(c===y&&c.type==="activeSelection")for(j=y._objects,_=0;_<j.length;_++)w=j[_],O=this._objects.indexOf(w),O>0+U&&(M=O-1,r(this._objects,w),this._objects.splice(M,0,w)),U++;else O=this._objects.indexOf(c),O!==0&&(M=this._findNewLowerIndex(c,O,p),r(this._objects,c),this._objects.splice(M,0,c));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(c,p,y){var _,w;if(y)for(_=p,w=p-1;w>=0;--w){var O=c.intersectsWithObject(this._objects[w])||c.isContainedWithinObject(this._objects[w])||this._objects[w].isContainedWithinObject(c);if(O){_=w;break}}else _=p-1;return _},bringForward:function(c,p){if(!c)return this;var y=this._activeObject,_,w,O,M,j,U=0;if(c===y&&c.type==="activeSelection")for(j=y._objects,_=j.length;_--;)w=j[_],O=this._objects.indexOf(w),O<this._objects.length-1-U&&(M=O+1,r(this._objects,w),this._objects.splice(M,0,w)),U++;else O=this._objects.indexOf(c),O!==this._objects.length-1&&(M=this._findNewUpperIndex(c,O,p),r(this._objects,c),this._objects.splice(M,0,c));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(c,p,y){var _,w,O;if(y)for(_=p,w=p+1,O=this._objects.length;w<O;++w){var M=c.intersectsWithObject(this._objects[w])||c.isContainedWithinObject(this._objects[w])||this._objects[w].isContainedWithinObject(c);if(M){_=w;break}}else _=p+1;return _},moveTo:function(c,p){return r(this._objects,c),this._objects.splice(p,0,c),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(u.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(c){c.dispose&&c.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),u.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),u.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),g(u.StaticCanvas.prototype,u.Observable),g(u.StaticCanvas.prototype,u.Collection),g(u.StaticCanvas.prototype,u.DataURLExporter),g(u.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(c){var p=f();if(!p||!p.getContext)return null;var y=p.getContext("2d");if(!y)return null;switch(c){case"setLineDash":return typeof y.setLineDash<"u";default:return null}}}),u.StaticCanvas.prototype.toJSON=u.StaticCanvas.prototype.toObject,u.isLikelyNode&&(u.StaticCanvas.prototype.createPNGStream=function(){var c=a(this.lowerCanvasEl);return c&&c.createPNGStream()},u.StaticCanvas.prototype.createJPEGStream=function(c){var p=a(this.lowerCanvasEl);return p&&p.createJPEGStream(c)})})(),u.BaseBrush=u.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(g){g.strokeStyle=this.color,g.lineWidth=this.width,g.lineCap=this.strokeLineCap,g.miterLimit=this.strokeMiterLimit,g.lineJoin=this.strokeLineJoin,g.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(g){var o=this.canvas.viewportTransform;g.save(),g.transform(o[0],o[1],o[2],o[3],o[4],o[5])},_setShadow:function(){if(this.shadow){var g=this.canvas,o=this.shadow,r=g.contextTop,l=g.getZoom();g&&g._isRetinaScaling()&&(l*=u.devicePixelRatio),r.shadowColor=o.color,r.shadowBlur=o.blur*l,r.shadowOffsetX=o.offsetX*l,r.shadowOffsetY=o.offsetY*l}},needsFullRender:function(){var g=new u.Color(this.color);return g.getAlpha()<1||!!this.shadow},_resetShadow:function(){var g=this.canvas.contextTop;g.shadowColor="",g.shadowBlur=g.shadowOffsetX=g.shadowOffsetY=0},_isOutSideCanvas:function(g){return g.x<0||g.x>this.canvas.getWidth()||g.y<0||g.y>this.canvas.getHeight()}}),(function(){u.PencilBrush=u.util.createClass(u.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(g){this.canvas=g,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(g,o,r){var l=o.midPointFrom(r);return g.quadraticCurveTo(o.x,o.y,l.x,l.y),l},onMouseDown:function(g,o){this.canvas._isMainEvent(o.e)&&(this.drawStraightLine=o.e[this.straightLineKey],this._prepareForDrawing(g),this._captureDrawingPath(g),this._render())},onMouseMove:function(g,o){if(this.canvas._isMainEvent(o.e)&&(this.drawStraightLine=o.e[this.straightLineKey],!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(g))&&this._captureDrawingPath(g)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var r=this._points,l=r.length,i=this.canvas.contextTop;this._saveAndTransform(i),this.oldEnd&&(i.beginPath(),i.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(i,r[l-2],r[l-1],!0),i.stroke(),i.restore()}},onMouseUp:function(g){return this.canvas._isMainEvent(g.e)?(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(g){var o=new u.Point(g.x,g.y);this._reset(),this._addPoint(o),this.canvas.contextTop.moveTo(o.x,o.y)},_addPoint:function(g){return this._points.length>1&&g.eq(this._points[this._points.length-1])?!1:(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(g),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(g){var o=new u.Point(g.x,g.y);return this._addPoint(o)},_render:function(g){var o,r,l=this._points[0],i=this._points[1];if(g=g||this.canvas.contextTop,this._saveAndTransform(g),g.beginPath(),this._points.length===2&&l.x===i.x&&l.y===i.y){var s=this.width/1e3;l=new u.Point(l.x,l.y),i=new u.Point(i.x,i.y),l.x-=s,i.x+=s}for(g.moveTo(l.x,l.y),o=1,r=this._points.length;o<r;o++)this._drawSegment(g,l,i),l=this._points[o],i=this._points[o+1];g.lineTo(l.x,l.y),g.stroke(),g.restore()},convertPointsToSVGPath:function(g){var o=this.width/1e3;return u.util.getSmoothPathFromPoints(g,o)},_isEmptySVGPath:function(g){var o=u.util.joinPath(g);return o==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(g){var o=new u.Path(g,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,o.shadow=new u.Shadow(this.shadow)),o},decimatePoints:function(g,o){if(g.length<=2)return g;var r=this.canvas.getZoom(),l=Math.pow(o/r,2),i,s=g.length-1,a=g[0],f=[a],d;for(i=1;i<s-1;i++)d=Math.pow(a.x-g[i].x,2)+Math.pow(a.y-g[i].y,2),d>=l&&(a=g[i],f.push(a));return f.push(g[s]),f},_finalizeAndAddPath:function(){var g=this.canvas.contextTop;g.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var o=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(o)){this.canvas.requestRenderAll();return}var r=this.createPath(o);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:r}),this.canvas.add(r),this.canvas.requestRenderAll(),r.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:r})}})})(),u.CircleBrush=u.util.createClass(u.BaseBrush,{width:10,initialize:function(g){this.canvas=g,this.points=[]},drawDot:function(g){var o=this.addPoint(g),r=this.canvas.contextTop;this._saveAndTransform(r),this.dot(r,o),r.restore()},dot:function(g,o){g.fillStyle=o.fill,g.beginPath(),g.arc(o.x,o.y,o.radius,0,Math.PI*2,!1),g.closePath(),g.fill()},onMouseDown:function(g){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(g)},_render:function(){var g=this.canvas.contextTop,o,r,l=this.points;for(this._saveAndTransform(g),o=0,r=l.length;o<r;o++)this.dot(g,l[o]);g.restore()},onMouseMove:function(g){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(g)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(g),this._render()):this.drawDot(g))},onMouseUp:function(){var g=this.canvas.renderOnAddRemove,o,r;this.canvas.renderOnAddRemove=!1;var l=[];for(o=0,r=this.points.length;o<r;o++){var i=this.points[o],s=new u.Circle({radius:i.radius,left:i.x,top:i.y,originX:"center",originY:"center",fill:i.fill});this.shadow&&(s.shadow=new u.Shadow(this.shadow)),l.push(s)}var a=new u.Group(l);a.canvas=this.canvas,this.canvas.fire("before:path:created",{path:a}),this.canvas.add(a),this.canvas.fire("path:created",{path:a}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=g,this.canvas.requestRenderAll()},addPoint:function(g){var o=new u.Point(g.x,g.y),r=u.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,l=new u.Color(this.color).setAlpha(u.util.getRandomInt(0,100)/100).toRgba();return o.radius=r,o.fill=l,this.points.push(o),o}}),u.SprayBrush=u.util.createClass(u.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(g){this.canvas=g,this.sprayChunks=[]},onMouseDown:function(g){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(g),this.render(this.sprayChunkPoints)},onMouseMove:function(g){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(g)||(this.addSprayChunk(g),this.render(this.sprayChunkPoints))},onMouseUp:function(){var g=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var o=[],r=0,l=this.sprayChunks.length;r<l;r++)for(var i=this.sprayChunks[r],s=0,a=i.length;s<a;s++){var f=new u.Rect({width:i[s].width,height:i[s].width,left:i[s].x+1,top:i[s].y+1,originX:"center",originY:"center",fill:this.color});o.push(f)}this.optimizeOverlapping&&(o=this._getOptimizedRects(o));var d=new u.Group(o);this.shadow&&d.set("shadow",new u.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:d}),this.canvas.add(d),this.canvas.fire("path:created",{path:d}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=g,this.canvas.requestRenderAll()},_getOptimizedRects:function(g){var o={},r,l,i;for(l=0,i=g.length;l<i;l++)r=g[l].left+""+g[l].top,o[r]||(o[r]=g[l]);var s=[];for(r in o)s.push(o[r]);return s},render:function(g){var o=this.canvas.contextTop,r,l;for(o.fillStyle=this.color,this._saveAndTransform(o),r=0,l=g.length;r<l;r++){var i=g[r];typeof i.opacity<"u"&&(o.globalAlpha=i.opacity),o.fillRect(i.x,i.y,i.width,i.width)}o.restore()},_render:function(){var g=this.canvas.contextTop,o,r;for(g.fillStyle=this.color,this._saveAndTransform(g),o=0,r=this.sprayChunks.length;o<r;o++)this.render(this.sprayChunks[o]);g.restore()},addSprayChunk:function(g){this.sprayChunkPoints=[];var o,r,l,i=this.width/2,s;for(s=0;s<this.density;s++){o=u.util.getRandomInt(g.x-i,g.x+i),r=u.util.getRandomInt(g.y-i,g.y+i),this.dotWidthVariance?l=u.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):l=this.dotWidth;var a=new u.Point(o,r);a.width=l,this.randomOpacity&&(a.opacity=u.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(a)}this.sprayChunks.push(this.sprayChunkPoints)}}),u.PatternBrush=u.util.createClass(u.PencilBrush,{getPatternSrc:function(){var g=20,o=5,r=u.util.createCanvasElement(),l=r.getContext("2d");return r.width=r.height=g+o,l.fillStyle=this.color,l.beginPath(),l.arc(g/2,g/2,g/2,0,Math.PI*2,!1),l.closePath(),l.fill(),r},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(g){return g.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(g){this.callSuper("_setBrushStyles",g),g.strokeStyle=this.getPattern(g)},createPath:function(g){var o=this.callSuper("createPath",g),r=o._getLeftTopCoords().scalarAdd(o.strokeWidth/2);return o.stroke=new u.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-r.x,offsetY:-r.y}),o}}),(function(){var g=u.util.getPointer,o=u.util.degreesToRadians,r=u.util.isTouchEvent;u.Canvas=u.util.createClass(u.StaticCanvas,{initialize:function(i,s){s||(s={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(i,s),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=u.PencilBrush&&new u.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var i=this.getActiveObjects(),s,a,f;if(i.length>0&&!this.preserveObjectStacking){a=[],f=[];for(var d=0,c=this._objects.length;d<c;d++)s=this._objects[d],i.indexOf(s)===-1?a.push(s):f.push(s);i.length>1&&(this._activeObject._objects=f),a.push.apply(a,f)}else a=this._objects;return a},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var i=this.contextContainer;return this.renderCanvas(i,this._chooseObjectsToRender()),this},renderTopLayer:function(i){i.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(i),this.contextTopDirty=!0),i.restore()},renderTop:function(){var i=this.contextTop;return this.clearContext(i),this.renderTopLayer(i),this.fire("after:render"),this},_normalizePointer:function(i,s){var a=i.calcTransformMatrix(),f=u.util.invertTransform(a),d=this.restorePointerVpt(s);return u.util.transformPoint(d,f)},isTargetTransparent:function(i,s,a){if(i.shouldCache()&&i._cacheCanvas&&i!==this._activeObject){var f=this._normalizePointer(i,{x:s,y:a}),d=Math.max(i.cacheTranslationX+f.x*i.zoomX,0),c=Math.max(i.cacheTranslationY+f.y*i.zoomY,0),w=u.util.isTransparent(i._cacheContext,Math.round(d),Math.round(c),this.targetFindTolerance);return w}var p=this.contextCache,y=i.selectionBackgroundColor,_=this.viewportTransform;i.selectionBackgroundColor="",this.clearContext(p),p.save(),p.transform(_[0],_[1],_[2],_[3],_[4],_[5]),i.render(p),p.restore(),i.selectionBackgroundColor=y;var w=u.util.isTransparent(p,s,a,this.targetFindTolerance);return w},_isSelectionKeyPressed:function(i){var s=!1;return Array.isArray(this.selectionKey)?s=!!this.selectionKey.find(function(a){return i[a]===!0}):s=i[this.selectionKey],s},_shouldClearSelection:function(i,s){var a=this.getActiveObjects(),f=this._activeObject;return!s||s&&f&&a.length>1&&a.indexOf(s)===-1&&f!==s&&!this._isSelectionKeyPressed(i)||s&&!s.evented||s&&!s.selectable&&f&&f!==s},_shouldCenterTransform:function(i,s,a){if(i){var f;return s==="scale"||s==="scaleX"||s==="scaleY"||s==="resizing"?f=this.centeredScaling||i.centeredScaling:s==="rotate"&&(f=this.centeredRotation||i.centeredRotation),f?!a:a}},_getOriginFromCorner:function(i,s){var a={x:i.originX,y:i.originY};return s==="ml"||s==="tl"||s==="bl"?a.x="right":(s==="mr"||s==="tr"||s==="br")&&(a.x="left"),s==="tl"||s==="mt"||s==="tr"?a.y="bottom":(s==="bl"||s==="mb"||s==="br")&&(a.y="top"),a},_getActionFromCorner:function(i,s,a,f){if(!s||!i)return"drag";var d=f.controls[s];return d.getActionName(a,d,f)},_setupCurrentTransform:function(i,s,a){if(s){var f=this.getPointer(i),d=s.__corner,c=s.controls[d],p=a&&d?c.getActionHandler(i,s,c):u.controlsUtils.dragHandler,y=this._getActionFromCorner(a,d,i,s),_=this._getOriginFromCorner(s,d),w=i[this.centeredKey],O={target:s,action:y,actionHandler:p,corner:d,scaleX:s.scaleX,scaleY:s.scaleY,skewX:s.skewX,skewY:s.skewY,offsetX:f.x-s.left,offsetY:f.y-s.top,originX:_.x,originY:_.y,ex:f.x,ey:f.y,lastX:f.x,lastY:f.y,theta:o(s.angle),width:s.width*s.scaleX,shiftKey:i.shiftKey,altKey:w,original:u.util.saveObjectTransform(s)};this._shouldCenterTransform(s,y,w)&&(O.originX="center",O.originY="center"),O.original.originX=_.x,O.original.originY=_.y,this._currentTransform=O,this._beforeTransform(i)}},setCursor:function(i){this.upperCanvasEl.style.cursor=i},_drawSelection:function(i){var s=this._groupSelector,a=new u.Point(s.ex,s.ey),f=u.util.transformPoint(a,this.viewportTransform),d=new u.Point(s.ex+s.left,s.ey+s.top),c=u.util.transformPoint(d,this.viewportTransform),p=Math.min(f.x,c.x),y=Math.min(f.y,c.y),_=Math.max(f.x,c.x),w=Math.max(f.y,c.y),O=this.selectionLineWidth/2;this.selectionColor&&(i.fillStyle=this.selectionColor,i.fillRect(p,y,_-p,w-y)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(i.lineWidth=this.selectionLineWidth,i.strokeStyle=this.selectionBorderColor,p+=O,y+=O,_-=O,w-=O,u.Object.prototype._setLineDash.call(this,i,this.selectionDashArray),i.strokeRect(p,y,_-p,w-y))},findTarget:function(i,s){if(!this.skipTargetFind){var a=!0,f=this.getPointer(i,a),d=this._activeObject,c=this.getActiveObjects(),p,y,_=r(i),w=c.length>1&&!s||c.length===1;if(this.targets=[],w&&d._findTargetCorner(f,_)||c.length>1&&!s&&d===this._searchPossibleTargets([d],f))return d;if(c.length===1&&d===this._searchPossibleTargets([d],f))if(this.preserveObjectStacking)p=d,y=this.targets,this.targets=[];else return d;var O=this._searchPossibleTargets(this._objects,f);return i[this.altSelectionKey]&&O&&p&&O!==p&&(O=p,this.targets=y),O}},_checkTarget:function(i,s,a){if(s&&s.visible&&s.evented&&s.containsPoint(i))if((this.perPixelTargetFind||s.perPixelTargetFind)&&!s.isEditing){var f=this.isTargetTransparent(s,a.x,a.y);if(!f)return!0}else return!0},_searchPossibleTargets:function(i,s){for(var a,f=i.length,d;f--;){var c=i[f],p=c.group?this._normalizePointer(c.group,s):s;if(this._checkTarget(p,c,s)){a=i[f],a.subTargetCheck&&a instanceof u.Group&&(d=this._searchPossibleTargets(a._objects,s),d&&this.targets.push(d));break}}return a},restorePointerVpt:function(i){return u.util.transformPoint(i,u.util.invertTransform(this.viewportTransform))},getPointer:function(i,s){if(this._absolutePointer&&!s)return this._absolutePointer;if(this._pointer&&s)return this._pointer;var a=g(i),f=this.upperCanvasEl,d=f.getBoundingClientRect(),c=d.width||0,p=d.height||0,y;(!c||!p)&&("top"in d&&"bottom"in d&&(p=Math.abs(d.top-d.bottom)),"right"in d&&"left"in d&&(c=Math.abs(d.right-d.left))),this.calcOffset(),a.x=a.x-this._offset.left,a.y=a.y-this._offset.top,s||(a=this.restorePointerVpt(a));var _=this.getRetinaScaling();return _!==1&&(a.x/=_,a.y/=_),c===0||p===0?y={width:1,height:1}:y={width:f.width/c,height:f.height/p},{x:a.x*y.width,y:a.y*y.height}},_createUpperCanvas:function(){var i=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),s=this.lowerCanvasEl,a=this.upperCanvasEl;a?a.className="":(a=this._createCanvasElement(),this.upperCanvasEl=a),u.util.addClass(a,"upper-canvas "+i),this.wrapperEl.appendChild(a),this._copyCanvasStyle(s,a),this._applyCanvasStyle(a),this.contextTop=a.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=u.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),u.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),u.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(i){var s=this.width||i.width,a=this.height||i.height;u.util.setStyle(i,{position:"absolute",width:s+"px",height:a+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),i.width=s,i.height=a,u.util.makeElementUnselectable(i)},_copyCanvasStyle:function(i,s){s.style.cssText=i.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var i=this._activeObject;return i?i.type==="activeSelection"&&i._objects?i._objects.slice(0):[i]:[]},_onObjectRemoved:function(i){i===this._activeObject&&(this.fire("before:selection:cleared",{target:i}),this._discardActiveObject(),this.fire("selection:cleared",{target:i}),i.fire("deselected")),i===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",i)},_fireSelectionEvents:function(i,s){var a=!1,f=this.getActiveObjects(),d=[],c=[];i.forEach(function(p){f.indexOf(p)===-1&&(a=!0,p.fire("deselected",{e:s,target:p}),c.push(p))}),f.forEach(function(p){i.indexOf(p)===-1&&(a=!0,p.fire("selected",{e:s,target:p}),d.push(p))}),i.length>0&&f.length>0?a&&this.fire("selection:updated",{e:s,selected:d,deselected:c}):f.length>0?this.fire("selection:created",{e:s,selected:d}):i.length>0&&this.fire("selection:cleared",{e:s,deselected:c})},setActiveObject:function(i,s){var a=this.getActiveObjects();return this._setActiveObject(i,s),this._fireSelectionEvents(a,s),this},_setActiveObject:function(i,s){return this._activeObject===i||!this._discardActiveObject(s,i)||i.onSelect({e:s})?!1:(this._activeObject=i,!0)},_discardActiveObject:function(i,s){var a=this._activeObject;if(a){if(a.onDeselect({e:i,object:s}))return!1;this._activeObject=null}return!0},discardActiveObject:function(i){var s=this.getActiveObjects(),a=this.getActiveObject();return s.length&&this.fire("before:selection:cleared",{target:a,e:i}),this._discardActiveObject(i),this._fireSelectionEvents(s,i),this},dispose:function(){var i=this.wrapperEl;return this.removeListeners(),i.removeChild(this.upperCanvasEl),i.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach((function(s){u.util.cleanUpJsdomNode(this[s]),this[s]=void 0}).bind(this)),i.parentNode&&i.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,u.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(i){var s=this._activeObject;s&&s._renderControls(i)},_toObject:function(i,s,a){var f=this._realizeGroupTransformOnObject(i),d=this.callSuper("_toObject",i,s,a);return this._unwindGroupTransformOnObject(i,f),d},_realizeGroupTransformOnObject:function(i){if(i.group&&i.group.type==="activeSelection"&&this._activeObject===i.group){var s=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],a={};return s.forEach(function(f){a[f]=i[f]}),u.util.addTransformToObject(i,this._activeObject.calcOwnMatrix()),a}else return null},_unwindGroupTransformOnObject:function(i,s){s&&i.set(s)},_setSVGObject:function(i,s,a){var f=this._realizeGroupTransformOnObject(s);this.callSuper("_setSVGObject",i,s,a),this._unwindGroupTransformOnObject(s,f)},setViewportTransform:function(i){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),u.StaticCanvas.prototype.setViewportTransform.call(this,i)}});for(var l in u.StaticCanvas)l!=="prototype"&&(u.Canvas[l]=u.StaticCanvas[l])})(),(function(){var g=u.util.addListener,o=u.util.removeListener,r=3,l=2,i=1,s={passive:!1};function a(f,d){return f.button&&f.button===d-1}u.util.object.extend(u.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(g,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(f,d){var c=this.upperCanvasEl,p=this._getEventPrefix();f(u.window,"resize",this._onResize),f(c,p+"down",this._onMouseDown),f(c,p+"move",this._onMouseMove,s),f(c,p+"out",this._onMouseOut),f(c,p+"enter",this._onMouseEnter),f(c,"wheel",this._onMouseWheel),f(c,"contextmenu",this._onContextMenu),f(c,"dblclick",this._onDoubleClick),f(c,"dragover",this._onDragOver),f(c,"dragenter",this._onDragEnter),f(c,"dragleave",this._onDragLeave),f(c,"drop",this._onDrop),this.enablePointerEvents||f(c,"touchstart",this._onTouchStart,s),typeof eventjs<"u"&&d in eventjs&&(eventjs[d](c,"gesture",this._onGesture),eventjs[d](c,"drag",this._onDrag),eventjs[d](c,"orientation",this._onOrientationChange),eventjs[d](c,"shake",this._onShake),eventjs[d](c,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(o,"remove");var f=this._getEventPrefix();o(u.document,f+"up",this._onMouseUp),o(u.document,"touchend",this._onTouchEnd,s),o(u.document,f+"move",this._onMouseMove,s),o(u.document,"touchmove",this._onMouseMove,s)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(f,d){this.__onTransformGesture&&this.__onTransformGesture(f,d)},_onDrag:function(f,d){this.__onDrag&&this.__onDrag(f,d)},_onMouseWheel:function(f){this.__onMouseWheel(f)},_onMouseOut:function(f){var d=this._hoveredTarget;this.fire("mouse:out",{target:d,e:f}),this._hoveredTarget=null,d&&d.fire("mouseout",{e:f});var c=this;this._hoveredTargets.forEach(function(p){c.fire("mouse:out",{target:p,e:f}),p&&p.fire("mouseout",{e:f})}),this._hoveredTargets=[]},_onMouseEnter:function(f){!this._currentTransform&&!this.findTarget(f)&&(this.fire("mouse:over",{target:null,e:f}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(f,d){this.__onOrientationChange&&this.__onOrientationChange(f,d)},_onShake:function(f,d){this.__onShake&&this.__onShake(f,d)},_onLongPress:function(f,d){this.__onLongPress&&this.__onLongPress(f,d)},_onDragOver:function(f){f.preventDefault();var d=this._simpleEventHandler("dragover",f);this._fireEnterLeaveEvents(d,f)},_onDrop:function(f){return this._simpleEventHandler("drop:before",f),this._simpleEventHandler("drop",f)},_onContextMenu:function(f){return this.stopContextMenu&&(f.stopPropagation(),f.preventDefault()),!1},_onDoubleClick:function(f){this._cacheTransformEventData(f),this._handleEvent(f,"dblclick"),this._resetTransformEventData(f)},getPointerId:function(f){var d=f.changedTouches;return d?d[0]&&d[0].identifier:this.enablePointerEvents?f.pointerId:-1},_isMainEvent:function(f){return f.isPrimary===!0?!0:f.isPrimary===!1?!1:f.type==="touchend"&&f.touches.length===0?!0:f.changedTouches?f.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(f){f.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(f)),this.__onMouseDown(f),this._resetTransformEventData();var d=this.upperCanvasEl,c=this._getEventPrefix();g(u.document,"touchend",this._onTouchEnd,s),g(u.document,"touchmove",this._onMouseMove,s),o(d,c+"down",this._onMouseDown)},_onMouseDown:function(f){this.__onMouseDown(f),this._resetTransformEventData();var d=this.upperCanvasEl,c=this._getEventPrefix();o(d,c+"move",this._onMouseMove,s),g(u.document,c+"up",this._onMouseUp),g(u.document,c+"move",this._onMouseMove,s)},_onTouchEnd:function(f){if(!(f.touches.length>0)){this.__onMouseUp(f),this._resetTransformEventData(),this.mainTouchId=null;var d=this._getEventPrefix();o(u.document,"touchend",this._onTouchEnd,s),o(u.document,"touchmove",this._onMouseMove,s);var c=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){g(c.upperCanvasEl,d+"down",c._onMouseDown),c._willAddMouseDown=0},400)}},_onMouseUp:function(f){this.__onMouseUp(f),this._resetTransformEventData();var d=this.upperCanvasEl,c=this._getEventPrefix();this._isMainEvent(f)&&(o(u.document,c+"up",this._onMouseUp),o(u.document,c+"move",this._onMouseMove,s),g(d,c+"move",this._onMouseMove,s))},_onMouseMove:function(f){!this.allowTouchScrolling&&f.preventDefault&&f.preventDefault(),this.__onMouseMove(f)},_onResize:function(){this.calcOffset()},_shouldRender:function(f){var d=this._activeObject;return!!d!=!!f||d&&f&&d!==f?!0:(d&&d.isEditing,!1)},__onMouseUp:function(f){var d,c=this._currentTransform,p=this._groupSelector,y=!1,_=!p||p.left===0&&p.top===0;if(this._cacheTransformEventData(f),d=this._target,this._handleEvent(f,"up:before"),a(f,r)){this.fireRightClick&&this._handleEvent(f,"up",r,_);return}if(a(f,l)){this.fireMiddleClick&&this._handleEvent(f,"up",l,_),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(f);return}if(this._isMainEvent(f)){if(c&&(this._finalizeCurrentTransform(f),y=c.actionPerformed),!_){var w=d===this._activeObject;this._maybeGroupObjects(f),y||(y=this._shouldRender(d)||!w&&d===this._activeObject)}var O,M;if(d){if(O=d._findTargetCorner(this.getPointer(f,!0),u.util.isTouchEvent(f)),d.selectable&&d!==this._activeObject&&d.activeOn==="up")this.setActiveObject(d,f),y=!0;else{var j=d.controls[O],U=j&&j.getMouseUpHandler(f,d,j);U&&(M=this.getPointer(f),U(f,c,M.x,M.y))}d.isMoving=!1}if(c&&(c.target!==d||c.corner!==O)){var Y=c.target&&c.target.controls[c.corner],W=Y&&Y.getMouseUpHandler(f,d,j);M=M||this.getPointer(f),W&&W(f,c,M.x,M.y)}this._setCursorFromEvent(f,d),this._handleEvent(f,"up",i,_),this._groupSelector=null,this._currentTransform=null,d&&(d.__corner=0),y?this.requestRenderAll():_||this.renderTop()}},_simpleEventHandler:function(f,d){var c=this.findTarget(d),p=this.targets,y={e:d,target:c,subTargets:p};if(this.fire(f,y),c&&c.fire(f,y),!p)return c;for(var _=0;_<p.length;_++)p[_].fire(f,y);return c},_handleEvent:function(f,d,c,p){var y=this._target,_=this.targets||[],w={e:f,target:y,subTargets:_,button:c||i,isClick:p||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};d==="up"&&(w.currentTarget=this.findTarget(f),w.currentSubTargets=this.targets),this.fire("mouse:"+d,w),y&&y.fire("mouse"+d,w);for(var O=0;O<_.length;O++)_[O].fire("mouse"+d,w)},_finalizeCurrentTransform:function(f){var d=this._currentTransform,c=d.target,p={e:f,target:c,transform:d,action:d.action};c._scaling&&(c._scaling=!1),c.setCoords(),(d.actionPerformed||this.stateful&&c.hasStateChanged())&&this._fire("modified",p)},_onMouseDownInDrawingMode:function(f){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(f).requestRenderAll();var d=this.getPointer(f);this.freeDrawingBrush.onMouseDown(d,{e:f,pointer:d}),this._handleEvent(f,"down")},_onMouseMoveInDrawingMode:function(f){if(this._isCurrentlyDrawing){var d=this.getPointer(f);this.freeDrawingBrush.onMouseMove(d,{e:f,pointer:d})}this.setCursor(this.freeDrawingCursor),this._handleEvent(f,"move")},_onMouseUpInDrawingMode:function(f){var d=this.getPointer(f);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:f,pointer:d}),this._handleEvent(f,"up")},__onMouseDown:function(f){this._cacheTransformEventData(f),this._handleEvent(f,"down:before");var d=this._target;if(a(f,r)){this.fireRightClick&&this._handleEvent(f,"down",r);return}if(a(f,l)){this.fireMiddleClick&&this._handleEvent(f,"down",l);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(f);return}if(this._isMainEvent(f)&&!this._currentTransform){var c=this._pointer;this._previousPointer=c;var p=this._shouldRender(d),y=this._shouldGroup(f,d);if(this._shouldClearSelection(f,d)?this.discardActiveObject(f):y&&(this._handleGrouping(f,d),d=this._activeObject),this.selection&&(!d||!d.selectable&&!d.isEditing&&d!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),d){var _=d===this._activeObject;d.selectable&&d.activeOn==="down"&&this.setActiveObject(d,f);var w=d._findTargetCorner(this.getPointer(f,!0),u.util.isTouchEvent(f));if(d.__corner=w,d===this._activeObject&&(w||!y)){this._setupCurrentTransform(f,d,_);var O=d.controls[w],c=this.getPointer(f),M=O&&O.getMouseDownHandler(f,d,O);M&&M(f,this._currentTransform,c.x,c.y)}}this._handleEvent(f,"down"),(p||y)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(f){this._resetTransformEventData(),this._pointer=this.getPointer(f,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(f)||null},_beforeTransform:function(f){var d=this._currentTransform;this.stateful&&d.target.saveState(),this.fire("before:transform",{e:f,transform:d})},__onMouseMove:function(f){this._handleEvent(f,"move:before"),this._cacheTransformEventData(f);var d,c;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(f);return}if(this._isMainEvent(f)){var p=this._groupSelector;p?(c=this._absolutePointer,p.left=c.x-p.ex,p.top=c.y-p.ey,this.renderTop()):this._currentTransform?this._transformObject(f):(d=this.findTarget(f)||null,this._setCursorFromEvent(f,d),this._fireOverOutEvents(d,f)),this._handleEvent(f,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(f,d){var c=this._hoveredTarget,p=this._hoveredTargets,y=this.targets,_=Math.max(p.length,y.length);this.fireSyntheticInOutEvents(f,d,{oldTarget:c,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var w=0;w<_;w++)this.fireSyntheticInOutEvents(y[w],d,{oldTarget:p[w],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=f,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(f,d){var c=this._draggedoverTarget,p=this._hoveredTargets,y=this.targets,_=Math.max(p.length,y.length);this.fireSyntheticInOutEvents(f,d,{oldTarget:c,evtOut:"dragleave",evtIn:"dragenter"});for(var w=0;w<_;w++)this.fireSyntheticInOutEvents(y[w],d,{oldTarget:p[w],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=f},fireSyntheticInOutEvents:function(f,d,c){var p,y,_=c.oldTarget,w,O,M=_!==f,j=c.canvasEvtIn,U=c.canvasEvtOut;M&&(p={e:d,target:f,previousTarget:_},y={e:d,target:_,nextTarget:f}),O=f&&M,w=_&&M,w&&(U&&this.fire(U,y),_.fire(c.evtOut,y)),O&&(j&&this.fire(j,p),f.fire(c.evtIn,p))},__onMouseWheel:function(f){this._cacheTransformEventData(f),this._handleEvent(f,"wheel"),this._resetTransformEventData()},_transformObject:function(f){var d=this.getPointer(f),c=this._currentTransform;c.reset=!1,c.shiftKey=f.shiftKey,c.altKey=f[this.centeredKey],this._performTransformAction(f,c,d),c.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(f,d,c){var p=c.x,y=c.y,_=d.action,w=!1,O=d.actionHandler;O&&(w=O(f,d,p,y)),_==="drag"&&w&&(d.target.isMoving=!0,this.setCursor(d.target.moveCursor||this.moveCursor)),d.actionPerformed=d.actionPerformed||w},_fire:u.controlsUtils.fireEvent,_setCursorFromEvent:function(f,d){if(!d)return this.setCursor(this.defaultCursor),!1;var c=d.hoverCursor||this.hoverCursor,p=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,y=(!p||!p.contains(d))&&d._findTargetCorner(this.getPointer(f,!0));y?this.setCursor(this.getCornerCursor(y,d,f)):(d.subTargetCheck&&this.targets.concat().reverse().map(function(_){c=_.hoverCursor||c}),this.setCursor(c))},getCornerCursor:function(f,d,c){var p=d.controls[f];return p.cursorStyleHandler(c,p,d)}})})(),(function(){var g=Math.min,o=Math.max;u.util.object.extend(u.Canvas.prototype,{_shouldGroup:function(r,l){var i=this._activeObject;return i&&this._isSelectionKeyPressed(r)&&l&&l.selectable&&this.selection&&(i!==l||i.type==="activeSelection")&&!l.onSelect({e:r})},_handleGrouping:function(r,l){var i=this._activeObject;i.__corner||l===i&&(l=this.findTarget(r,!0),!l||!l.selectable)||(i&&i.type==="activeSelection"?this._updateActiveSelection(l,r):this._createActiveSelection(l,r))},_updateActiveSelection:function(r,l){var i=this._activeObject,s=i._objects.slice(0);i.contains(r)?(i.removeWithUpdate(r),this._hoveredTarget=r,this._hoveredTargets=this.targets.concat(),i.size()===1&&this._setActiveObject(i.item(0),l)):(i.addWithUpdate(r),this._hoveredTarget=i,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(s,l)},_createActiveSelection:function(r,l){var i=this.getActiveObjects(),s=this._createGroup(r);this._hoveredTarget=s,this._setActiveObject(s,l),this._fireSelectionEvents(i,l)},_createGroup:function(r){var l=this._objects,i=l.indexOf(this._activeObject)<l.indexOf(r),s=i?[this._activeObject,r]:[r,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new u.ActiveSelection(s,{canvas:this})},_groupSelectedObjects:function(r){var l=this._collectObjects(r),i;l.length===1?this.setActiveObject(l[0],r):l.length>1&&(i=new u.ActiveSelection(l.reverse(),{canvas:this}),this.setActiveObject(i,r))},_collectObjects:function(r){for(var l=[],i,s=this._groupSelector.ex,a=this._groupSelector.ey,f=s+this._groupSelector.left,d=a+this._groupSelector.top,c=new u.Point(g(s,f),g(a,d)),p=new u.Point(o(s,f),o(a,d)),y=!this.selectionFullyContained,_=s===f&&a===d,w=this._objects.length;w--&&(i=this._objects[w],!(!(!i||!i.selectable||!i.visible)&&(y&&i.intersectsWithRect(c,p,!0)||i.isContainedWithinRect(c,p,!0)||y&&i.containsPoint(c,null,!0)||y&&i.containsPoint(p,null,!0))&&(l.push(i),_))););return l.length>1&&(l=l.filter(function(O){return!O.onSelect({e:r})})),l},_maybeGroupObjects:function(r){this.selection&&this._groupSelector&&this._groupSelectedObjects(r),this.setCursor(this.defaultCursor),this._groupSelector=null}})})(),(function(){u.util.object.extend(u.StaticCanvas.prototype,{toDataURL:function(g){g||(g={});var o=g.format||"png",r=g.quality||1,l=(g.multiplier||1)*(g.enableRetinaScaling?this.getRetinaScaling():1),i=this.toCanvasElement(l,g);return u.util.toDataURL(i,o,r)},toCanvasElement:function(g,o){g=g||1,o=o||{};var r=(o.width||this.width)*g,l=(o.height||this.height)*g,i=this.getZoom(),s=this.width,a=this.height,f=i*g,d=this.viewportTransform,c=(d[4]-(o.left||0))*g,p=(d[5]-(o.top||0))*g,y=this.interactive,_=[f,0,0,f,c,p],w=this.enableRetinaScaling,O=u.util.createCanvasElement(),M=this.contextTop;return O.width=r,O.height=l,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=_,this.width=r,this.height=l,this.calcViewportBoundaries(),this.renderCanvas(O.getContext("2d"),this._objects),this.viewportTransform=d,this.width=s,this.height=a,this.calcViewportBoundaries(),this.interactive=y,this.enableRetinaScaling=w,this.contextTop=M,O}})})(),u.util.object.extend(u.StaticCanvas.prototype,{loadFromJSON:function(g,o,r){if(g){var l=typeof g=="string"?JSON.parse(g):u.util.object.clone(g),i=this,s=l.clipPath,a=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete l.clipPath,this._enlivenObjects(l.objects,function(f){i.clear(),i._setBgOverlay(l,function(){s?i._enlivenObjects([s],function(d){i.clipPath=d[0],i.__setupCanvas.call(i,l,f,a,o)}):i.__setupCanvas.call(i,l,f,a,o)})},r),this}},__setupCanvas:function(g,o,r,l){var i=this;o.forEach(function(s,a){i.insertAt(s,a)}),this.renderOnAddRemove=r,delete g.objects,delete g.backgroundImage,delete g.overlayImage,delete g.background,delete g.overlay,this._setOptions(g),this.renderAll(),l&&l()},_setBgOverlay:function(g,o){var r={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!g.backgroundImage&&!g.overlayImage&&!g.background&&!g.overlay){o&&o();return}var l=function(){r.backgroundImage&&r.overlayImage&&r.backgroundColor&&r.overlayColor&&o&&o()};this.__setBgOverlay("backgroundImage",g.backgroundImage,r,l),this.__setBgOverlay("overlayImage",g.overlayImage,r,l),this.__setBgOverlay("backgroundColor",g.background,r,l),this.__setBgOverlay("overlayColor",g.overlay,r,l)},__setBgOverlay:function(g,o,r,l){var i=this;if(!o){r[g]=!0,l&&l();return}g==="backgroundImage"||g==="overlayImage"?u.util.enlivenObjects([o],function(s){i[g]=s[0],r[g]=!0,l&&l()}):this["set"+u.util.string.capitalize(g,!0)](o,function(){r[g]=!0,l&&l()})},_enlivenObjects:function(g,o,r){if(!g||g.length===0){o&&o([]);return}u.util.enlivenObjects(g,function(l){o&&o(l)},null,r)},_toDataURL:function(g,o){this.clone(function(r){o(r.toDataURL(g))})},_toDataURLWithMultiplier:function(g,o,r){this.clone(function(l){r(l.toDataURLWithMultiplier(g,o))})},clone:function(g,o){var r=JSON.stringify(this.toJSON(o));this.cloneWithoutData(function(l){l.loadFromJSON(r,function(){g&&g(l)})})},cloneWithoutData:function(g){var o=u.util.createCanvasElement();o.width=this.width,o.height=this.height;var r=new u.Canvas(o);this.backgroundImage?(r.setBackgroundImage(this.backgroundImage.src,function(){r.renderAll(),g&&g(r)}),r.backgroundImageOpacity=this.backgroundImageOpacity,r.backgroundImageStretch=this.backgroundImageStretch):g&&g(r)}}),(function(g){var o=g.fabric||(g.fabric={}),r=o.util.object.extend,l=o.util.object.clone,i=o.util.toFixed,s=o.util.string.capitalize,a=o.util.degreesToRadians,f=!o.isLikelyNode,d=2;o.Object||(o.Object=o.util.createClass(o.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:f,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(c){c&&this.setOptions(c)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=o.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(c){var p=o.perfLimitSizeTotal,y=c.width,_=c.height,w=o.maxCacheSideLimit,O=o.minCacheSideLimit;if(y<=w&&_<=w&&y*_<=p)return y<O&&(c.width=O),_<O&&(c.height=O),c;var M=y/_,j=o.util.limitDimsByArea(M,p),U=o.util.capValue,Y=U(O,j.x,w),W=U(O,j.y,w);return y>Y&&(c.zoomX/=y/Y,c.width=Y,c.capped=!0),_>W&&(c.zoomY/=_/W,c.height=W,c.capped=!0),c},_getCacheCanvasDimensions:function(){var c=this.getTotalObjectScaling(),p=this._getTransformedDimensions(0,0),y=p.x*c.scaleX/this.scaleX,_=p.y*c.scaleY/this.scaleY;return{width:Math.ceil(y+d),height:Math.ceil(_+d),zoomX:c.scaleX,zoomY:c.scaleY,x:y,y:_}},_updateCacheCanvas:function(){var c=this.canvas;if(this.noScaleCache&&c&&c._currentTransform){var p=c._currentTransform.target,y=c._currentTransform.action;if(this===p&&y.slice&&y.slice(0,5)==="scale")return!1}var _=this._cacheCanvas,w=this._limitCacheSize(this._getCacheCanvasDimensions()),O=w.width,M=w.height,j,U,Y=w.zoomX,W=w.zoomY,it=O!==this.cacheWidth||M!==this.cacheHeight,lt=this.zoomX!==Y||this.zoomY!==W,gt=it||lt;return gt?(it?(_.width=O,_.height=M):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,_.width,_.height)),j=w.x/2,U=w.y/2,this.cacheTranslationX=Math.round(_.width/2-j)+j,this.cacheTranslationY=Math.round(_.height/2-U)+U,this.cacheWidth=O,this.cacheHeight=M,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(Y,W),this.zoomX=Y,this.zoomY=W,!0):!1},setOptions:function(c){this._setOptions(c),this._initGradient(c.fill,"fill"),this._initGradient(c.stroke,"stroke"),this._initPattern(c.fill,"fill"),this._initPattern(c.stroke,"stroke")},transform:function(c){var p=this.group&&!this.group._transformDone||this.group&&this.canvas&&c===this.canvas.contextTop,y=this.calcTransformMatrix(!p);c.transform(y[0],y[1],y[2],y[3],y[4],y[5])},toObject:function(c){var p=o.Object.NUM_FRACTION_DIGITS,y={type:this.type,version:o.version,originX:this.originX,originY:this.originY,left:i(this.left,p),top:i(this.top,p),width:i(this.width,p),height:i(this.height,p),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:i(this.strokeWidth,p),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:i(this.strokeMiterLimit,p),scaleX:i(this.scaleX,p),scaleY:i(this.scaleY,p),angle:i(this.angle,p),flipX:this.flipX,flipY:this.flipY,opacity:i(this.opacity,p),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:i(this.skewX,p),skewY:i(this.skewY,p)};return this.clipPath&&!this.clipPath.excludeFromExport&&(y.clipPath=this.clipPath.toObject(c),y.clipPath.inverted=this.clipPath.inverted,y.clipPath.absolutePositioned=this.clipPath.absolutePositioned),o.util.populateWithProperties(this,y,c),this.includeDefaultValues||(y=this._removeDefaultValues(y)),y},toDatalessObject:function(c){return this.toObject(c)},_removeDefaultValues:function(c){var p=o.util.getKlass(c.type).prototype,y=p.stateProperties;return y.forEach(function(_){_==="left"||_==="top"||(c[_]===p[_]&&delete c[_],Array.isArray(c[_])&&Array.isArray(p[_])&&c[_].length===0&&p[_].length===0&&delete c[_])}),c},toString:function(){return"#<fabric."+s(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var c=o.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(c.scaleX),scaleY:Math.abs(c.scaleY)}},getTotalObjectScaling:function(){var c=this.getObjectScaling(),p=c.scaleX,y=c.scaleY;if(this.canvas){var _=this.canvas.getZoom(),w=this.canvas.getRetinaScaling();p*=_*w,y*=_*w}return{scaleX:p,scaleY:y}},getObjectOpacity:function(){var c=this.opacity;return this.group&&(c*=this.group.getObjectOpacity()),c},_set:function(c,p){var y=c==="scaleX"||c==="scaleY",_=this[c]!==p,w=!1;return y&&(p=this._constrainScale(p)),c==="scaleX"&&p<0?(this.flipX=!this.flipX,p*=-1):c==="scaleY"&&p<0?(this.flipY=!this.flipY,p*=-1):c==="shadow"&&p&&!(p instanceof o.Shadow)?p=new o.Shadow(p):c==="dirty"&&this.group&&this.group.set("dirty",p),this[c]=p,_&&(w=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(c)>-1?(this.dirty=!0,w&&this.group.set("dirty",!0)):w&&this.stateProperties.indexOf(c)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:o.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(c){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(c.save(),this._setupCompositeOperation(c),this.drawSelectionBackground(c),this.transform(c),this._setOpacity(c),this._setShadow(c,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(c)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(c),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),c.restore())},renderCache:function(c){c=c||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,c.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(c,p){if(c.save(),p.inverted?c.globalCompositeOperation="destination-out":c.globalCompositeOperation="destination-in",p.absolutePositioned){var y=o.util.invertTransform(this.calcTransformMatrix());c.transform(y[0],y[1],y[2],y[3],y[4],y[5])}p.transform(c),c.scale(1/p.zoomX,1/p.zoomY),c.drawImage(p._cacheCanvas,-p.cacheTranslationX,-p.cacheTranslationY),c.restore()},drawObject:function(c,p){var y=this.fill,_=this.stroke;p?(this.fill="black",this.stroke="",this._setClippingProperties(c)):this._renderBackground(c),this._render(c),this._drawClipPath(c,this.clipPath),this.fill=y,this.stroke=_},_drawClipPath:function(c,p){p&&(p.canvas=this.canvas,p.shouldCache(),p._transformDone=!0,p.renderCache({forClipping:!0}),this.drawClipPathOnCache(c,p))},drawCacheOnCanvas:function(c){c.scale(1/this.zoomX,1/this.zoomY),c.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(c){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!c&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!c){var p=this.cacheWidth/this.zoomX,y=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-p/2,-y/2,p,y)}return!0}return!1},_renderBackground:function(c){if(this.backgroundColor){var p=this._getNonTransformedDimensions();c.fillStyle=this.backgroundColor,c.fillRect(-p.x/2,-p.y/2,p.x,p.y),this._removeShadow(c)}},_setOpacity:function(c){this.group&&!this.group._transformDone?c.globalAlpha=this.getObjectOpacity():c.globalAlpha*=this.opacity},_setStrokeStyles:function(c,p){var y=p.stroke;y&&(c.lineWidth=p.strokeWidth,c.lineCap=p.strokeLineCap,c.lineDashOffset=p.strokeDashOffset,c.lineJoin=p.strokeLineJoin,c.miterLimit=p.strokeMiterLimit,y.toLive?y.gradientUnits==="percentage"||y.gradientTransform||y.patternTransform?this._applyPatternForTransformedGradient(c,y):(c.strokeStyle=y.toLive(c,this),this._applyPatternGradientTransform(c,y)):c.strokeStyle=p.stroke)},_setFillStyles:function(c,p){var y=p.fill;y&&(y.toLive?(c.fillStyle=y.toLive(c,this),this._applyPatternGradientTransform(c,p.fill)):c.fillStyle=y)},_setClippingProperties:function(c){c.globalAlpha=1,c.strokeStyle="transparent",c.fillStyle="#000000"},_setLineDash:function(c,p){!p||p.length===0||(1&p.length&&p.push.apply(p,p),c.setLineDash(p))},_renderControls:function(c,p){var y=this.getViewportTransform(),_=this.calcTransformMatrix(),w,O,M;p=p||{},O=typeof p.hasBorders<"u"?p.hasBorders:this.hasBorders,M=typeof p.hasControls<"u"?p.hasControls:this.hasControls,_=o.util.multiplyTransformMatrices(y,_),w=o.util.qrDecompose(_),c.save(),c.translate(w.translateX,w.translateY),c.lineWidth=1*this.borderScaleFactor,this.group||(c.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(w.angle-=180),c.rotate(a(this.group?w.angle:this.angle)),p.forActiveSelection||this.group?O&&this.drawBordersInGroup(c,w,p):O&&this.drawBorders(c,p),M&&this.drawControls(c,p),c.restore()},_setShadow:function(c){if(this.shadow){var p=this.shadow,y=this.canvas,_,w=y&&y.viewportTransform[0]||1,O=y&&y.viewportTransform[3]||1;p.nonScaling?_={scaleX:1,scaleY:1}:_=this.getObjectScaling(),y&&y._isRetinaScaling()&&(w*=o.devicePixelRatio,O*=o.devicePixelRatio),c.shadowColor=p.color,c.shadowBlur=p.blur*o.browserShadowBlurConstant*(w+O)*(_.scaleX+_.scaleY)/4,c.shadowOffsetX=p.offsetX*w*_.scaleX,c.shadowOffsetY=p.offsetY*O*_.scaleY}},_removeShadow:function(c){this.shadow&&(c.shadowColor="",c.shadowBlur=c.shadowOffsetX=c.shadowOffsetY=0)},_applyPatternGradientTransform:function(c,p){if(!p||!p.toLive)return{offsetX:0,offsetY:0};var y=p.gradientTransform||p.patternTransform,_=-this.width/2+p.offsetX||0,w=-this.height/2+p.offsetY||0;return p.gradientUnits==="percentage"?c.transform(this.width,0,0,this.height,_,w):c.transform(1,0,0,1,_,w),y&&c.transform(y[0],y[1],y[2],y[3],y[4],y[5]),{offsetX:_,offsetY:w}},_renderPaintInOrder:function(c){this.paintFirst==="stroke"?(this._renderStroke(c),this._renderFill(c)):(this._renderFill(c),this._renderStroke(c))},_render:function(){},_renderFill:function(c){this.fill&&(c.save(),this._setFillStyles(c,this),this.fillRule==="evenodd"?c.fill("evenodd"):c.fill(),c.restore())},_renderStroke:function(c){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(c),c.save(),this.strokeUniform&&this.group){var p=this.getObjectScaling();c.scale(1/p.scaleX,1/p.scaleY)}else this.strokeUniform&&c.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(c,this.strokeDashArray),this._setStrokeStyles(c,this),c.stroke(),c.restore()}},_applyPatternForTransformedGradient:function(c,p){var y=this._limitCacheSize(this._getCacheCanvasDimensions()),_=o.util.createCanvasElement(),w,O=this.canvas.getRetinaScaling(),M=y.x/this.scaleX/O,j=y.y/this.scaleY/O;_.width=Math.ceil(M),_.height=Math.ceil(j),w=_.getContext("2d"),w.beginPath(),w.moveTo(0,0),w.lineTo(M,0),w.lineTo(M,j),w.lineTo(0,j),w.closePath(),w.translate(M/2,j/2),w.scale(y.zoomX/this.scaleX/O,y.zoomY/this.scaleY/O),this._applyPatternGradientTransform(w,p),w.fillStyle=p.toLive(c),w.fill(),c.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),c.scale(O*this.scaleX/y.zoomX,O*this.scaleY/y.zoomY),c.strokeStyle=w.createPattern(_,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var c=o.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",c.scaleX),this.set("scaleY",c.scaleY),this.angle=c.angle,this.skewX=c.skewX,this.skewY=0}},_removeTransformMatrix:function(c){var p=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),p=o.util.transformPoint(p,this.transformMatrix)),this.transformMatrix=null,c&&(this.scaleX*=c.scaleX,this.scaleY*=c.scaleY,this.cropX=c.cropX,this.cropY=c.cropY,p.x+=c.offsetLeft,p.y+=c.offsetTop,this.width=c.width,this.height=c.height),this.setPositionByOrigin(p,"center","center")},clone:function(c,p){var y=this.toObject(p);this.constructor.fromObject?this.constructor.fromObject(y,c):o.Object._fromObject("Object",y,c)},cloneAsImage:function(c,p){var y=this.toCanvasElement(p);return c&&c(new o.Image(y)),this},toCanvasElement:function(c){c||(c={});var p=o.util,y=p.saveObjectTransform(this),_=this.group,w=this.shadow,O=Math.abs,M=(c.multiplier||1)*(c.enableRetinaScaling?o.devicePixelRatio:1);delete this.group,c.withoutTransform&&p.resetObjectTransform(this),c.withoutShadow&&(this.shadow=null);var j=o.util.createCanvasElement(),U=this.getBoundingRect(!0,!0),Y=this.shadow,W,it={x:0,y:0},lt,gt,ut;Y&&(lt=Y.blur,Y.nonScaling?W={scaleX:1,scaleY:1}:W=this.getObjectScaling(),it.x=2*Math.round(O(Y.offsetX)+lt)*O(W.scaleX),it.y=2*Math.round(O(Y.offsetY)+lt)*O(W.scaleY)),gt=U.width+it.x,ut=U.height+it.y,j.width=Math.ceil(gt),j.height=Math.ceil(ut);var ft=new o.StaticCanvas(j,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});c.format==="jpeg"&&(ft.backgroundColor="#fff"),this.setPositionByOrigin(new o.Point(ft.width/2,ft.height/2),"center","center");var G=this.canvas;ft.add(this);var et=ft.toCanvasElement(M||1,c);return this.shadow=w,this.set("canvas",G),_&&(this.group=_),this.set(y).setCoords(),ft._objects=[],ft.dispose(),ft=null,et},toDataURL:function(c){return c||(c={}),o.util.toDataURL(this.toCanvasElement(c),c.format||"png",c.quality||1)},isType:function(c){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===c},complexity:function(){return 1},toJSON:function(c){return this.toObject(c)},rotate:function(c){var p=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return p&&this._setOriginToCenter(),this.set("angle",c),p&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(c,p){p=p||this.canvas.getPointer(c);var y=new o.Point(p.x,p.y),_=this._getLeftTopCoords();return this.angle&&(y=o.util.rotatePoint(y,_,a(-this.angle))),{x:y.x-_.x,y:y.y-_.y}},_setupCompositeOperation:function(c){this.globalCompositeOperation&&(c.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){o.runningAnimations&&o.runningAnimations.cancelByTarget(this)}}),o.util.createAccessors&&o.util.createAccessors(o.Object),r(o.Object.prototype,o.Observable),o.Object.NUM_FRACTION_DIGITS=2,o.Object.ENLIVEN_PROPS=["clipPath"],o.Object._fromObject=function(c,p,y,_){var w=o[c];p=l(p,!0),o.util.enlivenPatterns([p.fill,p.stroke],function(O){typeof O[0]<"u"&&(p.fill=O[0]),typeof O[1]<"u"&&(p.stroke=O[1]),o.util.enlivenObjectEnlivables(p,p,function(){var M=_?new w(p[_],p):new w(p);y&&y(M)})})},o.Object.__uid=0)})(m),(function(){var g=u.util.degreesToRadians,o={left:-.5,center:0,right:.5},r={top:-.5,center:0,bottom:.5};u.util.object.extend(u.Object.prototype,{translateToGivenOrigin:function(l,i,s,a,f){var d=l.x,c=l.y,p,y,_;return typeof i=="string"?i=o[i]:i-=.5,typeof a=="string"?a=o[a]:a-=.5,p=a-i,typeof s=="string"?s=r[s]:s-=.5,typeof f=="string"?f=r[f]:f-=.5,y=f-s,(p||y)&&(_=this._getTransformedDimensions(),d=l.x+p*_.x,c=l.y+y*_.y),new u.Point(d,c)},translateToCenterPoint:function(l,i,s){var a=this.translateToGivenOrigin(l,i,s,"center","center");return this.angle?u.util.rotatePoint(a,l,g(this.angle)):a},translateToOriginPoint:function(l,i,s){var a=this.translateToGivenOrigin(l,"center","center",i,s);return this.angle?u.util.rotatePoint(a,l,g(this.angle)):a},getCenterPoint:function(){var l=new u.Point(this.left,this.top);return this.translateToCenterPoint(l,this.originX,this.originY)},getPointByOrigin:function(l,i){var s=this.getCenterPoint();return this.translateToOriginPoint(s,l,i)},toLocalPoint:function(l,i,s){var a=this.getCenterPoint(),f,d;return typeof i<"u"&&typeof s<"u"?f=this.translateToGivenOrigin(a,"center","center",i,s):f=new u.Point(this.left,this.top),d=new u.Point(l.x,l.y),this.angle&&(d=u.util.rotatePoint(d,a,-g(this.angle))),d.subtractEquals(f)},setPositionByOrigin:function(l,i,s){var a=this.translateToCenterPoint(l,i,s),f=this.translateToOriginPoint(a,this.originX,this.originY);this.set("left",f.x),this.set("top",f.y)},adjustPosition:function(l){var i=g(this.angle),s=this.getScaledWidth(),a=u.util.cos(i)*s,f=u.util.sin(i)*s,d,c;typeof this.originX=="string"?d=o[this.originX]:d=this.originX-.5,typeof l=="string"?c=o[l]:c=l-.5,this.left+=a*(c-d),this.top+=f*(c-d),this.setCoords(),this.originX=l},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var l=this.getCenterPoint();this.originX="center",this.originY="center",this.left=l.x,this.top=l.y},_resetOrigin:function(){var l=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=l.x,this.top=l.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})})(),(function(){function g(s){return[new u.Point(s.tl.x,s.tl.y),new u.Point(s.tr.x,s.tr.y),new u.Point(s.br.x,s.br.y),new u.Point(s.bl.x,s.bl.y)]}var o=u.util,r=o.degreesToRadians,l=o.multiplyTransformMatrices,i=o.transformPoint;o.object.extend(u.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(s,a){return a?s?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),s?this.aCoords:this.lineCoords)},getCoords:function(s,a){return g(this._getCoords(s,a))},intersectsWithRect:function(s,a,f,d){var c=this.getCoords(f,d),p=u.Intersection.intersectPolygonRectangle(c,s,a);return p.status==="Intersection"},intersectsWithObject:function(s,a,f){var d=u.Intersection.intersectPolygonPolygon(this.getCoords(a,f),s.getCoords(a,f));return d.status==="Intersection"||s.isContainedWithinObject(this,a,f)||this.isContainedWithinObject(s,a,f)},isContainedWithinObject:function(s,a,f){for(var d=this.getCoords(a,f),c=a?s.aCoords:s.lineCoords,p=0,y=s._getImageLines(c);p<4;p++)if(!s.containsPoint(d[p],y))return!1;return!0},isContainedWithinRect:function(s,a,f,d){var c=this.getBoundingRect(f,d);return c.left>=s.x&&c.left+c.width<=a.x&&c.top>=s.y&&c.top+c.height<=a.y},containsPoint:function(s,p,f,d){var c=this._getCoords(f,d),p=p||this._getImageLines(c),y=this._findCrossPoints(s,p);return y!==0&&y%2===1},isOnScreen:function(s){if(!this.canvas)return!1;var a=this.canvas.vptCoords.tl,f=this.canvas.vptCoords.br,d=this.getCoords(!0,s);return d.some(function(c){return c.x<=f.x&&c.x>=a.x&&c.y<=f.y&&c.y>=a.y})||this.intersectsWithRect(a,f,!0,s)?!0:this._containsCenterOfCanvas(a,f,s)},_containsCenterOfCanvas:function(s,a,f){var d={x:(s.x+a.x)/2,y:(s.y+a.y)/2};return!!this.containsPoint(d,null,!0,f)},isPartiallyOnScreen:function(s){if(!this.canvas)return!1;var a=this.canvas.vptCoords.tl,f=this.canvas.vptCoords.br;if(this.intersectsWithRect(a,f,!0,s))return!0;var d=this.getCoords(!0,s).every(function(c){return(c.x>=f.x||c.x<=a.x)&&(c.y>=f.y||c.y<=a.y)});return d&&this._containsCenterOfCanvas(a,f,s)},_getImageLines:function(s){var a={topline:{o:s.tl,d:s.tr},rightline:{o:s.tr,d:s.br},bottomline:{o:s.br,d:s.bl},leftline:{o:s.bl,d:s.tl}};return a},_findCrossPoints:function(s,a){var f,d,c,p,y,_=0,w;for(var O in a)if(w=a[O],!(w.o.y<s.y&&w.d.y<s.y)&&!(w.o.y>=s.y&&w.d.y>=s.y)&&(w.o.x===w.d.x&&w.o.x>=s.x?y=w.o.x:(f=0,d=(w.d.y-w.o.y)/(w.d.x-w.o.x),c=s.y-f*s.x,p=w.o.y-d*w.o.x,y=-(c-p)/(f-d)),y>=s.x&&(_+=1),_===2))break;return _},getBoundingRect:function(s,a){var f=this.getCoords(s,a);return o.makeBoundingBoxFromPoints(f)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(s){return Math.abs(s)<this.minScaleLimit?s<0?-this.minScaleLimit:this.minScaleLimit:s===0?1e-4:s},scale:function(s){return this._set("scaleX",s),this._set("scaleY",s),this.setCoords()},scaleToWidth:function(s,a){var f=this.getBoundingRect(a).width/this.getScaledWidth();return this.scale(s/this.width/f)},scaleToHeight:function(s,a){var f=this.getBoundingRect(a).height/this.getScaledHeight();return this.scale(s/this.height/f)},calcLineCoords:function(){var s=this.getViewportTransform(),a=this.padding,f=r(this.angle),d=o.cos(f),c=o.sin(f),p=d*a,y=c*a,_=p+y,w=p-y,O=this.calcACoords(),M={tl:i(O.tl,s),tr:i(O.tr,s),bl:i(O.bl,s),br:i(O.br,s)};return a&&(M.tl.x-=w,M.tl.y-=_,M.tr.x+=_,M.tr.y-=w,M.bl.x-=_,M.bl.y+=w,M.br.x+=w,M.br.y+=_),M},calcOCoords:function(){var s=this._calcRotateMatrix(),a=this._calcTranslateMatrix(),f=this.getViewportTransform(),d=l(f,a),c=l(d,s),c=l(c,[1/f[0],0,0,1/f[3],0,0]),p=this._calculateCurrentDimensions(),y={};return this.forEachControl(function(_,w,O){y[w]=_.positionHandler(p,c,O)}),y},calcACoords:function(){var s=this._calcRotateMatrix(),a=this._calcTranslateMatrix(),f=l(a,s),d=this._getTransformedDimensions(),c=d.x/2,p=d.y/2;return{tl:i({x:-c,y:-p},f),tr:i({x:c,y:-p},f),bl:i({x:-c,y:p},f),br:i({x:c,y:p},f)}},setCoords:function(s){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),s?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return o.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var s=this.getCenterPoint();return[1,0,0,1,s.x,s.y]},transformMatrixKey:function(s){var a="_",f="";return!s&&this.group&&(f=this.group.transformMatrixKey(s)+a),f+this.top+a+this.left+a+this.scaleX+a+this.scaleY+a+this.skewX+a+this.skewY+a+this.angle+a+this.originX+a+this.originY+a+this.width+a+this.height+a+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(s){var a=this.calcOwnMatrix();if(s||!this.group)return a;var f=this.transformMatrixKey(s),d=this.matrixCache||(this.matrixCache={});return d.key===f?d.value:(this.group&&(a=l(this.group.calcTransformMatrix(!1),a)),d.key=f,d.value=a,a)},calcOwnMatrix:function(){var s=this.transformMatrixKey(!0),a=this.ownMatrixCache||(this.ownMatrixCache={});if(a.key===s)return a.value;var f=this._calcTranslateMatrix(),d={angle:this.angle,translateX:f[4],translateY:f[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return a.key=s,a.value=o.composeMatrix(d),a.value},_getNonTransformedDimensions:function(){var s=this.strokeWidth,a=this.width+s,f=this.height+s;return{x:a,y:f}},_getTransformedDimensions:function(s,a){typeof s>"u"&&(s=this.skewX),typeof a>"u"&&(a=this.skewY);var f,d,c,p=s===0&&a===0;if(this.strokeUniform?(d=this.width,c=this.height):(f=this._getNonTransformedDimensions(),d=f.x,c=f.y),p)return this._finalizeDimensions(d*this.scaleX,c*this.scaleY);var y=o.sizeAfterTransform(d,c,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:s,skewY:a});return this._finalizeDimensions(y.x,y.y)},_finalizeDimensions:function(s,a){return this.strokeUniform?{x:s+this.strokeWidth,y:a+this.strokeWidth}:{x:s,y:a}},_calculateCurrentDimensions:function(){var s=this.getViewportTransform(),a=this._getTransformedDimensions(),f=i(a,s,!0);return f.scalarAdd(2*this.padding)}})})(),u.util.object.extend(u.Object.prototype,{sendToBack:function(){return this.group?u.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?u.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(g){return this.group?u.StaticCanvas.prototype.sendBackwards.call(this.group,this,g):this.canvas&&this.canvas.sendBackwards(this,g),this},bringForward:function(g){return this.group?u.StaticCanvas.prototype.bringForward.call(this.group,this,g):this.canvas&&this.canvas.bringForward(this,g),this},moveTo:function(g){return this.group&&this.group.type!=="activeSelection"?u.StaticCanvas.prototype.moveTo.call(this.group,this,g):this.canvas&&this.canvas.moveTo(this,g),this}}),(function(){function g(r,l){if(l){if(l.toLive)return r+": url(#SVGID_"+l.id+"); ";var i=new u.Color(l),s=r+": "+i.toRgb()+"; ",a=i.getAlpha();return a!==1&&(s+=r+"-opacity: "+a.toString()+"; "),s}else return r+": none; "}var o=u.util.toFixed;u.util.object.extend(u.Object.prototype,{getSvgStyles:function(r){var l=this.fillRule?this.fillRule:"nonzero",i=this.strokeWidth?this.strokeWidth:"0",s=this.strokeDashArray?this.strokeDashArray.join(" "):"none",a=this.strokeDashOffset?this.strokeDashOffset:"0",f=this.strokeLineCap?this.strokeLineCap:"butt",d=this.strokeLineJoin?this.strokeLineJoin:"miter",c=this.strokeMiterLimit?this.strokeMiterLimit:"4",p=typeof this.opacity<"u"?this.opacity:"1",y=this.visible?"":" visibility: hidden;",_=r?"":this.getSvgFilter(),w=g("fill",this.fill),O=g("stroke",this.stroke);return[O,"stroke-width: ",i,"; ","stroke-dasharray: ",s,"; ","stroke-linecap: ",f,"; ","stroke-dashoffset: ",a,"; ","stroke-linejoin: ",d,"; ","stroke-miterlimit: ",c,"; ",w,"fill-rule: ",l,"; ","opacity: ",p,";",_,y].join("")},getSvgSpanStyles:function(r,l){var i="; ",a=r.fontFamily?"font-family: "+(r.fontFamily.indexOf("'")===-1&&r.fontFamily.indexOf('"')===-1?"'"+r.fontFamily+"'":r.fontFamily)+i:"",s=r.strokeWidth?"stroke-width: "+r.strokeWidth+i:"",a=a,f=r.fontSize?"font-size: "+r.fontSize+"px"+i:"",d=r.fontStyle?"font-style: "+r.fontStyle+i:"",c=r.fontWeight?"font-weight: "+r.fontWeight+i:"",p=r.fill?g("fill",r.fill):"",y=r.stroke?g("stroke",r.stroke):"",_=this.getSvgTextDecoration(r),w=r.deltaY?"baseline-shift: "+-r.deltaY+"; ":"";return _&&(_="text-decoration: "+_+i),[y,s,a,f,d,c,_,p,w,l?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(r){return["overline","underline","line-through"].filter(function(l){return r[l.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(r,l){var i=r?this.calcTransformMatrix():this.calcOwnMatrix(),s='transform="'+u.util.matrixToSVG(i);return s+(l||"")+'" '},_setSVGBg:function(r){if(this.backgroundColor){var l=u.Object.NUM_FRACTION_DIGITS;r.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',o(-this.width/2,l),'" y="',o(-this.height/2,l),'" width="',o(this.width,l),'" height="',o(this.height,l),`"></rect>
`)}},toSVG:function(r){return this._createBaseSVGMarkup(this._toSVG(r),{reviver:r})},toClipPathSVG:function(r){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(r),{reviver:r})},_createBaseClipPathSVGMarkup:function(r,l){l=l||{};var i=l.reviver,s=l.additionalTransform||"",a=[this.getSvgTransform(!0,s),this.getSvgCommons()].join(""),f=r.indexOf("COMMON_PARTS");return r[f]=a,i?i(r.join("")):r.join("")},_createBaseSVGMarkup:function(r,l){l=l||{};var i=l.noStyle,s=l.reviver,a=i?"":'style="'+this.getSvgStyles()+'" ',f=l.withShadow?'style="'+this.getSvgFilter()+'" ':"",d=this.clipPath,c=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",p=d&&d.absolutePositioned,y=this.stroke,_=this.fill,w=this.shadow,O,M=[],j,U=r.indexOf("COMMON_PARTS"),Y=l.additionalTransform;return d&&(d.clipPathId="CLIPPATH_"+u.Object.__uid++,j='<clipPath id="'+d.clipPathId+`" >
`+d.toClipPathSVG(s)+`</clipPath>
`),p&&M.push("<g ",f,this.getSvgCommons(),` >
`),M.push("<g ",this.getSvgTransform(!1),p?"":f+this.getSvgCommons(),` >
`),O=[a,c,i?"":this.addPaintOrder()," ",Y?'transform="'+Y+'" ':""].join(""),r[U]=O,_&&_.toLive&&M.push(_.toSVG(this)),y&&y.toLive&&M.push(y.toSVG(this)),w&&M.push(w.toSVG(this)),d&&M.push(j),M.push(r.join("")),M.push(`</g>
`),p&&M.push(`</g>
`),s?s(M.join("")):M.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})})(),(function(){var g=u.util.object.extend,o="stateProperties";function r(i,s,a){var f={},d=!0;a.forEach(function(c){f[c]=i[c]}),g(i[s],f,d)}function l(i,s,a){if(i===s)return!0;if(Array.isArray(i)){if(!Array.isArray(s)||i.length!==s.length)return!1;for(var f=0,d=i.length;f<d;f++)if(!l(i[f],s[f]))return!1;return!0}else if(i&&typeof i=="object"){var c=Object.keys(i),p;if(!s||typeof s!="object"||!a&&c.length!==Object.keys(s).length)return!1;for(var f=0,d=c.length;f<d;f++)if(p=c[f],!(p==="canvas"||p==="group")&&!l(i[p],s[p]))return!1;return!0}}u.util.object.extend(u.Object.prototype,{hasStateChanged:function(i){i=i||o;var s="_"+i;return Object.keys(this[s]).length<this[i].length?!0:!l(this[s],this,!0)},saveState:function(i){var s=i&&i.propertySet||o,a="_"+s;return this[a]?(r(this,a,this[s]),i&&i.stateProperties&&r(this,a,i.stateProperties),this):this.setupState(i)},setupState:function(i){i=i||{};var s=i.propertySet||o;return i.propertySet=s,this["_"+s]={},this.saveState(i),this}})})(),(function(){var g=u.util.degreesToRadians;u.util.object.extend(u.Object.prototype,{_findTargetCorner:function(o,r){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var l=o.x,i=o.y,s,a,f=Object.keys(this.oCoords),d=f.length-1,c;for(this.__corner=0;d>=0;d--)if(c=f[d],!!this.isControlVisible(c)&&(a=this._getImageLines(r?this.oCoords[c].touchCorner:this.oCoords[c].corner),s=this._findCrossPoints({x:l,y:i},a),s!==0&&s%2===1))return this.__corner=c,c;return!1},forEachControl:function(o){for(var r in this.controls)o(this.controls[r],r,this)},_setCornerCoords:function(){var o=this.oCoords;for(var r in o){var l=this.controls[r];o[r].corner=l.calcCornerCoords(this.angle,this.cornerSize,o[r].x,o[r].y,!1),o[r].touchCorner=l.calcCornerCoords(this.angle,this.touchCornerSize,o[r].x,o[r].y,!0)}},drawSelectionBackground:function(o){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;o.save();var r=this.getCenterPoint(),l=this._calculateCurrentDimensions(),i=this.canvas.viewportTransform;return o.translate(r.x,r.y),o.scale(1/i[0],1/i[3]),o.rotate(g(this.angle)),o.fillStyle=this.selectionBackgroundColor,o.fillRect(-l.x/2,-l.y/2,l.x,l.y),o.restore(),this},drawBorders:function(o,r){r=r||{};var l=this._calculateCurrentDimensions(),i=this.borderScaleFactor,s=l.x+i,a=l.y+i,f=typeof r.hasControls<"u"?r.hasControls:this.hasControls,d=!1;return o.save(),o.strokeStyle=r.borderColor||this.borderColor,this._setLineDash(o,r.borderDashArray||this.borderDashArray),o.strokeRect(-s/2,-a/2,s,a),f&&(o.beginPath(),this.forEachControl(function(c,p,y){c.withConnection&&c.getVisibility(y,p)&&(d=!0,o.moveTo(c.x*s,c.y*a),o.lineTo(c.x*s+c.offsetX,c.y*a+c.offsetY))}),d&&o.stroke()),o.restore(),this},drawBordersInGroup:function(o,r,l){l=l||{};var i=u.util.sizeAfterTransform(this.width,this.height,r),s=this.strokeWidth,a=this.strokeUniform,f=this.borderScaleFactor,d=i.x+s*(a?this.canvas.getZoom():r.scaleX)+f,c=i.y+s*(a?this.canvas.getZoom():r.scaleY)+f;return o.save(),this._setLineDash(o,l.borderDashArray||this.borderDashArray),o.strokeStyle=l.borderColor||this.borderColor,o.strokeRect(-d/2,-c/2,d,c),o.restore(),this},drawControls:function(o,r){r=r||{},o.save();var l=1,i,s;return this.canvas&&(l=this.canvas.getRetinaScaling()),o.setTransform(l,0,0,l,0,0),o.strokeStyle=o.fillStyle=r.cornerColor||this.cornerColor,this.transparentCorners||(o.strokeStyle=r.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(o,r.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(i=this.group.calcTransformMatrix()),this.forEachControl(function(a,f,d){s=d.oCoords[f],a.getVisibility(d,f)&&(i&&(s=u.util.transformPoint(s,i)),a.render(o,s.x,s.y,r,d))}),o.restore(),this},isControlVisible:function(o){return this.controls[o]&&this.controls[o].getVisibility(this,o)},setControlVisible:function(o,r){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[o]=r,this},setControlsVisibility:function(o){o||(o={});for(var r in o)this.setControlVisible(r,o[r]);return this},onDeselect:function(){},onSelect:function(){}})})(),u.util.object.extend(u.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(g,o){o=o||{};var r=function(){},l=o.onComplete||r,i=o.onChange||r,s=this;return u.util.animate({target:this,startValue:g.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(a){g.set("left",a),s.requestRenderAll(),i()},onComplete:function(){g.setCoords(),l()}})},fxCenterObjectV:function(g,o){o=o||{};var r=function(){},l=o.onComplete||r,i=o.onChange||r,s=this;return u.util.animate({target:this,startValue:g.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(a){g.set("top",a),s.requestRenderAll(),i()},onComplete:function(){g.setCoords(),l()}})},fxRemove:function(g,o){o=o||{};var r=function(){},l=o.onComplete||r,i=o.onChange||r,s=this;return u.util.animate({target:this,startValue:g.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(a){g.set("opacity",a),s.requestRenderAll(),i()},onComplete:function(){s.remove(g),l()}})}}),u.util.object.extend(u.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var g=[],o,r,l=[];for(o in arguments[0])g.push(o);for(var i=0,s=g.length;i<s;i++)o=g[i],r=i!==s-1,l.push(this._animate(o,arguments[0][o],arguments[1],r));return l}else return this._animate.apply(this,arguments)},_animate:function(g,o,r,l){var i=this,s;o=o.toString(),r?r=u.util.object.clone(r):r={},~g.indexOf(".")&&(s=g.split("."));var a=i.colorProperties.indexOf(g)>-1||s&&i.colorProperties.indexOf(s[1])>-1,f=s?this.get(s[0])[s[1]]:this.get(g);"from"in r||(r.from=f),a||(~o.indexOf("=")?o=f+parseFloat(o.replace("=","")):o=parseFloat(o));var d={target:this,startValue:r.from,endValue:o,byValue:r.by,easing:r.easing,duration:r.duration,abort:r.abort&&function(c,p,y){return r.abort.call(i,c,p,y)},onChange:function(c,p,y){s?i[s[0]][s[1]]=c:i.set(g,c),!l&&r.onChange&&r.onChange(c,p,y)},onComplete:function(c,p,y){l||(i.setCoords(),r.onComplete&&r.onComplete(c,p,y))}};return a?u.util.animateColor(d.startValue,d.endValue,d.duration,d):u.util.animate(d)}}),(function(g){var o=g.fabric||(g.fabric={}),r=o.util.object.extend,l=o.util.object.clone,i={x1:1,x2:1,y1:1,y2:1};if(o.Line){o.warn("fabric.Line is already defined");return}o.Line=o.util.createClass(o.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:o.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(a,f){a||(a=[0,0,0,0]),this.callSuper("initialize",f),this.set("x1",a[0]),this.set("y1",a[1]),this.set("x2",a[2]),this.set("y2",a[3]),this._setWidthHeight(f)},_setWidthHeight:function(a){a||(a={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in a?a.left:this._getLeftToOriginX(),this.top="top"in a?a.top:this._getTopToOriginY()},_set:function(a,f){return this.callSuper("_set",a,f),typeof i[a]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:s({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:s({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(a){a.beginPath();var f=this.calcLinePoints();a.moveTo(f.x1,f.y1),a.lineTo(f.x2,f.y2),a.lineWidth=this.strokeWidth;var d=a.strokeStyle;a.strokeStyle=this.stroke||a.fillStyle,this.stroke&&this._renderStroke(a),a.strokeStyle=d},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(a){return r(this.callSuper("toObject",a),this.calcLinePoints())},_getNonTransformedDimensions:function(){var a=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(a.y-=this.strokeWidth),this.height===0&&(a.x-=this.strokeWidth)),a},calcLinePoints:function(){var a=this.x1<=this.x2?-1:1,f=this.y1<=this.y2?-1:1,d=a*this.width*.5,c=f*this.height*.5,p=a*this.width*-.5,y=f*this.height*-.5;return{x1:d,x2:p,y1:c,y2:y}},_toSVG:function(){var a=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',a.x1,'" y1="',a.y1,'" x2="',a.x2,'" y2="',a.y2,`" />
`]}}),o.Line.ATTRIBUTE_NAMES=o.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),o.Line.fromElement=function(a,f,d){d=d||{};var c=o.parseAttributes(a,o.Line.ATTRIBUTE_NAMES),p=[c.x1||0,c.y1||0,c.x2||0,c.y2||0];f(new o.Line(p,r(c,d)))},o.Line.fromObject=function(a,f){function d(p){delete p.points,f&&f(p)}var c=l(a,!0);c.points=[a.x1,a.y1,a.x2,a.y2],o.Object._fromObject("Line",c,d,"points")};function s(a,f){var d=a.origin,c=a.axis1,p=a.axis2,y=a.dimension,_=f.nearest,w=f.center,O=f.farthest;return function(){switch(this.get(d)){case _:return Math.min(this.get(c),this.get(p));case w:return Math.min(this.get(c),this.get(p))+.5*this.get(y);case O:return Math.max(this.get(c),this.get(p))}}}})(m),(function(g){var o=g.fabric||(g.fabric={}),r=o.util.degreesToRadians;if(o.Circle){o.warn("fabric.Circle is already defined.");return}o.Circle=o.util.createClass(o.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:o.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(i,s){return this.callSuper("_set",i,s),i==="radius"&&this.setRadius(s),this},toObject:function(i){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(i))},_toSVG:function(){var i,s=0,a=0,f=(this.endAngle-this.startAngle)%360;if(f===0)i=["<circle ","COMMON_PARTS",'cx="'+s+'" cy="'+a+'" ','r="',this.radius,`" />
`];else{var d=r(this.startAngle),c=r(this.endAngle),p=this.radius,y=o.util.cos(d)*p,_=o.util.sin(d)*p,w=o.util.cos(c)*p,O=o.util.sin(c)*p,M=f>180?"1":"0";i=['<path d="M '+y+" "+_," A "+p+" "+p," 0 ",+M+" 1"," "+w+" "+O,'" ',"COMMON_PARTS",` />
`]}return i},_render:function(i){i.beginPath(),i.arc(0,0,this.radius,r(this.startAngle),r(this.endAngle),!1),this._renderPaintInOrder(i)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(i){return this.radius=i,this.set("width",i*2).set("height",i*2)}}),o.Circle.ATTRIBUTE_NAMES=o.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),o.Circle.fromElement=function(i,s){var a=o.parseAttributes(i,o.Circle.ATTRIBUTE_NAMES);if(!l(a))throw new Error("value of `r` attribute is required and can not be negative");a.left=(a.left||0)-a.radius,a.top=(a.top||0)-a.radius,s(new o.Circle(a))};function l(i){return"radius"in i&&i.radius>=0}o.Circle.fromObject=function(i,s){o.Object._fromObject("Circle",i,s)}})(m),(function(g){var o=g.fabric||(g.fabric={});if(o.Triangle){o.warn("fabric.Triangle is already defined");return}o.Triangle=o.util.createClass(o.Object,{type:"triangle",width:100,height:100,_render:function(r){var l=this.width/2,i=this.height/2;r.beginPath(),r.moveTo(-l,i),r.lineTo(0,-i),r.lineTo(l,i),r.closePath(),this._renderPaintInOrder(r)},_toSVG:function(){var r=this.width/2,l=this.height/2,i=[-r+" "+l,"0 "+-l,r+" "+l].join(",");return["<polygon ","COMMON_PARTS",'points="',i,'" />']}}),o.Triangle.fromObject=function(r,l){return o.Object._fromObject("Triangle",r,l)}})(m),(function(g){var o=g.fabric||(g.fabric={}),r=Math.PI*2;if(o.Ellipse){o.warn("fabric.Ellipse is already defined.");return}o.Ellipse=o.util.createClass(o.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:o.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(l){this.callSuper("initialize",l),this.set("rx",l&&l.rx||0),this.set("ry",l&&l.ry||0)},_set:function(l,i){switch(this.callSuper("_set",l,i),l){case"rx":this.rx=i,this.set("width",i*2);break;case"ry":this.ry=i,this.set("height",i*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(l){return this.callSuper("toObject",["rx","ry"].concat(l))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(l){l.beginPath(),l.save(),l.transform(1,0,0,this.ry/this.rx,0,0),l.arc(0,0,this.rx,0,r,!1),l.restore(),this._renderPaintInOrder(l)}}),o.Ellipse.ATTRIBUTE_NAMES=o.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),o.Ellipse.fromElement=function(l,i){var s=o.parseAttributes(l,o.Ellipse.ATTRIBUTE_NAMES);s.left=(s.left||0)-s.rx,s.top=(s.top||0)-s.ry,i(new o.Ellipse(s))},o.Ellipse.fromObject=function(l,i){o.Object._fromObject("Ellipse",l,i)}})(m),(function(g){var o=g.fabric||(g.fabric={}),r=o.util.object.extend;if(o.Rect){o.warn("fabric.Rect is already defined");return}o.Rect=o.util.createClass(o.Object,{stateProperties:o.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:o.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(l){this.callSuper("initialize",l),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(l){var i=this.rx?Math.min(this.rx,this.width/2):0,s=this.ry?Math.min(this.ry,this.height/2):0,a=this.width,f=this.height,d=-this.width/2,c=-this.height/2,p=i!==0||s!==0,y=1-.5522847498;l.beginPath(),l.moveTo(d+i,c),l.lineTo(d+a-i,c),p&&l.bezierCurveTo(d+a-y*i,c,d+a,c+y*s,d+a,c+s),l.lineTo(d+a,c+f-s),p&&l.bezierCurveTo(d+a,c+f-y*s,d+a-y*i,c+f,d+a-i,c+f),l.lineTo(d+i,c+f),p&&l.bezierCurveTo(d+y*i,c+f,d,c+f-y*s,d,c+f-s),l.lineTo(d,c+s),p&&l.bezierCurveTo(d,c+y*s,d+y*i,c,d+i,c),l.closePath(),this._renderPaintInOrder(l)},toObject:function(l){return this.callSuper("toObject",["rx","ry"].concat(l))},_toSVG:function(){var l=-this.width/2,i=-this.height/2;return["<rect ","COMMON_PARTS",'x="',l,'" y="',i,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),o.Rect.ATTRIBUTE_NAMES=o.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),o.Rect.fromElement=function(l,i,s){if(!l)return i(null);s=s||{};var a=o.parseAttributes(l,o.Rect.ATTRIBUTE_NAMES);a.left=a.left||0,a.top=a.top||0,a.height=a.height||0,a.width=a.width||0;var f=new o.Rect(r(s?o.util.object.clone(s):{},a));f.visible=f.visible&&f.width>0&&f.height>0,i(f)},o.Rect.fromObject=function(l,i){return o.Object._fromObject("Rect",l,i)}})(m),(function(g){var o=g.fabric||(g.fabric={}),r=o.util.object.extend,l=o.util.array.min,i=o.util.array.max,s=o.util.toFixed,a=o.util.projectStrokeOnPoints;if(o.Polyline){o.warn("fabric.Polyline is already defined");return}o.Polyline=o.util.createClass(o.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:o.Object.prototype.cacheProperties.concat("points"),initialize:function(f,d){d=d||{},this.points=f||[],this.callSuper("initialize",d),this._setPositionDimensions(d)},_projectStrokeOnPoints:function(){return a(this.points,this,!0)},_setPositionDimensions:function(f){var d=this._calcDimensions(f),c,p=this.exactBoundingBox?this.strokeWidth:0;this.width=d.width-p,this.height=d.height-p,f.fromSVG||(c=this.translateToGivenOrigin({x:d.left-this.strokeWidth/2+p/2,y:d.top-this.strokeWidth/2+p/2},"left","top",this.originX,this.originY)),typeof f.left>"u"&&(this.left=f.fromSVG?d.left:c.x),typeof f.top>"u"&&(this.top=f.fromSVG?d.top:c.y),this.pathOffset={x:d.left+this.width/2+p/2,y:d.top+this.height/2+p/2}},_calcDimensions:function(){var f=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,d=l(f,"x")||0,c=l(f,"y")||0,p=i(f,"x")||0,y=i(f,"y")||0,_=p-d,w=y-c;return{left:d,top:c,width:_,height:w}},toObject:function(f){return r(this.callSuper("toObject",f),{points:this.points.concat()})},_toSVG:function(){for(var f=[],d=this.pathOffset.x,c=this.pathOffset.y,p=o.Object.NUM_FRACTION_DIGITS,y=0,_=this.points.length;y<_;y++)f.push(s(this.points[y].x-d,p),",",s(this.points[y].y-c,p)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',f.join(""),`" />
`]},commonRender:function(f){var d,c=this.points.length,p=this.pathOffset.x,y=this.pathOffset.y;if(!c||isNaN(this.points[c-1].y))return!1;f.beginPath(),f.moveTo(this.points[0].x-p,this.points[0].y-y);for(var _=0;_<c;_++)d=this.points[_],f.lineTo(d.x-p,d.y-y);return!0},_render:function(f){this.commonRender(f)&&this._renderPaintInOrder(f)},complexity:function(){return this.get("points").length}}),o.Polyline.ATTRIBUTE_NAMES=o.SHARED_ATTRIBUTES.concat(),o.Polyline.fromElementGenerator=function(f){return function(d,c,p){if(!d)return c(null);p||(p={});var y=o.parsePointsAttribute(d.getAttribute("points")),_=o.parseAttributes(d,o[f].ATTRIBUTE_NAMES);_.fromSVG=!0,c(new o[f](y,r(_,p)))}},o.Polyline.fromElement=o.Polyline.fromElementGenerator("Polyline"),o.Polyline.fromObject=function(f,d){return o.Object._fromObject("Polyline",f,d,"points")}})(m),(function(g){var o=g.fabric||(g.fabric={}),r=o.util.projectStrokeOnPoints;if(o.Polygon){o.warn("fabric.Polygon is already defined");return}o.Polygon=o.util.createClass(o.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return r(this.points,this)},_render:function(l){this.commonRender(l)&&(l.closePath(),this._renderPaintInOrder(l))}}),o.Polygon.ATTRIBUTE_NAMES=o.SHARED_ATTRIBUTES.concat(),o.Polygon.fromElement=o.Polyline.fromElementGenerator("Polygon"),o.Polygon.fromObject=function(l,i){o.Object._fromObject("Polygon",l,i,"points")}})(m),(function(g){var o=g.fabric||(g.fabric={}),r=o.util.array.min,l=o.util.array.max,i=o.util.object.extend,s=o.util.object.clone,a=o.util.toFixed;if(o.Path){o.warn("fabric.Path is already defined");return}o.Path=o.util.createClass(o.Object,{type:"path",path:null,cacheProperties:o.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:o.Object.prototype.stateProperties.concat("path"),initialize:function(f,d){d=s(d||{}),delete d.path,this.callSuper("initialize",d),this._setPath(f||[],d)},_setPath:function(f,d){this.path=o.util.makePathSimpler(Array.isArray(f)?f:o.util.parsePath(f)),o.Polyline.prototype._setPositionDimensions.call(this,d||{})},_renderPathCommands:function(f){var d,c=0,p=0,y=0,_=0,w=0,O=0,M=-this.pathOffset.x,j=-this.pathOffset.y;f.beginPath();for(var U=0,Y=this.path.length;U<Y;++U)switch(d=this.path[U],d[0]){case"L":y=d[1],_=d[2],f.lineTo(y+M,_+j);break;case"M":y=d[1],_=d[2],c=y,p=_,f.moveTo(y+M,_+j);break;case"C":y=d[5],_=d[6],w=d[3],O=d[4],f.bezierCurveTo(d[1]+M,d[2]+j,w+M,O+j,y+M,_+j);break;case"Q":f.quadraticCurveTo(d[1]+M,d[2]+j,d[3]+M,d[4]+j),y=d[3],_=d[4],w=d[1],O=d[2];break;case"z":case"Z":y=c,_=p,f.closePath();break}},_render:function(f){this._renderPathCommands(f),this._renderPaintInOrder(f)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(f){return i(this.callSuper("toObject",f),{path:this.path.map(function(d){return d.slice()})})},toDatalessObject:function(f){var d=this.toObject(["sourcePath"].concat(f));return d.sourcePath&&delete d.path,d},_toSVG:function(){var f=o.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',f,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var f=o.Object.NUM_FRACTION_DIGITS;return" translate("+a(-this.pathOffset.x,f)+", "+a(-this.pathOffset.y,f)+")"},toClipPathSVG:function(f){var d=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:f,additionalTransform:d})},toSVG:function(f){var d=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:f,additionalTransform:d})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var f=[],d=[],c,p=0,y=0,_=0,w=0,O,M=0,j=this.path.length;M<j;++M){switch(c=this.path[M],c[0]){case"L":_=c[1],w=c[2],O=[];break;case"M":_=c[1],w=c[2],p=_,y=w,O=[];break;case"C":O=o.util.getBoundsOfCurve(_,w,c[1],c[2],c[3],c[4],c[5],c[6]),_=c[5],w=c[6];break;case"Q":O=o.util.getBoundsOfCurve(_,w,c[1],c[2],c[1],c[2],c[3],c[4]),_=c[3],w=c[4];break;case"z":case"Z":_=p,w=y;break}O.forEach(function(ut){f.push(ut.x),d.push(ut.y)}),f.push(_),d.push(w)}var U=r(f)||0,Y=r(d)||0,W=l(f)||0,it=l(d)||0,lt=W-U,gt=it-Y;return{left:U,top:Y,width:lt,height:gt}}}),o.Path.fromObject=function(f,d){if(typeof f.sourcePath=="string"){var c=f.sourcePath;o.loadSVGFromURL(c,function(p){var y=p[0];y.setOptions(f),f.clipPath?o.util.enlivenObjects([f.clipPath],function(_){y.clipPath=_[0],d&&d(y)}):d&&d(y)})}else o.Object._fromObject("Path",f,d,"path")},o.Path.ATTRIBUTE_NAMES=o.SHARED_ATTRIBUTES.concat(["d"]),o.Path.fromElement=function(f,d,c){var p=o.parseAttributes(f,o.Path.ATTRIBUTE_NAMES);p.fromSVG=!0,d(new o.Path(p.d,i(p,c)))}})(m),(function(g){var o=g.fabric||(g.fabric={}),r=o.util.array.min,l=o.util.array.max;o.Group||(o.Group=o.util.createClass(o.Object,o.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(i,s,a){s=s||{},this._objects=[],a&&this.callSuper("initialize",s),this._objects=i||[];for(var f=this._objects.length;f--;)this._objects[f].group=this;if(a)this._updateObjectsACoords();else{var d=s&&s.centerPoint;s.originX!==void 0&&(this.originX=s.originX),s.originY!==void 0&&(this.originY=s.originY),d||this._calcBounds(),this._updateObjectsCoords(d),delete s.centerPoint,this.callSuper("initialize",s)}this.setCoords()},_updateObjectsACoords:function(){for(var i=!0,s=this._objects.length;s--;)this._objects[s].setCoords(i)},_updateObjectsCoords:function(s){for(var s=s||this.getCenterPoint(),a=this._objects.length;a--;)this._updateObjectCoords(this._objects[a],s)},_updateObjectCoords:function(i,s){var a=i.left,f=i.top,d=!0;i.set({left:a-s.x,top:f-s.y}),i.group=this,i.setCoords(d)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(i){var s=!!this.group;return this._restoreObjectsState(),o.util.resetObjectTransform(this),i&&(s&&o.util.removeTransformFromObject(i,this.group.calcTransformMatrix()),this._objects.push(i),i.group=this,i._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,s?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(i){return this._restoreObjectsState(),o.util.resetObjectTransform(this),this.remove(i),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(i){this.dirty=!0,i.group=this,i._set("canvas",this.canvas)},_onObjectRemoved:function(i){this.dirty=!0,delete i.group},_set:function(i,s){var a=this._objects.length;if(this.useSetOnGroup)for(;a--;)this._objects[a].setOnGroup(i,s);if(i==="canvas")for(;a--;)this._objects[a]._set(i,s);o.Object.prototype._set.call(this,i,s)},toObject:function(i){var s=this.includeDefaultValues,a=this._objects.filter(function(d){return!d.excludeFromExport}).map(function(d){var c=d.includeDefaultValues;d.includeDefaultValues=s;var p=d.toObject(i);return d.includeDefaultValues=c,p}),f=o.Object.prototype.toObject.call(this,i);return f.objects=a,f},toDatalessObject:function(i){var s,a=this.sourcePath;if(a)s=a;else{var f=this.includeDefaultValues;s=this._objects.map(function(c){var p=c.includeDefaultValues;c.includeDefaultValues=f;var y=c.toDatalessObject(i);return c.includeDefaultValues=p,y})}var d=o.Object.prototype.toDatalessObject.call(this,i);return d.objects=s,d},render:function(i){this._transformDone=!0,this.callSuper("render",i),this._transformDone=!1},shouldCache:function(){var i=o.Object.prototype.shouldCache.call(this);if(i){for(var s=0,a=this._objects.length;s<a;s++)if(this._objects[s].willDrawShadow())return this.ownCaching=!1,!1}return i},willDrawShadow:function(){if(o.Object.prototype.willDrawShadow.call(this))return!0;for(var i=0,s=this._objects.length;i<s;i++)if(this._objects[i].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(i){for(var s=0,a=this._objects.length;s<a;s++)this._objects[s].render(i);this._drawClipPath(i,this.clipPath)},isCacheDirty:function(i){if(this.callSuper("isCacheDirty",i))return!0;if(!this.statefullCache)return!1;for(var s=0,a=this._objects.length;s<a;s++)if(this._objects[s].isCacheDirty(!0)){if(this._cacheCanvas){var f=this.cacheWidth/this.zoomX,d=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-f/2,-d/2,f,d)}return!0}return!1},_restoreObjectsState:function(){var i=this.calcOwnMatrix();return this._objects.forEach(function(s){o.util.addTransformToObject(s,i),delete s.group,s.setCoords()}),this},destroy:function(){return this._objects.forEach(function(i){i.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(i){i.dispose&&i.dispose()}),this._objects=[]},toActiveSelection:function(){if(this.canvas){var i=this._objects,s=this.canvas;this._objects=[];var a=this.toObject();delete a.objects;var f=new o.ActiveSelection([]);return f.set(a),f.type="activeSelection",s.remove(this),i.forEach(function(d){d.group=f,d.dirty=!0,s.add(d)}),f.canvas=s,f._objects=i,s._activeObject=f,f.setCoords(),f}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var i=!0;return this.forEachObject(function(s){s.setCoords(i)}),this},_calcBounds:function(i){for(var s=[],a=[],f,d,c,p=["tr","br","bl","tl"],y=0,_=this._objects.length,w,O=p.length;y<_;++y){for(f=this._objects[y],c=f.calcACoords(),w=0;w<O;w++)d=p[w],s.push(c[d].x),a.push(c[d].y);f.aCoords=c}this._getBounds(s,a,i)},_getBounds:function(i,s,a){var f=new o.Point(r(i),r(s)),d=new o.Point(l(i),l(s)),c=f.y||0,p=f.x||0,y=d.x-f.x||0,_=d.y-f.y||0;this.width=y,this.height=_,a||this.setPositionByOrigin({x:p,y:c},"left","top")},_toSVG:function(i){for(var s=["<g ","COMMON_PARTS",` >
`],a=0,f=this._objects.length;a<f;a++)s.push("		",this._objects[a].toSVG(i));return s.push(`</g>
`),s},getSvgStyles:function(){var i=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",s=this.visible?"":" visibility: hidden;";return[i,this.getSvgFilter(),s].join("")},toClipPathSVG:function(i){for(var s=[],a=0,f=this._objects.length;a<f;a++)s.push("	",this._objects[a].toClipPathSVG(i));return this._createBaseClipPathSVGMarkup(s,{reviver:i})}}),o.Group.fromObject=function(i,s){var a=i.objects,f=o.util.object.clone(i,!0);if(delete f.objects,typeof a=="string"){o.loadSVGFromURL(a,function(d){var c=o.util.groupSVGElements(d,i,a),p=f.clipPath;delete f.clipPath,c.set(f),p?o.util.enlivenObjects([p],function(y){c.clipPath=y[0],s&&s(c)}):s&&s(c)});return}o.util.enlivenObjects(a,function(d){o.util.enlivenObjectEnlivables(i,f,function(){s&&s(new o.Group(d,f,!0))})})})})(m),(function(g){var o=g.fabric||(g.fabric={});o.ActiveSelection||(o.ActiveSelection=o.util.createClass(o.Group,{type:"activeSelection",initialize:function(r,l){l=l||{},this._objects=r||[];for(var i=this._objects.length;i--;)this._objects[i].group=this;l.originX&&(this.originX=l.originX),l.originY&&(this.originY=l.originY),this._calcBounds(),this._updateObjectsCoords(),o.Object.prototype.initialize.call(this,l),this.setCoords()},toGroup:function(){var r=this._objects.concat();this._objects=[];var l=o.Object.prototype.toObject.call(this),i=new o.Group([]);if(delete l.type,i.set(l),r.forEach(function(a){a.canvas.remove(a),a.group=i}),i._objects=r,!this.canvas)return i;var s=this.canvas;return s.add(i),s._activeObject=i,i.setCoords(),i},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(r,l,i){r.save(),r.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,i=i||{},typeof i.hasControls>"u"&&(i.hasControls=!1),i.forActiveSelection=!0;for(var s=0,a=this._objects.length;s<a;s++)this._objects[s]._renderControls(r,i);this.callSuper("_renderControls",r,l),r.restore()}}),o.ActiveSelection.fromObject=function(r,l){o.util.enlivenObjects(r.objects,function(i){delete r.objects,l&&l(new o.ActiveSelection(i,r,!0))})})})(m),(function(g){var o=u.util.object.extend;if(g.fabric||(g.fabric={}),g.fabric.Image){u.warn("fabric.Image is already defined.");return}u.Image=u.util.createClass(u.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:u.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:u.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(r,l){l||(l={}),this.filters=[],this.cacheKey="texture"+u.Object.__uid++,this.callSuper("initialize",l),this._initElement(r,l)},getElement:function(){return this._element||{}},setElement:function(r,l){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=r,this._originalElement=r,this._initConfig(l),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(r){var l=u.filterBackend;l&&l.evictCachesForKey&&l.evictCachesForKey(r)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach((function(r){u.util.cleanUpJsdomNode(this[r]),this[r]=void 0}).bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var r=this.getElement();return{width:r.naturalWidth||r.width,height:r.naturalHeight||r.height}},_stroke:function(r){if(!(!this.stroke||this.strokeWidth===0)){var l=this.width/2,i=this.height/2;r.beginPath(),r.moveTo(-l,-i),r.lineTo(l,-i),r.lineTo(l,i),r.lineTo(-l,i),r.lineTo(-l,-i),r.closePath()}},toObject:function(r){var l=[];this.filters.forEach(function(s){s&&l.push(s.toObject())});var i=o(this.callSuper("toObject",["cropX","cropY"].concat(r)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:l});return this.resizeFilter&&(i.resizeFilter=this.resizeFilter.toObject()),i},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var r=[],l=[],i,s=this._element,a=-this.width/2,f=-this.height/2,d="",c="";if(!s)return[];if(this.hasCrop()){var p=u.Object.__uid++;r.push('<clipPath id="imageCrop_'+p+`">
`,'	<rect x="'+a+'" y="'+f+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),d=' clip-path="url(#imageCrop_'+p+')" '}if(this.imageSmoothing||(c='" image-rendering="optimizeSpeed'),l.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',a-this.cropX,'" y="',f-this.cropY,'" width="',s.width||s.naturalWidth,'" height="',s.height||s.height,c,'"',d,`></image>
`),this.stroke||this.strokeDashArray){var y=this.fill;this.fill=null,i=["	<rect ",'x="',a,'" y="',f,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=y}return this.paintFirst!=="fill"?r=r.concat(i,l):r=r.concat(l,i),r},getSrc:function(r){var l=r?this._element:this._originalElement;return l?l.toDataURL?l.toDataURL():this.srcFromAttribute?l.getAttribute("src"):l.src:this.src||""},setSrc:function(r,l,i){return u.util.loadImage(r,function(s,a){this.setElement(s,i),this._setWidthHeight(),l&&l(this,a)},this,i&&i.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var r=this.resizeFilter,l=this.minimumScaleTrigger,i=this.getTotalObjectScaling(),s=i.scaleX,a=i.scaleY,f=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!r||s>l&&a>l){this._element=f,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=s,this._lastScaleY=a;return}u.filterBackend||(u.filterBackend=u.initFilterBackend());var d=u.util.createCanvasElement(),c=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,p=f.width,y=f.height;d.width=p,d.height=y,this._element=d,this._lastScaleX=r.scaleX=s,this._lastScaleY=r.scaleY=a,u.filterBackend.applyFilters([r],f,p,y,this._element,c),this._filterScalingX=d.width/this._originalElement.width,this._filterScalingY=d.height/this._originalElement.height},applyFilters:function(r){if(r=r||this.filters||[],r=r.filter(function(f){return f&&!f.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),r.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var l=this._originalElement,i=l.naturalWidth||l.width,s=l.naturalHeight||l.height;if(this._element===this._originalElement){var a=u.util.createCanvasElement();a.width=i,a.height=s,this._element=a,this._filteredEl=a}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,i,s),this._lastScaleX=1,this._lastScaleY=1;return u.filterBackend||(u.filterBackend=u.initFilterBackend()),u.filterBackend.applyFilters(r,this._originalElement,i,s,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(r){u.util.setImageSmoothing(r,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(r),this._renderPaintInOrder(r)},drawCacheOnCanvas:function(r){u.util.setImageSmoothing(r,this.imageSmoothing),u.Object.prototype.drawCacheOnCanvas.call(this,r)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(r){var l=this._element;if(l){var i=this._filterScalingX,s=this._filterScalingY,a=this.width,f=this.height,d=Math.min,c=Math.max,p=c(this.cropX,0),y=c(this.cropY,0),_=l.naturalWidth||l.width,w=l.naturalHeight||l.height,O=p*i,M=y*s,j=d(a*i,_-O),U=d(f*s,w-M),Y=-a/2,W=-f/2,it=d(a,_/i-p),lt=d(f,w/s-y);l&&r.drawImage(l,O,M,j,U,Y,W,it,lt)}},_needsResize:function(){var r=this.getTotalObjectScaling();return r.scaleX!==this._lastScaleX||r.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(r,l){this.setElement(u.util.getById(r),l),u.util.addClass(this.getElement(),u.Image.CSS_CANVAS)},_initConfig:function(r){r||(r={}),this.setOptions(r),this._setWidthHeight(r)},_initFilters:function(r,l){r&&r.length?u.util.enlivenObjects(r,function(i){l&&l(i)},"fabric.Image.filters"):l&&l()},_setWidthHeight:function(r){r||(r={});var l=this.getElement();this.width=r.width||l.naturalWidth||l.width||0,this.height=r.height||l.naturalHeight||l.height||0},parsePreserveAspectRatioAttribute:function(){var r=u.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),l=this._element.width,i=this._element.height,s=1,a=1,f=0,d=0,c=0,p=0,y,_=this.width,w=this.height,O={width:_,height:w};return r&&(r.alignX!=="none"||r.alignY!=="none")?(r.meetOrSlice==="meet"&&(s=a=u.util.findScaleToFit(this._element,O),y=(_-l*s)/2,r.alignX==="Min"&&(f=-y),r.alignX==="Max"&&(f=y),y=(w-i*a)/2,r.alignY==="Min"&&(d=-y),r.alignY==="Max"&&(d=y)),r.meetOrSlice==="slice"&&(s=a=u.util.findScaleToCover(this._element,O),y=l-_/s,r.alignX==="Mid"&&(c=y/2),r.alignX==="Max"&&(c=y),y=i-w/a,r.alignY==="Mid"&&(p=y/2),r.alignY==="Max"&&(p=y),l=_/s,i=w/a)):(s=_/l,a=w/i),{width:l,height:i,scaleX:s,scaleY:a,offsetLeft:f,offsetTop:d,cropX:c,cropY:p}}}),u.Image.CSS_CANVAS="canvas-img",u.Image.prototype.getSvgSrc=u.Image.prototype.getSrc,u.Image.fromObject=function(r,l){var i=u.util.object.clone(r);u.util.loadImage(i.src,function(s,a){if(a){l&&l(null,!0);return}u.Image.prototype._initFilters.call(i,i.filters,function(f){i.filters=f||[],u.Image.prototype._initFilters.call(i,[i.resizeFilter],function(d){i.resizeFilter=d[0],u.util.enlivenObjectEnlivables(i,i,function(){var c=new u.Image(s,i);l(c,!1)})})})},null,i.crossOrigin)},u.Image.fromURL=function(r,l,i){u.util.loadImage(r,function(s,a){l&&l(new u.Image(s,i),a)},null,i&&i.crossOrigin)},u.Image.ATTRIBUTE_NAMES=u.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),u.Image.fromElement=function(r,l,i){var s=u.parseAttributes(r,u.Image.ATTRIBUTE_NAMES);u.Image.fromURL(s["xlink:href"],l,o(i?u.util.object.clone(i):{},s))}})(m),u.util.object.extend(u.Object.prototype,{_getAngleValueForStraighten:function(){var g=this.angle%360;return g>0?Math.round((g-1)/90)*90:Math.round(g/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(g){g=g||{};var o=function(){},r=g.onComplete||o,l=g.onChange||o,i=this;return u.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(s){i.rotate(s),l()},onComplete:function(){i.setCoords(),r()}})}}),u.util.object.extend(u.StaticCanvas.prototype,{straightenObject:function(g){return g.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(g){return g.fxStraighten({onChange:this.requestRenderAllBound})}}),(function(){function g(r,l){var i="precision "+l+` float;
void main(){}`,s=r.createShader(r.FRAGMENT_SHADER);return r.shaderSource(s,i),r.compileShader(s),!!r.getShaderParameter(s,r.COMPILE_STATUS)}u.isWebglSupported=function(r){if(u.isLikelyNode)return!1;r=r||u.WebglFilterBackend.prototype.tileSize;var l=document.createElement("canvas"),i=l.getContext("webgl")||l.getContext("experimental-webgl"),s=!1;if(i){u.maxTextureSize=i.getParameter(i.MAX_TEXTURE_SIZE),s=u.maxTextureSize>=r;for(var a=["highp","mediump","lowp"],f=0;f<3;f++)if(g(i,a[f])){u.webGlPrecision=a[f];break}}return this.isSupported=s,s},u.WebglFilterBackend=o;function o(r){r&&r.tileSize&&(this.tileSize=r.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}o.prototype={tileSize:2048,resources:{},setupGLContext:function(r,l){this.dispose(),this.createWebGLCanvas(r,l),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(r,l)},chooseFastestCopyGLTo2DMethod:function(r,l){var i=typeof window.performance<"u",s;try{new ImageData(1,1),s=!0}catch{s=!1}var a=typeof ArrayBuffer<"u",f=typeof Uint8ClampedArray<"u";if(i&&s&&a&&f){var d=u.util.createCanvasElement(),c=new ArrayBuffer(r*l*4);if(u.forceGLPutImageData){this.imageBuffer=c,this.copyGLTo2D=R;return}var p={imageBuffer:c,destinationWidth:r,destinationHeight:l,targetCanvas:d},y,_,w;d.width=r,d.height=l,y=window.performance.now(),T.call(p,this.gl,p),_=window.performance.now()-y,y=window.performance.now(),R.call(p,this.gl,p),w=window.performance.now()-y,_>w?(this.imageBuffer=c,this.copyGLTo2D=R):this.copyGLTo2D=T}},createWebGLCanvas:function(r,l){var i=u.util.createCanvasElement();i.width=r,i.height=l;var s={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},a=i.getContext("webgl",s);a||(a=i.getContext("experimental-webgl",s)),a&&(a.clearColor(0,0,0,0),this.canvas=i,this.gl=a)},applyFilters:function(r,l,i,s,a,f){var d=this.gl,c;f&&(c=this.getCachedTexture(f,l));var p={originalWidth:l.width||l.originalWidth,originalHeight:l.height||l.originalHeight,sourceWidth:i,sourceHeight:s,destinationWidth:i,destinationHeight:s,context:d,sourceTexture:this.createTexture(d,i,s,!c&&l),targetTexture:this.createTexture(d,i,s),originalTexture:c||this.createTexture(d,i,s,!c&&l),passes:r.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:a},y=d.createFramebuffer();return d.bindFramebuffer(d.FRAMEBUFFER,y),r.forEach(function(_){_&&_.applyTo(p)}),x(p),this.copyGLTo2D(d,p),d.bindTexture(d.TEXTURE_2D,null),d.deleteTexture(p.sourceTexture),d.deleteTexture(p.targetTexture),d.deleteFramebuffer(y),a.getContext("2d").setTransform(1,0,0,1,0,0),p},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(r,l,i,s,a){var f=r.createTexture();return r.bindTexture(r.TEXTURE_2D,f),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,a||r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,a||r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),s?r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,s):r.texImage2D(r.TEXTURE_2D,0,r.RGBA,l,i,0,r.RGBA,r.UNSIGNED_BYTE,null),f},getCachedTexture:function(r,l){if(this.textureCache[r])return this.textureCache[r];var i=this.createTexture(this.gl,l.width,l.height,l);return this.textureCache[r]=i,i},evictCachesForKey:function(r){this.textureCache[r]&&(this.gl.deleteTexture(this.textureCache[r]),delete this.textureCache[r])},copyGLTo2D:T,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var r=this.gl,l={renderer:"",vendor:""};if(!r)return l;var i=r.getExtension("WEBGL_debug_renderer_info");if(i){var s=r.getParameter(i.UNMASKED_RENDERER_WEBGL),a=r.getParameter(i.UNMASKED_VENDOR_WEBGL);s&&(l.renderer=s.toLowerCase()),a&&(l.vendor=a.toLowerCase())}return this.gpuInfo=l,l}}})();function x(g){var o=g.targetCanvas,r=o.width,l=o.height,i=g.destinationWidth,s=g.destinationHeight;(r!==i||l!==s)&&(o.width=i,o.height=s)}function T(g,o){var r=g.canvas,l=o.targetCanvas,i=l.getContext("2d");i.translate(0,l.height),i.scale(1,-1);var s=r.height-l.height;i.drawImage(r,0,s,l.width,l.height,0,0,l.width,l.height)}function R(g,o){var r=o.targetCanvas,l=r.getContext("2d"),i=o.destinationWidth,s=o.destinationHeight,a=i*s*4,f=new Uint8Array(this.imageBuffer,0,a),d=new Uint8ClampedArray(this.imageBuffer,0,a);g.readPixels(0,0,i,s,g.RGBA,g.UNSIGNED_BYTE,f);var c=new ImageData(d,i,s);l.putImageData(c,0,0)}(function(){var g=function(){};u.Canvas2dFilterBackend=o;function o(){}o.prototype={evictCachesForKey:g,dispose:g,clearWebGLCaches:g,resources:{},applyFilters:function(r,l,i,s,a){var f=a.getContext("2d");f.drawImage(l,0,0,i,s);var d=f.getImageData(0,0,i,s),c=f.getImageData(0,0,i,s),p={sourceWidth:i,sourceHeight:s,imageData:d,originalEl:l,originalImageData:c,canvasEl:a,ctx:f,filterBackend:this};return r.forEach(function(y){y.applyTo(p)}),(p.imageData.width!==i||p.imageData.height!==s)&&(a.width=p.imageData.width,a.height=p.imageData.height),f.putImageData(p.imageData,0,0),p}}})(),u.Image=u.Image||{},u.Image.filters=u.Image.filters||{},u.Image.filters.BaseFilter=u.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(g){g&&this.setOptions(g)},setOptions:function(g){for(var o in g)this[o]=g[o]},createProgram:function(g,o,r){o=o||this.fragmentSource,r=r||this.vertexSource,u.webGlPrecision!=="highp"&&(o=o.replace(/precision highp float/g,"precision "+u.webGlPrecision+" float"));var l=g.createShader(g.VERTEX_SHADER);if(g.shaderSource(l,r),g.compileShader(l),!g.getShaderParameter(l,g.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+g.getShaderInfoLog(l));var i=g.createShader(g.FRAGMENT_SHADER);if(g.shaderSource(i,o),g.compileShader(i),!g.getShaderParameter(i,g.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+g.getShaderInfoLog(i));var s=g.createProgram();if(g.attachShader(s,l),g.attachShader(s,i),g.linkProgram(s),!g.getProgramParameter(s,g.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+g.getProgramInfoLog(s));var a=this.getAttributeLocations(g,s),f=this.getUniformLocations(g,s)||{};return f.uStepW=g.getUniformLocation(s,"uStepW"),f.uStepH=g.getUniformLocation(s,"uStepH"),{program:s,attributeLocations:a,uniformLocations:f}},getAttributeLocations:function(g,o){return{aPosition:g.getAttribLocation(o,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(g,o,r){var l=o.aPosition,i=g.createBuffer();g.bindBuffer(g.ARRAY_BUFFER,i),g.enableVertexAttribArray(l),g.vertexAttribPointer(l,2,g.FLOAT,!1,0,0),g.bufferData(g.ARRAY_BUFFER,r,g.STATIC_DRAW)},_setupFrameBuffer:function(g){var o=g.context,r,l;g.passes>1?(r=g.destinationWidth,l=g.destinationHeight,(g.sourceWidth!==r||g.sourceHeight!==l)&&(o.deleteTexture(g.targetTexture),g.targetTexture=g.filterBackend.createTexture(o,r,l)),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,g.targetTexture,0)):(o.bindFramebuffer(o.FRAMEBUFFER,null),o.finish())},_swapTextures:function(g){g.passes--,g.pass++;var o=g.targetTexture;g.targetTexture=g.sourceTexture,g.sourceTexture=o},isNeutralState:function(){var g=this.mainParameter,o=u.Image.filters[this.type].prototype;if(g)if(Array.isArray(o[g])){for(var r=o[g].length;r--;)if(this[g][r]!==o[g][r])return!1;return!0}else return o[g]===this[g];else return!1},applyTo:function(g){g.webgl?(this._setupFrameBuffer(g),this.applyToWebGL(g),this._swapTextures(g)):this.applyTo2d(g)},retrieveShader:function(g){return g.programCache.hasOwnProperty(this.type)||(g.programCache[this.type]=this.createProgram(g.context)),g.programCache[this.type]},applyToWebGL:function(g){var o=g.context,r=this.retrieveShader(g);g.pass===0&&g.originalTexture?o.bindTexture(o.TEXTURE_2D,g.originalTexture):o.bindTexture(o.TEXTURE_2D,g.sourceTexture),o.useProgram(r.program),this.sendAttributeData(o,r.attributeLocations,g.aPosition),o.uniform1f(r.uniformLocations.uStepW,1/g.sourceWidth),o.uniform1f(r.uniformLocations.uStepH,1/g.sourceHeight),this.sendUniformData(o,r.uniformLocations),o.viewport(0,0,g.destinationWidth,g.destinationHeight),o.drawArrays(o.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(g,o,r){g.activeTexture(r),g.bindTexture(g.TEXTURE_2D,o),g.activeTexture(g.TEXTURE0)},unbindAdditionalTexture:function(g,o){g.activeTexture(o),g.bindTexture(g.TEXTURE_2D,null),g.activeTexture(g.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(g){this[this.mainParameter]=g},sendUniformData:function(){},createHelpLayer:function(g){if(!g.helpLayer){var o=document.createElement("canvas");o.width=g.sourceWidth,o.height=g.sourceHeight,g.helpLayer=o}},toObject:function(){var g={type:this.type},o=this.mainParameter;return o&&(g[o]=this[o]),g},toJSON:function(){return this.toObject()}}),u.Image.filters.BaseFilter.fromObject=function(g,o){var r=new u.Image.filters[g.type](g);return o&&o(r),r},(function(g){var o=g.fabric||(g.fabric={}),r=o.Image.filters,l=o.util.createClass;r.ColorMatrix=l(r.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(i){this.callSuper("initialize",i),this.matrix=this.matrix.slice(0)},applyTo2d:function(i){var s=i.imageData,a=s.data,f=a.length,d=this.matrix,c,p,y,_,w,O=this.colorsOnly;for(w=0;w<f;w+=4)c=a[w],p=a[w+1],y=a[w+2],O?(a[w]=c*d[0]+p*d[1]+y*d[2]+d[4]*255,a[w+1]=c*d[5]+p*d[6]+y*d[7]+d[9]*255,a[w+2]=c*d[10]+p*d[11]+y*d[12]+d[14]*255):(_=a[w+3],a[w]=c*d[0]+p*d[1]+y*d[2]+_*d[3]+d[4]*255,a[w+1]=c*d[5]+p*d[6]+y*d[7]+_*d[8]+d[9]*255,a[w+2]=c*d[10]+p*d[11]+y*d[12]+_*d[13]+d[14]*255,a[w+3]=c*d[15]+p*d[16]+y*d[17]+_*d[18]+d[19]*255)},getUniformLocations:function(i,s){return{uColorMatrix:i.getUniformLocation(s,"uColorMatrix"),uConstants:i.getUniformLocation(s,"uConstants")}},sendUniformData:function(i,s){var a=this.matrix,f=[a[0],a[1],a[2],a[3],a[5],a[6],a[7],a[8],a[10],a[11],a[12],a[13],a[15],a[16],a[17],a[18]],d=[a[4],a[9],a[14],a[19]];i.uniformMatrix4fv(s.uColorMatrix,!1,f),i.uniform4fv(s.uConstants,d)}}),o.Image.filters.ColorMatrix.fromObject=o.Image.filters.BaseFilter.fromObject})(m),(function(g){var o=g.fabric||(g.fabric={}),r=o.Image.filters,l=o.util.createClass;r.Brightness=l(r.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(i){if(this.brightness!==0){var s=i.imageData,a=s.data,f,d=a.length,c=Math.round(this.brightness*255);for(f=0;f<d;f+=4)a[f]=a[f]+c,a[f+1]=a[f+1]+c,a[f+2]=a[f+2]+c}},getUniformLocations:function(i,s){return{uBrightness:i.getUniformLocation(s,"uBrightness")}},sendUniformData:function(i,s){i.uniform1f(s.uBrightness,this.brightness)}}),o.Image.filters.Brightness.fromObject=o.Image.filters.BaseFilter.fromObject})(m),(function(g){var o=g.fabric||(g.fabric={}),r=o.util.object.extend,l=o.Image.filters,i=o.util.createClass;l.Convolute=i(l.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(s){var a=Math.sqrt(this.matrix.length),f=this.type+"_"+a+"_"+(this.opaque?1:0),d=this.fragmentSource[f];return s.programCache.hasOwnProperty(f)||(s.programCache[f]=this.createProgram(s.context,d)),s.programCache[f]},applyTo2d:function(s){var a=s.imageData,f=a.data,d=this.matrix,c=Math.round(Math.sqrt(d.length)),p=Math.floor(c/2),y=a.width,_=a.height,w=s.ctx.createImageData(y,_),O=w.data,M=this.opaque?1:0,j,U,Y,W,it,lt,gt,ut,ft,G,et,yt,B;for(et=0;et<_;et++)for(G=0;G<y;G++){for(it=(et*y+G)*4,j=0,U=0,Y=0,W=0,B=0;B<c;B++)for(yt=0;yt<c;yt++)gt=et+B-p,lt=G+yt-p,!(gt<0||gt>=_||lt<0||lt>=y)&&(ut=(gt*y+lt)*4,ft=d[B*c+yt],j+=f[ut]*ft,U+=f[ut+1]*ft,Y+=f[ut+2]*ft,M||(W+=f[ut+3]*ft));O[it]=j,O[it+1]=U,O[it+2]=Y,M?O[it+3]=f[it+3]:O[it+3]=W}s.imageData=w},getUniformLocations:function(s,a){return{uMatrix:s.getUniformLocation(a,"uMatrix"),uOpaque:s.getUniformLocation(a,"uOpaque"),uHalfSize:s.getUniformLocation(a,"uHalfSize"),uSize:s.getUniformLocation(a,"uSize")}},sendUniformData:function(s,a){s.uniform1fv(a.uMatrix,this.matrix)},toObject:function(){return r(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),o.Image.filters.Convolute.fromObject=o.Image.filters.BaseFilter.fromObject})(m),(function(g){var o=g.fabric||(g.fabric={}),r=o.Image.filters,l=o.util.createClass;r.Grayscale=l(r.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(i){var s=i.imageData,a=s.data,f,d=a.length,c,p=this.mode;for(f=0;f<d;f+=4)p==="average"?c=(a[f]+a[f+1]+a[f+2])/3:p==="lightness"?c=(Math.min(a[f],a[f+1],a[f+2])+Math.max(a[f],a[f+1],a[f+2]))/2:p==="luminosity"&&(c=.21*a[f]+.72*a[f+1]+.07*a[f+2]),a[f]=c,a[f+1]=c,a[f+2]=c},retrieveShader:function(i){var s=this.type+"_"+this.mode;if(!i.programCache.hasOwnProperty(s)){var a=this.fragmentSource[this.mode];i.programCache[s]=this.createProgram(i.context,a)}return i.programCache[s]},getUniformLocations:function(i,s){return{uMode:i.getUniformLocation(s,"uMode")}},sendUniformData:function(i,s){var a=1;i.uniform1i(s.uMode,a)},isNeutralState:function(){return!1}}),o.Image.filters.Grayscale.fromObject=o.Image.filters.BaseFilter.fromObject})(m),(function(g){var o=g.fabric||(g.fabric={}),r=o.Image.filters,l=o.util.createClass;r.Invert=l(r.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(i){var s=i.imageData,a=s.data,f,d=a.length;for(f=0;f<d;f+=4)a[f]=255-a[f],a[f+1]=255-a[f+1],a[f+2]=255-a[f+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(i,s){return{uInvert:i.getUniformLocation(s,"uInvert")}},sendUniformData:function(i,s){i.uniform1i(s.uInvert,this.invert)}}),o.Image.filters.Invert.fromObject=o.Image.filters.BaseFilter.fromObject})(m),(function(g){var o=g.fabric||(g.fabric={}),r=o.util.object.extend,l=o.Image.filters,i=o.util.createClass;l.Noise=i(l.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(s){if(this.noise!==0){var a=s.imageData,f=a.data,d,c=f.length,p=this.noise,y;for(d=0,c=f.length;d<c;d+=4)y=(.5-Math.random())*p,f[d]+=y,f[d+1]+=y,f[d+2]+=y}},getUniformLocations:function(s,a){return{uNoise:s.getUniformLocation(a,"uNoise"),uSeed:s.getUniformLocation(a,"uSeed")}},sendUniformData:function(s,a){s.uniform1f(a.uNoise,this.noise/255),s.uniform1f(a.uSeed,Math.random())},toObject:function(){return r(this.callSuper("toObject"),{noise:this.noise})}}),o.Image.filters.Noise.fromObject=o.Image.filters.BaseFilter.fromObject})(m),(function(g){var o=g.fabric||(g.fabric={}),r=o.Image.filters,l=o.util.createClass;r.Pixelate=l(r.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(i){var s=i.imageData,a=s.data,f=s.height,d=s.width,c,p,y,_,w,O,M,j,U,Y,W;for(p=0;p<f;p+=this.blocksize)for(y=0;y<d;y+=this.blocksize)for(c=p*4*d+y*4,_=a[c],w=a[c+1],O=a[c+2],M=a[c+3],Y=Math.min(p+this.blocksize,f),W=Math.min(y+this.blocksize,d),j=p;j<Y;j++)for(U=y;U<W;U++)c=j*4*d+U*4,a[c]=_,a[c+1]=w,a[c+2]=O,a[c+3]=M},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(i,s){return{uBlocksize:i.getUniformLocation(s,"uBlocksize"),uStepW:i.getUniformLocation(s,"uStepW"),uStepH:i.getUniformLocation(s,"uStepH")}},sendUniformData:function(i,s){i.uniform1f(s.uBlocksize,this.blocksize)}}),o.Image.filters.Pixelate.fromObject=o.Image.filters.BaseFilter.fromObject})(m),(function(g){var o=g.fabric||(g.fabric={}),r=o.util.object.extend,l=o.Image.filters,i=o.util.createClass;l.RemoveColor=i(l.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(s){var a=s.imageData,f=a.data,d,c=this.distance*255,p,y,_,w=new o.Color(this.color).getSource(),O=[w[0]-c,w[1]-c,w[2]-c],M=[w[0]+c,w[1]+c,w[2]+c];for(d=0;d<f.length;d+=4)p=f[d],y=f[d+1],_=f[d+2],p>O[0]&&y>O[1]&&_>O[2]&&p<M[0]&&y<M[1]&&_<M[2]&&(f[d+3]=0)},getUniformLocations:function(s,a){return{uLow:s.getUniformLocation(a,"uLow"),uHigh:s.getUniformLocation(a,"uHigh")}},sendUniformData:function(s,a){var f=new o.Color(this.color).getSource(),d=parseFloat(this.distance),c=[0+f[0]/255-d,0+f[1]/255-d,0+f[2]/255-d,1],p=[f[0]/255+d,f[1]/255+d,f[2]/255+d,1];s.uniform4fv(a.uLow,c),s.uniform4fv(a.uHigh,p)},toObject:function(){return r(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),o.Image.filters.RemoveColor.fromObject=o.Image.filters.BaseFilter.fromObject})(m),(function(g){var o=g.fabric||(g.fabric={}),r=o.Image.filters,l=o.util.createClass,i={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var s in i)r[s]=l(r.ColorMatrix,{type:s,matrix:i[s],mainParameter:!1,colorsOnly:!0}),o.Image.filters[s].fromObject=o.Image.filters.BaseFilter.fromObject})(m),(function(g){var o=g.fabric,r=o.Image.filters,l=o.util.createClass;r.BlendColor=l(r.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(i){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[i]+`}
}`},retrieveShader:function(i){var s=this.type+"_"+this.mode,a;return i.programCache.hasOwnProperty(s)||(a=this.buildSource(this.mode),i.programCache[s]=this.createProgram(i.context,a)),i.programCache[s]},applyTo2d:function(i){var s=i.imageData,a=s.data,f=a.length,d,c,p,y,_,w,O,M=1-this.alpha;O=new o.Color(this.color).getSource(),d=O[0]*this.alpha,c=O[1]*this.alpha,p=O[2]*this.alpha;for(var j=0;j<f;j+=4)switch(y=a[j],_=a[j+1],w=a[j+2],this.mode){case"multiply":a[j]=y*d/255,a[j+1]=_*c/255,a[j+2]=w*p/255;break;case"screen":a[j]=255-(255-y)*(255-d)/255,a[j+1]=255-(255-_)*(255-c)/255,a[j+2]=255-(255-w)*(255-p)/255;break;case"add":a[j]=y+d,a[j+1]=_+c,a[j+2]=w+p;break;case"diff":case"difference":a[j]=Math.abs(y-d),a[j+1]=Math.abs(_-c),a[j+2]=Math.abs(w-p);break;case"subtract":a[j]=y-d,a[j+1]=_-c,a[j+2]=w-p;break;case"darken":a[j]=Math.min(y,d),a[j+1]=Math.min(_,c),a[j+2]=Math.min(w,p);break;case"lighten":a[j]=Math.max(y,d),a[j+1]=Math.max(_,c),a[j+2]=Math.max(w,p);break;case"overlay":a[j]=d<128?2*y*d/255:255-2*(255-y)*(255-d)/255,a[j+1]=c<128?2*_*c/255:255-2*(255-_)*(255-c)/255,a[j+2]=p<128?2*w*p/255:255-2*(255-w)*(255-p)/255;break;case"exclusion":a[j]=d+y-2*d*y/255,a[j+1]=c+_-2*c*_/255,a[j+2]=p+w-2*p*w/255;break;case"tint":a[j]=d+y*M,a[j+1]=c+_*M,a[j+2]=p+w*M}},getUniformLocations:function(i,s){return{uColor:i.getUniformLocation(s,"uColor")}},sendUniformData:function(i,s){var a=new o.Color(this.color).getSource();a[0]=this.alpha*a[0]/255,a[1]=this.alpha*a[1]/255,a[2]=this.alpha*a[2]/255,a[3]=this.alpha,i.uniform4fv(s.uColor,a)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),o.Image.filters.BlendColor.fromObject=o.Image.filters.BaseFilter.fromObject})(m),(function(g){var o=g.fabric,r=o.Image.filters,l=o.util.createClass;r.BlendImage=l(r.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(i){var s=this.type+"_"+this.mode,a=this.fragmentSource[this.mode];return i.programCache.hasOwnProperty(s)||(i.programCache[s]=this.createProgram(i.context,a)),i.programCache[s]},applyToWebGL:function(i){var s=i.context,a=this.createTexture(i.filterBackend,this.image);this.bindAdditionalTexture(s,a,s.TEXTURE1),this.callSuper("applyToWebGL",i),this.unbindAdditionalTexture(s,s.TEXTURE1)},createTexture:function(i,s){return i.getCachedTexture(s.cacheKey,s._element)},calculateMatrix:function(){var i=this.image,s=i._element.width,a=i._element.height;return[1/i.scaleX,0,0,0,1/i.scaleY,0,-i.left/s,-i.top/a,1]},applyTo2d:function(i){var s=i.imageData,a=i.filterBackend.resources,f=s.data,d=f.length,c=s.width,p=s.height,y,_,w,O,M,j,U,Y,W,it,lt=this.image,gt;a.blendImage||(a.blendImage=o.util.createCanvasElement()),W=a.blendImage,it=W.getContext("2d"),W.width!==c||W.height!==p?(W.width=c,W.height=p):it.clearRect(0,0,c,p),it.setTransform(lt.scaleX,0,0,lt.scaleY,lt.left,lt.top),it.drawImage(lt._element,0,0,c,p),gt=it.getImageData(0,0,c,p).data;for(var ut=0;ut<d;ut+=4)switch(M=f[ut],j=f[ut+1],U=f[ut+2],Y=f[ut+3],y=gt[ut],_=gt[ut+1],w=gt[ut+2],O=gt[ut+3],this.mode){case"multiply":f[ut]=M*y/255,f[ut+1]=j*_/255,f[ut+2]=U*w/255,f[ut+3]=Y*O/255;break;case"mask":f[ut+3]=O;break}},getUniformLocations:function(i,s){return{uTransformMatrix:i.getUniformLocation(s,"uTransformMatrix"),uImage:i.getUniformLocation(s,"uImage")}},sendUniformData:function(i,s){var a=this.calculateMatrix();i.uniform1i(s.uImage,1),i.uniformMatrix3fv(s.uTransformMatrix,!1,a)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),o.Image.filters.BlendImage.fromObject=function(i,s){o.Image.fromObject(i.image,function(a){var f=o.util.object.clone(i);f.image=a,s(new o.Image.filters.BlendImage(f))})}})(m),(function(g){var o=g.fabric||(g.fabric={}),r=Math.pow,l=Math.floor,i=Math.sqrt,s=Math.abs,a=Math.round,f=Math.sin,d=Math.ceil,c=o.Image.filters,p=o.util.createClass;c.Resize=p(c.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(y,_){return{uDelta:y.getUniformLocation(_,"uDelta"),uTaps:y.getUniformLocation(_,"uTaps")}},sendUniformData:function(y,_){y.uniform2fv(_.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),y.uniform1fv(_.uTaps,this.taps)},retrieveShader:function(y){var _=this.getFilterWindow(),w=this.type+"_"+_;if(!y.programCache.hasOwnProperty(w)){var O=this.generateShader(_);y.programCache[w]=this.createProgram(y.context,O)}return y.programCache[w]},getFilterWindow:function(){var y=this.tempScale;return Math.ceil(this.lanczosLobes/y)},getTaps:function(){for(var y=this.lanczosCreate(this.lanczosLobes),_=this.tempScale,w=this.getFilterWindow(),O=new Array(w),M=1;M<=w;M++)O[M-1]=y(M*_);return O},generateShader:function(O){for(var _=new Array(O),w=this.fragmentSourceTOP,O,M=1;M<=O;M++)_[M-1]=M+".0 * uDelta";return w+="uniform float uTaps["+O+`];
`,w+=`void main() {
`,w+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,w+=`  float sum = 1.0;
`,_.forEach(function(j,U){w+="  color += texture2D(uTexture, vTexCoord + "+j+") * uTaps["+U+`];
`,w+="  color += texture2D(uTexture, vTexCoord - "+j+") * uTaps["+U+`];
`,w+="  sum += 2.0 * uTaps["+U+`];
`}),w+=`  gl_FragColor = color / sum;
`,w+="}",w},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(y){y.webgl?(y.passes++,this.width=y.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=y.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),y.destinationWidth=this.dW,this._setupFrameBuffer(y),this.applyToWebGL(y),this._swapTextures(y),y.sourceWidth=y.destinationWidth,this.height=y.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),y.destinationHeight=this.dH,this._setupFrameBuffer(y),this.applyToWebGL(y),this._swapTextures(y),y.sourceHeight=y.destinationHeight):this.applyTo2d(y)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(y){return function(_){if(_>=y||_<=-y)return 0;if(_<11920929e-14&&_>-11920929e-14)return 1;_*=Math.PI;var w=_/y;return f(_)/_*f(w)/w}},applyTo2d:function(y){var _=y.imageData,w=this.scaleX,O=this.scaleY;this.rcpScaleX=1/w,this.rcpScaleY=1/O;var M=_.width,j=_.height,U=a(M*w),Y=a(j*O),W;this.resizeType==="sliceHack"?W=this.sliceByTwo(y,M,j,U,Y):this.resizeType==="hermite"?W=this.hermiteFastResize(y,M,j,U,Y):this.resizeType==="bilinear"?W=this.bilinearFiltering(y,M,j,U,Y):this.resizeType==="lanczos"&&(W=this.lanczosResize(y,M,j,U,Y)),y.imageData=W},sliceByTwo:function(y,_,w,O,M){var j=y.imageData,U=.5,Y=!1,W=!1,it=_*U,lt=w*U,gt=o.filterBackend.resources,ut,ft,G=0,et=0,yt=_,B=0;for(gt.sliceByTwo||(gt.sliceByTwo=document.createElement("canvas")),ut=gt.sliceByTwo,(ut.width<_*1.5||ut.height<w)&&(ut.width=_*1.5,ut.height=w),ft=ut.getContext("2d"),ft.clearRect(0,0,_*1.5,w),ft.putImageData(j,0,0),O=l(O),M=l(M);!Y||!W;)_=it,w=lt,O<l(it*U)?it=l(it*U):(it=O,Y=!0),M<l(lt*U)?lt=l(lt*U):(lt=M,W=!0),ft.drawImage(ut,G,et,_,w,yt,B,it,lt),G=yt,et=B,B+=lt;return ft.getImageData(G,et,O,M)},lanczosResize:function(y,_,w,O,M){function j(E){var k,N,F,L,z,X,I,q,J,ht,_t;for(B.x=(E+.5)*lt,A.x=l(B.x),k=0;k<M;k++){for(B.y=(k+.5)*gt,A.y=l(B.y),z=0,X=0,I=0,q=0,J=0,N=A.x-G;N<=A.x+G;N++)if(!(N<0||N>=_)){ht=l(1e3*s(N-B.x)),yt[ht]||(yt[ht]={});for(var at=A.y-et;at<=A.y+et;at++)at<0||at>=w||(_t=l(1e3*s(at-B.y)),yt[ht][_t]||(yt[ht][_t]=it(i(r(ht*ut,2)+r(_t*ft,2))/1e3)),F=yt[ht][_t],F>0&&(L=(at*_+N)*4,z+=F,X+=F*U[L],I+=F*U[L+1],q+=F*U[L+2],J+=F*U[L+3]))}L=(k*O+E)*4,W[L]=X/z,W[L+1]=I/z,W[L+2]=q/z,W[L+3]=J/z}return++E<O?j(E):Y}var U=y.imageData.data,Y=y.ctx.createImageData(O,M),W=Y.data,it=this.lanczosCreate(this.lanczosLobes),lt=this.rcpScaleX,gt=this.rcpScaleY,ut=2/this.rcpScaleX,ft=2/this.rcpScaleY,G=d(lt*this.lanczosLobes/2),et=d(gt*this.lanczosLobes/2),yt={},B={},A={};return j(0)},bilinearFiltering:function(y,_,w,O,M){var j,U,Y,W,it,lt,gt,ut,ft,G,et,yt,B=0,A,E=this.rcpScaleX,k=this.rcpScaleY,N=4*(_-1),F=y.imageData,L=F.data,z=y.ctx.createImageData(O,M),X=z.data;for(gt=0;gt<M;gt++)for(ut=0;ut<O;ut++)for(it=l(E*ut),lt=l(k*gt),ft=E*ut-it,G=k*gt-lt,A=4*(lt*_+it),et=0;et<4;et++)j=L[A+et],U=L[A+4+et],Y=L[A+N+et],W=L[A+N+4+et],yt=j*(1-ft)*(1-G)+U*ft*(1-G)+Y*G*(1-ft)+W*ft*G,X[B++]=yt;return z},hermiteFastResize:function(y,_,w,O,M){for(var j=this.rcpScaleX,U=this.rcpScaleY,Y=d(j/2),W=d(U/2),it=y.imageData,lt=it.data,gt=y.ctx.createImageData(O,M),ut=gt.data,ft=0;ft<M;ft++)for(var G=0;G<O;G++){for(var et=(G+ft*O)*4,yt=0,B=0,A=0,E=0,k=0,N=0,F=0,L=(ft+.5)*U,z=l(ft*U);z<(ft+1)*U;z++)for(var X=s(L-(z+.5))/W,I=(G+.5)*j,q=X*X,J=l(G*j);J<(G+1)*j;J++){var ht=s(I-(J+.5))/Y,_t=i(q+ht*ht);_t>1&&_t<-1||(yt=2*_t*_t*_t-3*_t*_t+1,yt>0&&(ht=4*(J+z*_),F+=yt*lt[ht+3],A+=yt,lt[ht+3]<255&&(yt=yt*lt[ht+3]/250),E+=yt*lt[ht],k+=yt*lt[ht+1],N+=yt*lt[ht+2],B+=yt))}ut[et]=E/B,ut[et+1]=k/B,ut[et+2]=N/B,ut[et+3]=F/A}return gt},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),o.Image.filters.Resize.fromObject=o.Image.filters.BaseFilter.fromObject})(m),(function(g){var o=g.fabric||(g.fabric={}),r=o.Image.filters,l=o.util.createClass;r.Contrast=l(r.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(i){if(this.contrast!==0){var s=i.imageData,a,d,f=s.data,d=f.length,c=Math.floor(this.contrast*255),p=259*(c+255)/(255*(259-c));for(a=0;a<d;a+=4)f[a]=p*(f[a]-128)+128,f[a+1]=p*(f[a+1]-128)+128,f[a+2]=p*(f[a+2]-128)+128}},getUniformLocations:function(i,s){return{uContrast:i.getUniformLocation(s,"uContrast")}},sendUniformData:function(i,s){i.uniform1f(s.uContrast,this.contrast)}}),o.Image.filters.Contrast.fromObject=o.Image.filters.BaseFilter.fromObject})(m),(function(g){var o=g.fabric||(g.fabric={}),r=o.Image.filters,l=o.util.createClass;r.Saturation=l(r.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(i){if(this.saturation!==0){var s=i.imageData,a=s.data,f=a.length,d=-this.saturation,c,p;for(c=0;c<f;c+=4)p=Math.max(a[c],a[c+1],a[c+2]),a[c]+=p!==a[c]?(p-a[c])*d:0,a[c+1]+=p!==a[c+1]?(p-a[c+1])*d:0,a[c+2]+=p!==a[c+2]?(p-a[c+2])*d:0}},getUniformLocations:function(i,s){return{uSaturation:i.getUniformLocation(s,"uSaturation")}},sendUniformData:function(i,s){i.uniform1f(s.uSaturation,-this.saturation)}}),o.Image.filters.Saturation.fromObject=o.Image.filters.BaseFilter.fromObject})(m),(function(g){var o=g.fabric||(g.fabric={}),r=o.Image.filters,l=o.util.createClass;r.Vibrance=l(r.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(i){if(this.vibrance!==0){var s=i.imageData,a=s.data,f=a.length,d=-this.vibrance,c,p,y,_;for(c=0;c<f;c+=4)p=Math.max(a[c],a[c+1],a[c+2]),y=(a[c]+a[c+1]+a[c+2])/3,_=Math.abs(p-y)*2/255*d,a[c]+=p!==a[c]?(p-a[c])*_:0,a[c+1]+=p!==a[c+1]?(p-a[c+1])*_:0,a[c+2]+=p!==a[c+2]?(p-a[c+2])*_:0}},getUniformLocations:function(i,s){return{uVibrance:i.getUniformLocation(s,"uVibrance")}},sendUniformData:function(i,s){i.uniform1f(s.uVibrance,-this.vibrance)}}),o.Image.filters.Vibrance.fromObject=o.Image.filters.BaseFilter.fromObject})(m),(function(g){var o=g.fabric||(g.fabric={}),r=o.Image.filters,l=o.util.createClass;r.Blur=l(r.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(i){i.webgl?(this.aspectRatio=i.sourceWidth/i.sourceHeight,i.passes++,this._setupFrameBuffer(i),this.horizontal=!0,this.applyToWebGL(i),this._swapTextures(i),this._setupFrameBuffer(i),this.horizontal=!1,this.applyToWebGL(i),this._swapTextures(i)):this.applyTo2d(i)},applyTo2d:function(i){i.imageData=this.simpleBlur(i)},simpleBlur:function(i){var s=i.filterBackend.resources,a,f,d=i.imageData.width,c=i.imageData.height;s.blurLayer1||(s.blurLayer1=o.util.createCanvasElement(),s.blurLayer2=o.util.createCanvasElement()),a=s.blurLayer1,f=s.blurLayer2,(a.width!==d||a.height!==c)&&(f.width=a.width=d,f.height=a.height=c);var p=a.getContext("2d"),y=f.getContext("2d"),_=15,w,O,M,j,U=this.blur*.06*.5;for(p.putImageData(i.imageData,0,0),y.clearRect(0,0,d,c),j=-_;j<=_;j++)w=(Math.random()-.5)/4,O=j/_,M=U*O*d+w,y.globalAlpha=1-Math.abs(O),y.drawImage(a,M,w),p.drawImage(f,0,0),y.globalAlpha=1,y.clearRect(0,0,f.width,f.height);for(j=-_;j<=_;j++)w=(Math.random()-.5)/4,O=j/_,M=U*O*c+w,y.globalAlpha=1-Math.abs(O),y.drawImage(a,w,M),p.drawImage(f,0,0),y.globalAlpha=1,y.clearRect(0,0,f.width,f.height);i.ctx.drawImage(a,0,0);var Y=i.ctx.getImageData(0,0,a.width,a.height);return p.globalAlpha=1,p.clearRect(0,0,a.width,a.height),Y},getUniformLocations:function(i,s){return{delta:i.getUniformLocation(s,"uDelta")}},sendUniformData:function(i,s){var a=this.chooseRightDelta();i.uniform2fv(s.delta,a)},chooseRightDelta:function(){var i=1,s=[0,0],a;return this.horizontal?this.aspectRatio>1&&(i=1/this.aspectRatio):this.aspectRatio<1&&(i=this.aspectRatio),a=i*this.blur*.12,this.horizontal?s[0]=a:s[1]=a,s}}),r.Blur.fromObject=o.Image.filters.BaseFilter.fromObject})(m),(function(g){var o=g.fabric||(g.fabric={}),r=o.Image.filters,l=o.util.createClass;r.Gamma=l(r.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(i){this.gamma=[1,1,1],r.BaseFilter.prototype.initialize.call(this,i)},applyTo2d:function(i){var s=i.imageData,a=s.data,f=this.gamma,d=a.length,c=1/f[0],p=1/f[1],y=1/f[2],_;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),_=0,d=256;_<d;_++)this.rVals[_]=Math.pow(_/255,c)*255,this.gVals[_]=Math.pow(_/255,p)*255,this.bVals[_]=Math.pow(_/255,y)*255;for(_=0,d=a.length;_<d;_+=4)a[_]=this.rVals[a[_]],a[_+1]=this.gVals[a[_+1]],a[_+2]=this.bVals[a[_+2]]},getUniformLocations:function(i,s){return{uGamma:i.getUniformLocation(s,"uGamma")}},sendUniformData:function(i,s){i.uniform3fv(s.uGamma,this.gamma)}}),o.Image.filters.Gamma.fromObject=o.Image.filters.BaseFilter.fromObject})(m),(function(g){var o=g.fabric||(g.fabric={}),r=o.Image.filters,l=o.util.createClass;r.Composed=l(r.BaseFilter,{type:"Composed",subFilters:[],initialize:function(i){this.callSuper("initialize",i),this.subFilters=this.subFilters.slice(0)},applyTo:function(i){i.passes+=this.subFilters.length-1,this.subFilters.forEach(function(s){s.applyTo(i)})},toObject:function(){return o.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(i){return i.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(i){return!i.isNeutralState()})}}),o.Image.filters.Composed.fromObject=function(i,s){var a=i.subFilters||[],f=a.map(function(c){return new o.Image.filters[c.type](c)}),d=new o.Image.filters.Composed({subFilters:f});return s&&s(d),d}})(m),(function(g){var o=g.fabric||(g.fabric={}),r=o.Image.filters,l=o.util.createClass;r.HueRotation=l(r.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var i=this.rotation*Math.PI,s=o.util.cos(i),a=o.util.sin(i),f=1/3,d=Math.sqrt(f)*a,c=1-s;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=s+c/3,this.matrix[1]=f*c-d,this.matrix[2]=f*c+d,this.matrix[5]=f*c+d,this.matrix[6]=s+f*c,this.matrix[7]=f*c-d,this.matrix[10]=f*c-d,this.matrix[11]=f*c+d,this.matrix[12]=s+f*c},isNeutralState:function(i){return this.calculateMatrix(),r.BaseFilter.prototype.isNeutralState.call(this,i)},applyTo:function(i){this.calculateMatrix(),r.BaseFilter.prototype.applyTo.call(this,i)}}),o.Image.filters.HueRotation.fromObject=o.Image.filters.BaseFilter.fromObject})(m),(function(g){var o=g.fabric||(g.fabric={}),r=o.util.object.clone;if(o.Text){o.warn("fabric.Text is already defined");return}var l="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");o.Text=o.util.createClass(o.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:o.Object.prototype.stateProperties.concat(l),cacheProperties:o.Object.prototype.cacheProperties.concat(l),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(i,s){this.styles=s?s.styles||{}:{},this.text=i,this.__skipDimension=!0,this.callSuper("initialize",s),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var i=this.path;i&&(i.segmentsInfo=o.util.getPathSegmentsInfo(i.path))},getMeasuringContext:function(){return o._measuringContext||(o._measuringContext=this.canvas&&this.canvas.contextCache||o.util.createCanvasElement().getContext("2d")),o._measuringContext},_splitText:function(){var i=this._splitTextIntoLines(this.text);return this.textLines=i.lines,this._textLines=i.graphemeLines,this._unwrappedTextLines=i._unwrappedLines,this._text=i.graphemeText,i},initDimensions:function(){if(!this.__skipDimension){if(this._splitText(),this._clearCache(),this.path){var i=this.getHeightOfLine(0)*1.1;this.width=this.path.width+i,this.height=this.path.height+i}else this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight();this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"})}},enlargeSpaces:function(){for(var i,s,a,f,d,c,p,y=0,_=this._textLines.length;y<_;y++)if(!(this.textAlign!=="justify"&&(y===_-1||this.isEndOfWrapping(y)))&&(f=0,d=this._textLines[y],s=this.getLineWidth(y),s<this.width&&(p=this.textLines[y].match(this._reSpacesAndTabs)))){a=p.length,i=(this.width-s)/a;for(var w=0,O=d.length;w<=O;w++)c=this.__charBounds[y][w],this._reSpaceAndTab.test(d[w])?(c.width+=i,c.kernedWidth+=i,c.left+=f,f+=i):c.left+=f}},isEndOfWrapping:function(i){return i===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var i=this.callSuper("_getCacheCanvasDimensions"),s=this.fontSize;return i.width+=s*i.zoomX,i.height+=s*i.zoomY,i},_render:function(i){var s=this.path;s&&!s.isNotVisible()&&s._render(i),this._setTextStyles(i),this._renderTextLinesBackground(i),this._renderTextDecoration(i,"underline"),this._renderText(i),this._renderTextDecoration(i,"overline"),this._renderTextDecoration(i,"linethrough")},_renderText:function(i){this.paintFirst==="stroke"?(this._renderTextStroke(i),this._renderTextFill(i)):(this._renderTextFill(i),this._renderTextStroke(i))},_setTextStyles:function(i,s,a){if(i.textBaseline="alphabetic",this.path)switch(this.pathAlign){case"center":i.textBaseline="middle";break;case"ascender":i.textBaseline="top";break;case"descender":i.textBaseline="bottom";break}i.font=this._getFontDeclaration(s,a)},calcTextWidth:function(){for(var i=this.getLineWidth(0),s=1,a=this._textLines.length;s<a;s++){var f=this.getLineWidth(s);f>i&&(i=f)}return i},_renderTextLine:function(i,s,a,f,d,c){this._renderChars(i,s,a,f,d,c)},_renderTextLinesBackground:function(i){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var s,a,f=i.fillStyle,d,c,p=this._getLeftOffset(),y=this._getTopOffset(),_=0,w=0,O,M,j=this.path,U,Y=0,W=this._textLines.length;Y<W;Y++){if(s=this.getHeightOfLine(Y),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",Y)){y+=s;continue}d=this._textLines[Y],a=this._getLineLeftOffset(Y),w=0,_=0,c=this.getValueOfPropertyAt(Y,0,"textBackgroundColor");for(var it=0,lt=d.length;it<lt;it++)O=this.__charBounds[Y][it],M=this.getValueOfPropertyAt(Y,it,"textBackgroundColor"),j?(i.save(),i.translate(O.renderLeft,O.renderTop),i.rotate(O.angle),i.fillStyle=M,M&&i.fillRect(-O.width/2,-s/this.lineHeight*(1-this._fontSizeFraction),O.width,s/this.lineHeight),i.restore()):M!==c?(U=p+a+_,this.direction==="rtl"&&(U=this.width-U-w),i.fillStyle=c,c&&i.fillRect(U,y,w,s/this.lineHeight),_=O.left,w=O.width,c=M):w+=O.kernedWidth;M&&!j&&(U=p+a+_,this.direction==="rtl"&&(U=this.width-U-w),i.fillStyle=M,i.fillRect(U,y,w,s/this.lineHeight)),y+=s}i.fillStyle=f,this._removeShadow(i)}},getFontCache:function(i){var s=i.fontFamily.toLowerCase();o.charWidthsCache[s]||(o.charWidthsCache[s]={});var a=o.charWidthsCache[s],f=i.fontStyle.toLowerCase()+"_"+(i.fontWeight+"").toLowerCase();return a[f]||(a[f]={}),a[f]},_measureChar:function(i,s,a,f){var d=this.getFontCache(s),c=this._getFontDeclaration(s),p=this._getFontDeclaration(f),y=a+i,_=c===p,w,O,M,j=s.fontSize/this.CACHE_FONT_SIZE,U;if(a&&d[a]!==void 0&&(M=d[a]),d[i]!==void 0&&(U=w=d[i]),_&&d[y]!==void 0&&(O=d[y],U=O-M),w===void 0||M===void 0||O===void 0){var Y=this.getMeasuringContext();this._setTextStyles(Y,s,!0)}return w===void 0&&(U=w=Y.measureText(i).width,d[i]=w),M===void 0&&_&&a&&(M=Y.measureText(a).width,d[a]=M),_&&O===void 0&&(O=Y.measureText(y).width,d[y]=O,U=O-M),{width:w*j,kernedWidth:U*j}},getHeightOfChar:function(i,s){return this.getValueOfPropertyAt(i,s,"fontSize")},measureLine:function(i){var s=this._measureLine(i);return this.charSpacing!==0&&(s.width-=this._getWidthOfCharSpacing()),s.width<0&&(s.width=0),s},_measureLine:function(i){var s=0,a,f,d=this._textLines[i],c,p,y=0,_=new Array(d.length),w=0,O,M,j=this.path,U=this.pathSide==="right";for(this.__charBounds[i]=_,a=0;a<d.length;a++)f=d[a],p=this._getGraphemeBox(f,i,a,c),_[a]=p,s+=p.kernedWidth,c=f;if(_[a]={left:p?p.left+p.width:0,width:0,kernedWidth:0,height:this.fontSize},j){switch(M=j.segmentsInfo[j.segmentsInfo.length-1].length,O=o.util.getPointOnPath(j.path,0,j.segmentsInfo),O.x+=j.pathOffset.x,O.y+=j.pathOffset.y,this.textAlign){case"left":w=U?M-s:0;break;case"center":w=(M-s)/2;break;case"right":w=U?0:M-s;break}for(w+=this.pathStartOffset*(U?-1:1),a=U?d.length-1:0;U?a>=0:a<d.length;U?a--:a++)p=_[a],w>M?w%=M:w<0&&(w+=M),this._setGraphemeOnPath(w,p,O),w+=p.kernedWidth}return{width:s,numOfSpaces:y}},_setGraphemeOnPath:function(i,s,a){var f=i+s.kernedWidth/2,d=this.path,c=o.util.getPointOnPath(d.path,f,d.segmentsInfo);s.renderLeft=c.x-a.x,s.renderTop=c.y-a.y,s.angle=c.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(i,s,a,f,d){var c=this.getCompleteStyleDeclaration(s,a),p=f?this.getCompleteStyleDeclaration(s,a-1):{},y=this._measureChar(i,c,f,p),_=y.kernedWidth,w=y.width,O;this.charSpacing!==0&&(O=this._getWidthOfCharSpacing(),w+=O,_+=O);var M={width:w,left:0,height:c.fontSize,kernedWidth:_,deltaY:c.deltaY};if(a>0&&!d){var j=this.__charBounds[s][a-1];M.left=j.left+j.width+y.kernedWidth-y.width}return M},getHeightOfLine:function(i){if(this.__lineHeights[i])return this.__lineHeights[i];for(var s=this._textLines[i],a=this.getHeightOfChar(i,0),f=1,d=s.length;f<d;f++)a=Math.max(this.getHeightOfChar(i,f),a);return this.__lineHeights[i]=a*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var i,s=0,a=0,f=this._textLines.length;a<f;a++)i=this.getHeightOfLine(a),s+=a===f-1?i/this.lineHeight:i;return s},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(i,s){i.save();for(var a=0,f=this._getLeftOffset(),d=this._getTopOffset(),c=0,p=this._textLines.length;c<p;c++){var y=this.getHeightOfLine(c),_=y/this.lineHeight,w=this._getLineLeftOffset(c);this._renderTextLine(s,i,this._textLines[c],f+w,d+a+_,c),a+=y}i.restore()},_renderTextFill:function(i){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(i,"fillText")},_renderTextStroke:function(i){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(i),i.save(),this._setLineDash(i,this.strokeDashArray),i.beginPath(),this._renderTextCommon(i,"strokeText"),i.closePath(),i.restore())},_renderChars:function(i,s,a,f,d,c){var p=this.getHeightOfLine(c),y=this.textAlign.indexOf("justify")!==-1,_,w,O="",M,j=0,U,Y=this.path,W=!y&&this.charSpacing===0&&this.isEmptyStyles(c)&&!Y,it=this.direction==="ltr",lt=this.direction==="ltr"?1:-1,gt,ut=s.canvas.getAttribute("dir");if(s.save(),ut!==this.direction&&(s.canvas.setAttribute("dir",it?"ltr":"rtl"),s.direction=it?"ltr":"rtl",s.textAlign=it?"left":"right"),d-=p*this._fontSizeFraction/this.lineHeight,W){this._renderChar(i,s,c,0,a.join(""),f,d,p),s.restore();return}for(var ft=0,G=a.length-1;ft<=G;ft++)U=ft===G||this.charSpacing||Y,O+=a[ft],M=this.__charBounds[c][ft],j===0?(f+=lt*(M.kernedWidth-M.width),j+=M.width):j+=M.kernedWidth,y&&!U&&this._reSpaceAndTab.test(a[ft])&&(U=!0),U||(_=_||this.getCompleteStyleDeclaration(c,ft),w=this.getCompleteStyleDeclaration(c,ft+1),U=o.util.hasStyleChanged(_,w,!1)),U&&(Y?(s.save(),s.translate(M.renderLeft,M.renderTop),s.rotate(M.angle),this._renderChar(i,s,c,ft,O,-j/2,0,p),s.restore()):(gt=f,this._renderChar(i,s,c,ft,O,gt,d,p)),O="",_=w,f+=lt*j,j=0);s.restore()},_applyPatternGradientTransformText:function(i){var s=o.util.createCanvasElement(),a,f=this.width+this.strokeWidth,d=this.height+this.strokeWidth;return s.width=f,s.height=d,a=s.getContext("2d"),a.beginPath(),a.moveTo(0,0),a.lineTo(f,0),a.lineTo(f,d),a.lineTo(0,d),a.closePath(),a.translate(f/2,d/2),a.fillStyle=i.toLive(a),this._applyPatternGradientTransform(a,i),a.fill(),a.createPattern(s,"no-repeat")},handleFiller:function(i,s,a){var f,d;return a.toLive?a.gradientUnits==="percentage"||a.gradientTransform||a.patternTransform?(f=-this.width/2,d=-this.height/2,i.translate(f,d),i[s]=this._applyPatternGradientTransformText(a),{offsetX:f,offsetY:d}):(i[s]=a.toLive(i,this),this._applyPatternGradientTransform(i,a)):(i[s]=a,{offsetX:0,offsetY:0})},_setStrokeStyles:function(i,s){return i.lineWidth=s.strokeWidth,i.lineCap=this.strokeLineCap,i.lineDashOffset=this.strokeDashOffset,i.lineJoin=this.strokeLineJoin,i.miterLimit=this.strokeMiterLimit,this.handleFiller(i,"strokeStyle",s.stroke)},_setFillStyles:function(i,s){return this.handleFiller(i,"fillStyle",s.fill)},_renderChar:function(i,s,a,f,d,c,p){var y=this._getStyleDeclaration(a,f),_=this.getCompleteStyleDeclaration(a,f),w=i==="fillText"&&_.fill,O=i==="strokeText"&&_.stroke&&_.strokeWidth,M,j;!O&&!w||(s.save(),w&&(M=this._setFillStyles(s,_)),O&&(j=this._setStrokeStyles(s,_)),s.font=this._getFontDeclaration(_),y&&y.textBackgroundColor&&this._removeShadow(s),y&&y.deltaY&&(p+=y.deltaY),w&&s.fillText(d,c-M.offsetX,p-M.offsetY),O&&s.strokeText(d,c-j.offsetX,p-j.offsetY),s.restore())},setSuperscript:function(i,s){return this._setScript(i,s,this.superscript)},setSubscript:function(i,s){return this._setScript(i,s,this.subscript)},_setScript:function(i,s,a){var f=this.get2DCursorLocation(i,!0),d=this.getValueOfPropertyAt(f.lineIndex,f.charIndex,"fontSize"),c=this.getValueOfPropertyAt(f.lineIndex,f.charIndex,"deltaY"),p={fontSize:d*a.size,deltaY:c+d*a.baseline};return this.setSelectionStyles(p,i,s),this},_getLineLeftOffset:function(i){var s=this.getLineWidth(i),a=this.width-s,f=this.textAlign,d=this.direction,p,c=0,p=this.isEndOfWrapping(i);return f==="justify"||f==="justify-center"&&!p||f==="justify-right"&&!p||f==="justify-left"&&!p?0:(f==="center"&&(c=a/2),f==="right"&&(c=a),f==="justify-center"&&(c=a/2),f==="justify-right"&&(c=a),d==="rtl"&&(c-=a),c)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var i=this._forceClearCache;return i||(i=this.hasStateChanged("_dimensionAffectingProps")),i&&(this.dirty=!0,this._forceClearCache=!1),i},getLineWidth:function(i){if(this.__lineWidths[i]!==void 0)return this.__lineWidths[i];var s=this.measureLine(i),a=s.width;return this.__lineWidths[i]=a,a},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(i,s,a){var f=this._getStyleDeclaration(i,s);return f&&typeof f[a]<"u"?f[a]:this[a]},_renderTextDecoration:function(i,s){if(!(!this[s]&&!this.styleHas(s))){i.save(),(s==="overline"||s==="linethrough")&&this._removeShadow(i);for(var a,f,d,c,p,y,_,w,O=this._getLeftOffset(),M=this._getTopOffset(),j,U,Y,W,it,lt,gt,ut,ft=this.path,G=this._getWidthOfCharSpacing(),et=this.offsets[s],yt=0,B=this._textLines.length;yt<B;yt++){if(a=this.getHeightOfLine(yt),!this[s]&&!this.styleHas(s,yt)){M+=a;continue}_=this._textLines[yt],lt=a/this.lineHeight,c=this._getLineLeftOffset(yt),U=0,Y=0,w=this.getValueOfPropertyAt(yt,0,s),ut=this.getValueOfPropertyAt(yt,0,"fill"),j=M+lt*(1-this._fontSizeFraction),f=this.getHeightOfChar(yt,0),p=this.getValueOfPropertyAt(yt,0,"deltaY");for(var A=0,E=_.length;A<E;A++)if(W=this.__charBounds[yt][A],it=this.getValueOfPropertyAt(yt,A,s),gt=this.getValueOfPropertyAt(yt,A,"fill"),d=this.getHeightOfChar(yt,A),y=this.getValueOfPropertyAt(yt,A,"deltaY"),ft&&it&&gt)i.save(),i.fillStyle=ut,i.translate(W.renderLeft,W.renderTop),i.rotate(W.angle),i.fillRect(-W.kernedWidth/2,et*d+y,W.kernedWidth,this.fontSize/15),i.restore();else if((it!==w||gt!==ut||d!==f||y!==p)&&Y>0){var k=O+c+U;this.direction==="rtl"&&(k=this.width-k-Y),w&&ut&&(i.fillStyle=ut,i.fillRect(k,j+et*f+p,Y,this.fontSize/15)),U=W.left,Y=W.width,w=it,ut=gt,f=d,p=y}else Y+=W.kernedWidth;var k=O+c+U;this.direction==="rtl"&&(k=this.width-k-Y),i.fillStyle=gt,it&&gt&&i.fillRect(k,j+et*f+p,Y-G,this.fontSize/15),M+=a}i.restore()}},_getFontDeclaration:function(i,s){var a=i||this,f=this.fontFamily,d=o.Text.genericFonts.indexOf(f.toLowerCase())>-1,c=f===void 0||f.indexOf("'")>-1||f.indexOf(",")>-1||f.indexOf('"')>-1||d?a.fontFamily:'"'+a.fontFamily+'"';return[o.isLikelyNode?a.fontWeight:a.fontStyle,o.isLikelyNode?a.fontStyle:a.fontWeight,s?this.CACHE_FONT_SIZE+"px":a.fontSize+"px",c].join(" ")},render:function(i){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",i)))},_splitTextIntoLines:function(i){for(var s=i.split(this._reNewline),a=new Array(s.length),f=[`
`],d=[],c=0;c<s.length;c++)a[c]=o.util.string.graphemeSplit(s[c]),d=d.concat(a[c],f);return d.pop(),{_unwrappedLines:a,lines:s,graphemeText:d,graphemeLines:a}},toObject:function(i){var s=l.concat(i),a=this.callSuper("toObject",s);return a.styles=o.util.stylesToArray(this.styles,this.text),a.path&&(a.path=this.path.toObject()),a},set:function(i,s){this.callSuper("set",i,s);var a=!1,f=!1;if(typeof i=="object")for(var d in i)d==="path"&&this.setPathInfo(),a=a||this._dimensionAffectingProps.indexOf(d)!==-1,f=f||d==="path";else a=this._dimensionAffectingProps.indexOf(i)!==-1,f=i==="path";return f&&this.setPathInfo(),a&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),o.Text.ATTRIBUTE_NAMES=o.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),o.Text.DEFAULT_SVG_FONT_SIZE=16,o.Text.fromElement=function(i,s,a){if(!i)return s(null);var f=o.parseAttributes(i,o.Text.ATTRIBUTE_NAMES),d=f.textAnchor||"left";if(a=o.util.object.extend(a?r(a):{},f),a.top=a.top||0,a.left=a.left||0,f.textDecoration){var c=f.textDecoration;c.indexOf("underline")!==-1&&(a.underline=!0),c.indexOf("overline")!==-1&&(a.overline=!0),c.indexOf("line-through")!==-1&&(a.linethrough=!0),delete a.textDecoration}"dx"in f&&(a.left+=f.dx),"dy"in f&&(a.top+=f.dy),"fontSize"in a||(a.fontSize=o.Text.DEFAULT_SVG_FONT_SIZE);var p="";"textContent"in i?p=i.textContent:"firstChild"in i&&i.firstChild!==null&&"data"in i.firstChild&&i.firstChild.data!==null&&(p=i.firstChild.data),p=p.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var y=a.strokeWidth;a.strokeWidth=0;var _=new o.Text(p,a),w=_.getScaledHeight()/_.height,O=(_.height+_.strokeWidth)*_.lineHeight-_.height,M=O*w,j=_.getScaledHeight()+M,U=0;d==="center"&&(U=_.getScaledWidth()/2),d==="right"&&(U=_.getScaledWidth()),_.set({left:_.left-U,top:_.top-(j-_.fontSize*(.07+_._fontSizeFraction))/_.lineHeight,strokeWidth:typeof y<"u"?y:1}),s(_)},o.Text.fromObject=function(i,s){var a=r(i),f=i.path;return delete a.path,o.Object._fromObject("Text",a,function(d){d.styles=o.util.stylesFromArray(i.styles,i.text),f?o.Object._fromObject("Path",f,function(c){d.set("path",c),s(d)},"path"):s(d)},"text")},o.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],o.util.createAccessors&&o.util.createAccessors(o.Text)})(m),(function(){u.util.object.extend(u.Text.prototype,{isEmptyStyles:function(g){if(!this.styles||typeof g<"u"&&!this.styles[g])return!0;var o=typeof g>"u"?this.styles:{line:this.styles[g]};for(var r in o)for(var l in o[r])for(var i in o[r][l])return!1;return!0},styleHas:function(g,o){if(!this.styles||!g||g===""||typeof o<"u"&&!this.styles[o])return!1;var r=typeof o>"u"?this.styles:{0:this.styles[o]};for(var l in r)for(var i in r[l])if(typeof r[l][i][g]<"u")return!0;return!1},cleanStyle:function(g){if(!this.styles||!g||g==="")return!1;var o=this.styles,r=0,l,i,s=!0,a=0,f;for(var d in o){l=0;for(var c in o[d]){var f=o[d][c],p=f.hasOwnProperty(g);r++,p?(i?f[g]!==i&&(s=!1):i=f[g],f[g]===this[g]&&delete f[g]):s=!1,Object.keys(f).length!==0?l++:delete o[d][c]}l===0&&delete o[d]}for(var y=0;y<this._textLines.length;y++)a+=this._textLines[y].length;s&&r===a&&(this[g]=i,this.removeStyle(g))},removeStyle:function(g){if(!(!this.styles||!g||g==="")){var o=this.styles,r,l,i;for(l in o){r=o[l];for(i in r)delete r[i][g],Object.keys(r[i]).length===0&&delete r[i];Object.keys(r).length===0&&delete o[l]}}},_extendStyles:function(g,o){var r=this.get2DCursorLocation(g);this._getLineStyle(r.lineIndex)||this._setLineStyle(r.lineIndex),this._getStyleDeclaration(r.lineIndex,r.charIndex)||this._setStyleDeclaration(r.lineIndex,r.charIndex,{}),u.util.object.extend(this._getStyleDeclaration(r.lineIndex,r.charIndex),o)},get2DCursorLocation:function(g,o){typeof g>"u"&&(g=this.selectionStart);for(var r=o?this._unwrappedTextLines:this._textLines,l=r.length,i=0;i<l;i++){if(g<=r[i].length)return{lineIndex:i,charIndex:g};g-=r[i].length+this.missingNewlineOffset(i,o)}return{lineIndex:i-1,charIndex:r[i-1].length<g?r[i-1].length:g}},getSelectionStyles:function(g,o,r){typeof g>"u"&&(g=this.selectionStart||0),typeof o>"u"&&(o=this.selectionEnd||g);for(var l=[],i=g;i<o;i++)l.push(this.getStyleAtPosition(i,r));return l},getStyleAtPosition:function(g,o){var r=this.get2DCursorLocation(g),l=o?this.getCompleteStyleDeclaration(r.lineIndex,r.charIndex):this._getStyleDeclaration(r.lineIndex,r.charIndex);return l||{}},setSelectionStyles:function(g,o,r){typeof o>"u"&&(o=this.selectionStart||0),typeof r>"u"&&(r=this.selectionEnd||o);for(var l=o;l<r;l++)this._extendStyles(l,g);return this._forceClearCache=!0,this},_getStyleDeclaration:function(g,o){var r=this.styles&&this.styles[g];return r?r[o]:null},getCompleteStyleDeclaration:function(g,o){for(var r=this._getStyleDeclaration(g,o)||{},l={},i,s=0;s<this._styleProperties.length;s++)i=this._styleProperties[s],l[i]=typeof r[i]>"u"?this[i]:r[i];return l},_setStyleDeclaration:function(g,o,r){this.styles[g][o]=r},_deleteStyleDeclaration:function(g,o){delete this.styles[g][o]},_getLineStyle:function(g){return!!this.styles[g]},_setLineStyle:function(g){this.styles[g]={}},_deleteLineStyle:function(g){delete this.styles[g]}})})(),(function(){function g(o){o.textDecoration&&(o.textDecoration.indexOf("underline")>-1&&(o.underline=!0),o.textDecoration.indexOf("line-through")>-1&&(o.linethrough=!0),o.textDecoration.indexOf("overline")>-1&&(o.overline=!0),delete o.textDecoration)}u.IText=u.util.createClass(u.Text,u.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(o,r){this.callSuper("initialize",o,r),this.initBehavior()},setSelectionStart:function(o){o=Math.max(o,0),this._updateAndFire("selectionStart",o)},setSelectionEnd:function(o){o=Math.min(o,this.text.length),this._updateAndFire("selectionEnd",o)},_updateAndFire:function(o,r){this[o]!==r&&(this._fireSelectionChanged(),this[o]=r),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(o){this.clearContextTop(),this.callSuper("render",o),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(o){this.callSuper("_render",o)},clearContextTop:function(o){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var r=this.canvas.contextTop,l=this.canvas.viewportTransform;r.save(),r.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this.transform(r),this._clearTextArea(r),o||r.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var o=this._getCursorBoundaries(),r=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(o,r):this.renderSelection(o,r),r.restore()}},_clearTextArea:function(o){var r=this.width+4,l=this.height+4;o.clearRect(-r/2,-l/2,r,l)},_getCursorBoundaries:function(o){typeof o>"u"&&(o=this.selectionStart);var r=this._getLeftOffset(),l=this._getTopOffset(),i=this._getCursorBoundariesOffsets(o);return{left:r,top:l,leftOffset:i.left,topOffset:i.top}},_getCursorBoundariesOffsets:function(o){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var r,l,i,s=0,a=0,f,d=this.get2DCursorLocation(o);i=d.charIndex,l=d.lineIndex;for(var c=0;c<l;c++)s+=this.getHeightOfLine(c);r=this._getLineLeftOffset(l);var p=this.__charBounds[l][i];return p&&(a=p.left),this.charSpacing!==0&&i===this._textLines[l].length&&(a-=this._getWidthOfCharSpacing()),f={top:s,left:r+(a>0?a:0)},this.direction==="rtl"&&(f.left*=-1),this.cursorOffsetCache=f,this.cursorOffsetCache},renderCursor:function(o,r){var l=this.get2DCursorLocation(),i=l.lineIndex,s=l.charIndex>0?l.charIndex-1:0,a=this.getValueOfPropertyAt(i,s,"fontSize"),f=this.scaleX*this.canvas.getZoom(),d=this.cursorWidth/f,c=o.topOffset,p=this.getValueOfPropertyAt(i,s,"deltaY");c+=(1-this._fontSizeFraction)*this.getHeightOfLine(i)/this.lineHeight-a*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(o,r),r.fillStyle=this.cursorColor||this.getValueOfPropertyAt(i,s,"fill"),r.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,r.fillRect(o.left+o.leftOffset-d/2,c+o.top+p,d,a)},renderSelection:function(o,r){for(var l=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,i=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,s=this.textAlign.indexOf("justify")!==-1,a=this.get2DCursorLocation(l),f=this.get2DCursorLocation(i),d=a.lineIndex,c=f.lineIndex,p=a.charIndex<0?0:a.charIndex,y=f.charIndex<0?0:f.charIndex,_=d;_<=c;_++){var w=this._getLineLeftOffset(_)||0,O=this.getHeightOfLine(_),M=0,j=0,U=0;if(_===d&&(j=this.__charBounds[d][p].left),_>=d&&_<c)U=s&&!this.isEndOfWrapping(_)?this.width:this.getLineWidth(_)||5;else if(_===c)if(y===0)U=this.__charBounds[c][y].left;else{var Y=this._getWidthOfCharSpacing();U=this.__charBounds[c][y-1].left+this.__charBounds[c][y-1].width-Y}M=O,(this.lineHeight<1||_===c&&this.lineHeight>1)&&(O/=this.lineHeight);var W=o.left+w+j,it=U-j,lt=O,gt=0;this.inCompositionMode?(r.fillStyle=this.compositionColor||"black",lt=1,gt=O):r.fillStyle=this.selectionColor,this.direction==="rtl"&&(W=this.width-W-it),r.fillRect(W,o.top+o.topOffset+gt,it,lt),o.topOffset+=M}},getCurrentCharFontSize:function(){var o=this._getCurrentCharIndex();return this.getValueOfPropertyAt(o.l,o.c,"fontSize")},getCurrentCharColor:function(){var o=this._getCurrentCharIndex();return this.getValueOfPropertyAt(o.l,o.c,"fill")},_getCurrentCharIndex:function(){var o=this.get2DCursorLocation(this.selectionStart,!0),r=o.charIndex>0?o.charIndex-1:0;return{l:o.lineIndex,c:r}}}),u.IText.fromObject=function(o,r){var l=u.util.stylesFromArray(o.styles,o.text),i=Object.assign({},o,{styles:l});if(delete i.path,g(i),i.styles)for(var s in i.styles)for(var a in i.styles[s])g(i.styles[s][a]);u.Object._fromObject("IText",i,function(f){o.path?u.Object._fromObject("Path",o.path,function(d){f.set("path",d),r(f)},"path"):r(f)},"text")}})(),(function(){var g=u.util.object.clone;u.util.object.extend(u.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var o=this;this.on("added",function(){var r=o.canvas;r&&(r._hasITextHandlers||(r._hasITextHandlers=!0,o._initCanvasHandlers(r)),r._iTextInstances=r._iTextInstances||[],r._iTextInstances.push(o))})},initRemovedHandler:function(){var o=this;this.on("removed",function(){var r=o.canvas;r&&(r._iTextInstances=r._iTextInstances||[],u.util.removeFromArray(r._iTextInstances,o),r._iTextInstances.length===0&&(r._hasITextHandlers=!1,o._removeCanvasHandlers(r)))})},_initCanvasHandlers:function(o){o._mouseUpITextHandler=function(){o._iTextInstances&&o._iTextInstances.forEach(function(r){r.__isMousedown=!1})},o.on("mouse:up",o._mouseUpITextHandler)},_removeCanvasHandlers:function(o){o.off("mouse:up",o._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(o,r,l,i){var s;return s={isAborted:!1,abort:function(){this.isAborted=!0}},o.animate("_currentCursorOpacity",r,{duration:l,onComplete:function(){s.isAborted||o[i]()},onChange:function(){o.canvas&&o.selectionStart===o.selectionEnd&&o.renderCursorOrSelection()},abort:function(){return s.isAborted}}),s},_onTickComplete:function(){var o=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){o._currentTickCompleteState=o._animateCursor(o,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(o){var r=this,l=o?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){r._tick()},l)},abortCursorAnimation:function(){var o=this._currentTickState||this._currentTickCompleteState,r=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,o&&r&&r.clearContext(r.contextTop||r.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(o){var r=0,l=o-1;if(this._reSpace.test(this._text[l]))for(;this._reSpace.test(this._text[l]);)r++,l--;for(;/\S/.test(this._text[l])&&l>-1;)r++,l--;return o-r},findWordBoundaryRight:function(o){var r=0,l=o;if(this._reSpace.test(this._text[l]))for(;this._reSpace.test(this._text[l]);)r++,l++;for(;/\S/.test(this._text[l])&&l<this._text.length;)r++,l++;return o+r},findLineBoundaryLeft:function(o){for(var r=0,l=o-1;!/\n/.test(this._text[l])&&l>-1;)r++,l--;return o-r},findLineBoundaryRight:function(o){for(var r=0,l=o;!/\n/.test(this._text[l])&&l<this._text.length;)r++,l++;return o+r},searchWordBoundary:function(o,r){for(var l=this._text,i=this._reSpace.test(l[o])?o-1:o,s=l[i],a=u.reNonWord;!a.test(s)&&i>0&&i<l.length;)i+=r,s=l[i];return a.test(s)&&(i+=r===1?0:1),i},selectWord:function(o){o=o||this.selectionStart;var r=this.searchWordBoundary(o,-1),l=this.searchWordBoundary(o,1);this.selectionStart=r,this.selectionEnd=l,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(o){o=o||this.selectionStart;var r=this.findLineBoundaryLeft(o),l=this.findLineBoundaryRight(o);return this.selectionStart=r,this.selectionEnd=l,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(o){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(o),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(o){o._iTextInstances&&o._iTextInstances.forEach(function(r){r.selected=!1,r.isEditing&&r.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(o){if(!(!this.__isMousedown||!this.isEditing)){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var r=this.getSelectionStartFromPointer(o.e),l=this.selectionStart,i=this.selectionEnd;(r!==this.__selectionStartOnMouseDown||l===i)&&(l===r||i===r)||(r>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=r):(this.selectionStart=r,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==l||this.selectionEnd!==i)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(o,r,l){var i=l.slice(0,o),s=u.util.string.graphemeSplit(i).length;if(o===r)return{selectionStart:s,selectionEnd:s};var a=l.slice(o,r),f=u.util.string.graphemeSplit(a).length;return{selectionStart:s,selectionEnd:s+f}},fromGraphemeToStringSelection:function(o,r,l){var i=l.slice(0,o),s=i.join("").length;if(o===r)return{selectionStart:s,selectionEnd:s};var a=l.slice(o,r),f=a.join("").length;return{selectionStart:s,selectionEnd:s+f}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var o=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=o.selectionStart,this.hiddenTextarea.selectionEnd=o.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var o=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=o.selectionEnd,this.inCompositionMode||(this.selectionStart=o.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var o=this._calcTextareaPosition();this.hiddenTextarea.style.left=o.left,this.hiddenTextarea.style.top=o.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var o=this.inCompositionMode?this.compositionStart:this.selectionStart,r=this._getCursorBoundaries(o),l=this.get2DCursorLocation(o),i=l.lineIndex,s=l.charIndex,a=this.getValueOfPropertyAt(i,s,"fontSize")*this.lineHeight,f=r.leftOffset,d=this.calcTransformMatrix(),c={x:r.left+f,y:r.top+r.topOffset+a},p=this.canvas.getRetinaScaling(),y=this.canvas.upperCanvasEl,_=y.width/p,w=y.height/p,O=_-a,M=w-a,j=y.clientWidth/_,U=y.clientHeight/w;return c=u.util.transformPoint(c,d),c=u.util.transformPoint(c,this.canvas.viewportTransform),c.x*=j,c.y*=U,c.x<0&&(c.x=0),c.x>O&&(c.x=O),c.y<0&&(c.y=0),c.y>M&&(c.y=M),c.x+=this.canvas._offset.left,c.y+=this.canvas._offset.top,{left:c.x+"px",top:c.y+"px",fontSize:a+"px",charHeight:a}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var o=this._textBeforeEdit!==this.text,r=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,r&&(r.blur&&r.blur(),r.parentNode&&r.parentNode.removeChild(r)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),o&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),o&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var o in this.styles)this._textLines[o]||delete this.styles[o]},removeStyleFromTo:function(o,r){var l=this.get2DCursorLocation(o,!0),i=this.get2DCursorLocation(r,!0),s=l.lineIndex,a=l.charIndex,f=i.lineIndex,d=i.charIndex,c,p;if(s!==f){if(this.styles[s])for(c=a;c<this._unwrappedTextLines[s].length;c++)delete this.styles[s][c];if(this.styles[f])for(c=d;c<this._unwrappedTextLines[f].length;c++)p=this.styles[f][c],p&&(this.styles[s]||(this.styles[s]={}),this.styles[s][a+c-d]=p);for(c=s+1;c<=f;c++)delete this.styles[c];this.shiftLineStyles(f,s-f)}else if(this.styles[s]){p=this.styles[s];var y=d-a,_,w;for(c=a;c<d;c++)delete p[c];for(w in this.styles[s])_=parseInt(w,10),_>=d&&(p[_-y]=p[w],delete p[w])}},shiftLineStyles:function(o,r){var l=g(this.styles);for(var i in this.styles){var s=parseInt(i,10);s>o&&(this.styles[s+r]=l[s],l[s-r]||delete this.styles[s])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(o,r,l,i){var s,a={},f=!1,d=this._unwrappedTextLines[o].length,c=d===r;l||(l=1),this.shiftLineStyles(o,l),this.styles[o]&&(s=this.styles[o][r===0?r:r-1]);for(var p in this.styles[o]){var y=parseInt(p,10);y>=r&&(f=!0,a[y-r]=this.styles[o][p],c&&r===0||delete this.styles[o][p])}var _=!1;for(f&&!c&&(this.styles[o+l]=a,_=!0),(_||d>r)&&l--;l>0;)i&&i[l-1]?this.styles[o+l]={0:g(i[l-1])}:s?this.styles[o+l]={0:g(s)}:delete this.styles[o+l],l--;this._forceClearCache=!0},insertCharStyleObject:function(o,r,l,i){this.styles||(this.styles={});var s=this.styles[o],a=s?g(s):{};l||(l=1);for(var f in a){var d=parseInt(f,10);d>=r&&(s[d+l]=a[d],a[d-l]||delete s[d])}if(this._forceClearCache=!0,i){for(;l--;)Object.keys(i[l]).length&&(this.styles[o]||(this.styles[o]={}),this.styles[o][r+l]=g(i[l]));return}if(s)for(var c=s[r?r-1:1];c&&l--;)this.styles[o][r+l]=g(c)},insertNewStyleBlock:function(o,r,l){for(var i=this.get2DCursorLocation(r,!0),s=[0],a=0,f=0;f<o.length;f++)o[f]===`
`?(a++,s[a]=0):s[a]++;s[0]>0&&(this.insertCharStyleObject(i.lineIndex,i.charIndex,s[0],l),l=l&&l.slice(s[0]+1)),a&&this.insertNewlineStyleObject(i.lineIndex,i.charIndex+s[0],a);for(var f=1;f<a;f++)s[f]>0?this.insertCharStyleObject(i.lineIndex+f,0,s[f],l):l&&this.styles[i.lineIndex+f]&&l[0]&&(this.styles[i.lineIndex+f][0]=l[0]),l=l&&l.slice(s[f]+1);s[f]>0&&this.insertCharStyleObject(i.lineIndex+f,0,s[f],l)},setSelectionStartEndWithShift:function(o,r,l){l<=o?(r===o?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=o),this.selectionStart=l):l>o&&l<r?this._selectionDirection==="right"?this.selectionEnd=l:this.selectionStart=l:(r===o?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=r),this.selectionEnd=l)},setSelectionInBoundaries:function(){var o=this.text.length;this.selectionStart>o?this.selectionStart=o:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>o?this.selectionEnd=o:this.selectionEnd<0&&(this.selectionEnd=0)}})})(),u.util.object.extend(u.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(g){if(this.canvas){this.__newClickTime=+new Date;var o=g.pointer;this.isTripleClick(o)&&(this.fire("tripleclick",g),this._stopEvent(g.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=o,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(g){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===g.x&&this.__lastPointer.y===g.y},_stopEvent:function(g){g.preventDefault&&g.preventDefault(),g.stopPropagation&&g.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(g){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(g.e))},tripleClickHandler:function(g){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(g.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(g){!this.canvas||!this.editable||g.e.button&&g.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(g.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(g){!this.canvas||!this.editable||g.e.button&&g.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(g){if(this.__isMousedown=!1,!(!this.editable||this.group||g.transform&&g.transform.actionPerformed||g.e.button&&g.e.button!==1)){if(this.canvas){var o=this.canvas._activeObject;if(o&&o!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(g.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(g){var o=this.getSelectionStartFromPointer(g),r=this.selectionStart,l=this.selectionEnd;g.shiftKey?this.setSelectionStartEndWithShift(r,l,o):(this.selectionStart=o,this.selectionEnd=o),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(g){for(var o=this.getLocalPointer(g),r=0,l=0,i=0,s=0,a=0,f,d,c=0,p=this._textLines.length;c<p&&i<=o.y;c++)i+=this.getHeightOfLine(c)*this.scaleY,a=c,c>0&&(s+=this._textLines[c-1].length+this.missingNewlineOffset(c-1));f=this._getLineLeftOffset(a),l=f*this.scaleX,d=this._textLines[a],this.direction==="rtl"&&(o.x=this.width*this.scaleX-o.x+l);for(var y=0,_=d.length;y<_&&(r=l,l+=this.__charBounds[a][y].kernedWidth*this.scaleX,l<=o.x);y++)s++;return this._getNewSelectionStartFromOffset(o,r,l,s,_)},_getNewSelectionStartFromOffset:function(g,o,r,l,i){var s=g.x-o,a=r-g.x,f=a>s||a<0?0:1,d=l+f;return this.flipX&&(d=i-d),d>this._text.length&&(d=this._text.length),d}}),u.util.object.extend(u.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=u.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var g=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+g.top+"; left: "+g.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: "+g.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):u.document.body.appendChild(this.hiddenTextarea),u.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),u.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),u.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),u.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),u.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),u.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),u.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),u.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),u.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(u.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(g){if(this.isEditing){var o=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(g.keyCode in o)this[o[g.keyCode]](g);else if(g.keyCode in this.ctrlKeysMapDown&&(g.ctrlKey||g.metaKey))this[this.ctrlKeysMapDown[g.keyCode]](g);else return;g.stopImmediatePropagation(),g.preventDefault(),g.keyCode>=33&&g.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(g){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(g.keyCode in this.ctrlKeysMapUp&&(g.ctrlKey||g.metaKey))this[this.ctrlKeysMapUp[g.keyCode]](g);else return;g.stopImmediatePropagation(),g.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(g){var o=this.fromPaste;if(this.fromPaste=!1,g&&g.stopPropagation(),!!this.isEditing){var r=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,l=this._text.length,i=r.length,s,a,f=i-l,d=this.selectionStart,c=this.selectionEnd,p=d!==c,y,_,w;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var O=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),M=d>O.selectionStart;p?(s=this._text.slice(d,c),f+=c-d):i<l&&(M?s=this._text.slice(c+f,c):s=this._text.slice(d,d-f)),a=r.slice(O.selectionEnd-f,O.selectionEnd),s&&s.length&&(a.length&&(y=this.getSelectionStyles(d,d+1,!1),y=a.map(function(){return y[0]})),p?(_=d,w=c):M?(_=c-s.length,w=c):(_=c,w=c+s.length),this.removeStyleFromTo(_,w)),a.length&&(o&&a.join("")===u.copiedText&&!u.disableStyleCopyPaste&&(y=u.copiedTextStyle),this.insertNewStyleBlock(a,d,y)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(g){this.compositionStart=g.target.selectionStart,this.compositionEnd=g.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(u.copiedText=this.getSelectedText(),u.disableStyleCopyPaste?u.copiedTextStyle=null:u.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(g){return g&&g.clipboardData||u.window.clipboardData},_getWidthBeforeCursor:function(g,o){var r=this._getLineLeftOffset(g),l;return o>0&&(l=this.__charBounds[g][o-1],r+=l.left+l.width),r},getDownCursorOffset:function(g,o){var r=this._getSelectionForOffset(g,o),l=this.get2DCursorLocation(r),i=l.lineIndex;if(i===this._textLines.length-1||g.metaKey||g.keyCode===34)return this._text.length-r;var s=l.charIndex,a=this._getWidthBeforeCursor(i,s),f=this._getIndexOnLine(i+1,a),d=this._textLines[i].slice(s);return d.length+f+1+this.missingNewlineOffset(i)},_getSelectionForOffset:function(g,o){return g.shiftKey&&this.selectionStart!==this.selectionEnd&&o?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(g,o){var r=this._getSelectionForOffset(g,o),l=this.get2DCursorLocation(r),i=l.lineIndex;if(i===0||g.metaKey||g.keyCode===33)return-r;var s=l.charIndex,a=this._getWidthBeforeCursor(i,s),f=this._getIndexOnLine(i-1,a),d=this._textLines[i].slice(0,s),c=this.missingNewlineOffset(i-1);return-this._textLines[i-1].length+f-d.length+(1-c)},_getIndexOnLine:function(g,o){for(var r=this._textLines[g],l=this._getLineLeftOffset(g),i=l,s=0,a,f,d=0,c=r.length;d<c;d++)if(a=this.__charBounds[g][d].width,i+=a,i>o){f=!0;var p=i-a,y=i,_=Math.abs(p-o),w=Math.abs(y-o);s=w<_?d:d-1;break}return f||(s=r.length-1),s},moveCursorDown:function(g){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",g)},moveCursorUp:function(g){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",g)},_moveCursorUpOrDown:function(g,o){var r="get"+g+"CursorOffset",l=this[r](o,this._selectionDirection==="right");o.shiftKey?this.moveCursorWithShift(l):this.moveCursorWithoutShift(l),l!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(g){var o=this._selectionDirection==="left"?this.selectionStart+g:this.selectionEnd+g;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,o),g!==0},moveCursorWithoutShift:function(g){return g<0?(this.selectionStart+=g,this.selectionEnd=this.selectionStart):(this.selectionEnd+=g,this.selectionStart=this.selectionEnd),g!==0},moveCursorLeft:function(g){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",g)},_move:function(g,o,r){var l;if(g.altKey)l=this["findWordBoundary"+r](this[o]);else if(g.metaKey||g.keyCode===35||g.keyCode===36)l=this["findLineBoundary"+r](this[o]);else return this[o]+=r==="Left"?-1:1,!0;if(typeof l<"u"&&this[o]!==l)return this[o]=l,!0},_moveLeft:function(g,o){return this._move(g,o,"Left")},_moveRight:function(g,o){return this._move(g,o,"Right")},moveCursorLeftWithoutShift:function(g){var o=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(o=this._moveLeft(g,"selectionStart")),this.selectionEnd=this.selectionStart,o},moveCursorLeftWithShift:function(g){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(g,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(g,"selectionStart")},moveCursorRight:function(g){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",g)},_moveCursorLeftOrRight:function(g,o){var r="moveCursor"+g+"With";this._currentCursorOpacity=1,o.shiftKey?r+="Shift":r+="outShift",this[r](o)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(g){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(g,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(g,"selectionEnd")},moveCursorRightWithoutShift:function(g){var o=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(o=this._moveRight(g,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,o},removeChars:function(g,o){typeof o>"u"&&(o=g+1),this.removeStyleFromTo(g,o),this._text.splice(g,o-g),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(g,o,r,l){typeof l>"u"&&(l=r),l>r&&this.removeStyleFromTo(r,l);var i=u.util.string.graphemeSplit(g);this.insertNewStyleBlock(i,r,o),this._text=[].concat(this._text.slice(0,r),i,this._text.slice(l)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),(function(){var g=u.util.toFixed,o=u.util.radiansToDegrees,r=u.util.calcRotateMatrix,l=u.util.transformPoint,i=/  +/g;u.util.object.extend(u.Text.prototype,{_toSVG:function(){var s=this._getSVGLeftTopOffsets(),a=this._getSVGTextAndBg(s.textTop,s.textLeft);return this._wrapSVGTextAndBg(a)},toSVG:function(s){var a=this._createBaseSVGMarkup(this._toSVG(),{reviver:s,noStyle:!0,withShadow:!0}),f=this.path;return f?a+f._createBaseSVGMarkup(f._toSVG(),{reviver:s,withShadow:!0}):a},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(s){var a=!0,f=this.getSvgTextDecoration(this);return[s.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",f?'text-decoration="'+f+'" ':"",'style="',this.getSvgStyles(a),'"',this.addPaintOrder()," >",s.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(s,a){var f=[],d=[],c=s,p;this._setSVGBg(d);for(var y=0,_=this._textLines.length;y<_;y++)p=this._getLineLeftOffset(y),(this.textBackgroundColor||this.styleHas("textBackgroundColor",y))&&this._setSVGTextLineBg(d,y,a+p,c),this._setSVGTextLineText(f,y,a+p,c),c+=this.getHeightOfLine(y);return{textSpans:f,textBgRects:d}},_createTextCharSpan:function(s,a,f,d,c){var p=s!==s.trim()||s.match(i),y=this.getSvgSpanStyles(a,p),_=y?'style="'+y+'"':"",w=a.deltaY,O="",M=u.Object.NUM_FRACTION_DIGITS,j="";if(w&&(O=' dy="'+g(w,M)+'" '),c.renderLeft!==void 0){var U=c.angle;j=' rotate="'+g(o(U),u.Object.NUM_FRACTION_DIGITS)+'" ';var Y=c.width/2,W=r({angle:o(U)});W[4]=c.renderLeft,W[5]=c.renderTop;var it=l({x:-Y,y:0},W);f=it.x,d=it.y}return['<tspan x="',g(f,M),'" y="',g(d,M),'" ',O,_,j,">",u.util.string.escapeXml(s),"</tspan>"].join("")},_setSVGTextLineText:function(s,a,f,d){var c=this.getHeightOfLine(a),p=this.textAlign.indexOf("justify")!==-1,y,_,w="",O,M,j=0,U=this._textLines[a],Y;d+=c*(1-this._fontSizeFraction)/this.lineHeight;for(var W=0,it=U.length-1;W<=it;W++)Y=W===it||this.charSpacing||this.path,w+=U[W],O=this.__charBounds[a][W],j===0?(f+=O.kernedWidth-O.width,j+=O.width):j+=O.kernedWidth,p&&!Y&&this._reSpaceAndTab.test(U[W])&&(Y=!0),Y||(y=y||this.getCompleteStyleDeclaration(a,W),_=this.getCompleteStyleDeclaration(a,W+1),Y=u.util.hasStyleChanged(y,_,!0)),Y&&(M=this._getStyleDeclaration(a,W)||{},s.push(this._createTextCharSpan(w,M,f,d,O)),w="",y=_,f+=j,j=0)},_pushTextBgRect:function(s,a,f,d,c,p){var y=u.Object.NUM_FRACTION_DIGITS;s.push("		<rect ",this._getFillAttributes(a),' x="',g(f,y),'" y="',g(d,y),'" width="',g(c,y),'" height="',g(p,y),`"></rect>
`)},_setSVGTextLineBg:function(s,a,f,d){for(var c=this._textLines[a],p=this.getHeightOfLine(a)/this.lineHeight,y=0,_=0,w,O,M=this.getValueOfPropertyAt(a,0,"textBackgroundColor"),j=0,U=c.length;j<U;j++)w=this.__charBounds[a][j],O=this.getValueOfPropertyAt(a,j,"textBackgroundColor"),O!==M?(M&&this._pushTextBgRect(s,M,f+_,d,y,p),_=w.left,y=w.width,M=O):y+=w.kernedWidth;O&&this._pushTextBgRect(s,O,f+_,d,y,p)},_getFillAttributes:function(s){var a=s&&typeof s=="string"?new u.Color(s):"";return!a||!a.getSource()||a.getAlpha()===1?'fill="'+s+'"':'opacity="'+a.getAlpha()+'" fill="'+a.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(s){for(var a=0,f=0,d=0;d<s;d++)a+=this.getHeightOfLine(d);return f=this.getHeightOfLine(d),{lineTop:a,offset:(this._fontSizeMult-this._fontSizeFraction)*f/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(s){var a=u.Object.prototype.getSvgStyles.call(this,s);return a+" white-space: pre;"}})})(),(function(g){var o=g.fabric||(g.fabric={});o.Textbox=o.util.createClass(o.IText,o.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:o.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(r){for(var l=0,i=0,s=0,a={},f=0;f<r.graphemeLines.length;f++)r.graphemeText[s]===`
`&&f>0?(i=0,s++,l++):!this.splitByGrapheme&&this._reSpaceAndTab.test(r.graphemeText[s])&&f>0&&(i++,s++),a[f]={line:l,offset:i},s+=r.graphemeLines[f].length,i+=r.graphemeLines[f].length;return a},styleHas:function(r,l){if(this._styleMap&&!this.isWrapping){var i=this._styleMap[l];i&&(l=i.line)}return o.Text.prototype.styleHas.call(this,r,l)},isEmptyStyles:function(r){if(!this.styles)return!0;var l=0,i=r+1,s,a,f=!1,d=this._styleMap[r],c=this._styleMap[r+1];d&&(r=d.line,l=d.offset),c&&(i=c.line,f=i===r,s=c.offset),a=typeof r>"u"?this.styles:{line:this.styles[r]};for(var p in a)for(var y in a[p])if(y>=l&&(!f||y<s))for(var _ in a[p][y])return!1;return!0},_getStyleDeclaration:function(r,l){if(this._styleMap&&!this.isWrapping){var i=this._styleMap[r];if(!i)return null;r=i.line,l=i.offset+l}return this.callSuper("_getStyleDeclaration",r,l)},_setStyleDeclaration:function(r,l,i){var s=this._styleMap[r];r=s.line,l=s.offset+l,this.styles[r][l]=i},_deleteStyleDeclaration:function(r,l){var i=this._styleMap[r];r=i.line,l=i.offset+l,delete this.styles[r][l]},_getLineStyle:function(r){var l=this._styleMap[r];return!!this.styles[l.line]},_setLineStyle:function(r){var l=this._styleMap[r];this.styles[l.line]={}},_wrapText:function(r,l){var i=[],s;for(this.isWrapping=!0,s=0;s<r.length;s++)i=i.concat(this._wrapLine(r[s],s,l));return this.isWrapping=!1,i},_measureWord:function(r,l,i){var s=0,a,f=!0;i=i||0;for(var d=0,c=r.length;d<c;d++){var p=this._getGraphemeBox(r[d],l,d+i,a,f);s+=p.kernedWidth,a=r[d]}return s},_wrapLine:function(r,l,i,W){var a=0,f=this.splitByGrapheme,d=[],c=[],p=f?o.util.string.graphemeSplit(r):r.split(this._wordJoiners),y="",_=0,w=f?"":" ",O=0,M=0,j=0,U=!0,Y=this._getWidthOfCharSpacing(),W=W||0;p.length===0&&p.push([]),i-=W;for(var it=0;it<p.length;it++)y=f?p[it]:o.util.string.graphemeSplit(p[it]),O=this._measureWord(y,l,_),_+=y.length,a+=M+O-Y,a>i&&!U?(d.push(c),c=[],a=O,U=!0):a+=Y,!U&&!f&&c.push(w),c=c.concat(y),M=f?0:this._measureWord([w],l,_),_++,U=!1,O>j&&(j=O);return it&&d.push(c),j+W>this.dynamicMinWidth&&(this.dynamicMinWidth=j-Y+W),d},isEndOfWrapping:function(r){return!this._styleMap[r+1]||this._styleMap[r+1].line!==this._styleMap[r].line},missingNewlineOffset:function(r,l){return this.splitByGrapheme&&!l?this.isEndOfWrapping(r)?1:0:1},_splitTextIntoLines:function(r){for(var l=o.Text.prototype._splitTextIntoLines.call(this,r),i=this._wrapText(l.lines,this.width),s=new Array(i.length),a=0;a<i.length;a++)s[a]=i[a].join("");return l.lines=s,l.graphemeLines=i,l},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var r={};for(var l in this._styleMap)this._textLines[l]&&(r[this._styleMap[l].line]=1);for(var l in this.styles)r[l]||delete this.styles[l]},toObject:function(r){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(r))}}),o.Textbox.fromObject=function(r,l){var i=o.util.stylesFromArray(r.styles,r.text),s=Object.assign({},r,{styles:i});return delete s.path,o.Object._fromObject("Textbox",s,function(a){r.path?o.Object._fromObject("Path",r.path,function(f){a.set("path",f),l(a)},"path"):l(a)},"text")}})(m),(function(){var g=u.controlsUtils,o=g.scaleSkewCursorStyleHandler,r=g.scaleCursorStyleHandler,l=g.scalingEqually,i=g.scalingYOrSkewingX,s=g.scalingXOrSkewingY,a=g.scaleOrSkewActionName,f=u.Object.prototype.controls;if(f.ml=new u.Control({x:-.5,y:0,cursorStyleHandler:o,actionHandler:s,getActionName:a}),f.mr=new u.Control({x:.5,y:0,cursorStyleHandler:o,actionHandler:s,getActionName:a}),f.mb=new u.Control({x:0,y:.5,cursorStyleHandler:o,actionHandler:i,getActionName:a}),f.mt=new u.Control({x:0,y:-.5,cursorStyleHandler:o,actionHandler:i,getActionName:a}),f.tl=new u.Control({x:-.5,y:-.5,cursorStyleHandler:r,actionHandler:l}),f.tr=new u.Control({x:.5,y:-.5,cursorStyleHandler:r,actionHandler:l}),f.bl=new u.Control({x:-.5,y:.5,cursorStyleHandler:r,actionHandler:l}),f.br=new u.Control({x:.5,y:.5,cursorStyleHandler:r,actionHandler:l}),f.mtr=new u.Control({x:0,y:-.5,actionHandler:g.rotationWithSnapping,cursorStyleHandler:g.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),u.Textbox){var d=u.Textbox.prototype.controls={};d.mtr=f.mtr,d.tr=f.tr,d.br=f.br,d.tl=f.tl,d.bl=f.bl,d.mt=f.mt,d.mb=f.mb,d.mr=new u.Control({x:.5,y:0,actionHandler:g.changeWidth,cursorStyleHandler:o,actionName:"resizing"}),d.ml=new u.Control({x:-.5,y:0,actionHandler:g.changeWidth,cursorStyleHandler:o,actionName:"resizing"})}})()})(qc)),qc}$1();var ny={exports:{}},va={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $m;function tw(){if($m)return va;$m=1;var m=J1,u=Symbol.for("react.element"),C=Symbol.for("react.fragment"),b=Object.prototype.hasOwnProperty,x=m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,T={key:!0,ref:!0,__self:!0,__source:!0};function R(g,o,r){var l,i={},s=null,a=null;r!==void 0&&(s=""+r),o.key!==void 0&&(s=""+o.key),o.ref!==void 0&&(a=o.ref);for(l in o)b.call(o,l)&&!T.hasOwnProperty(l)&&(i[l]=o[l]);if(g&&g.defaultProps)for(l in o=g.defaultProps,o)i[l]===void 0&&(i[l]=o[l]);return{$$typeof:u,type:g,key:s,ref:a,props:i,_owner:x.current}}return va.Fragment=C,va.jsx=R,va.jsxs=R,va}(function(m){m.exports=tw()})(ny);ny.exports.jsx;const ew=()=>{const m=rt.useRef(null),u=rt.useRef(null),C=400,b=400;rt.useEffect(()=>{u.current=new fabric.Canvas(m.current,{width:C,height:b,backgroundColor:"#f0f0f0"})},[]);const x=o=>{const r=o.target.files[0],l=new FileReader;l.onload=()=>{fabric.Image.fromURL(l.result,i=>{const s=Math.min(C/i.width,b/i.height);i.set({left:0,top:0,selectable:!1,scaleX:s,scaleY:s}),u.current.setBackgroundImage(i,u.current.renderAll.bind(u.current))})},l.readAsDataURL(r)},T=o=>{fabric.Image.fromURL(o,r=>{r.set({left:100,top:100,scaleX:.3,scaleY:.3,hasControls:!0,selectable:!0}),u.current.add(r)})},R=()=>{const o=u.current.toDataURL({format:"png",quality:1}),r=document.createElement("a");r.download="edited-image.png",r.href=o,r.click()},g=()=>{const o=u.current.toDataURL({format:"png",quality:1}),r=document.getElementById("preview-container");r.innerHTML="";const l=document.createElement("img");l.src=o,l.style.maxWidth="100%",l.style.height="auto",r.appendChild(l)};return Q.jsxs("div",{children:[Q.jsx("input",{type:"file",accept:"image/*",onChange:x}),Q.jsx("button",{onClick:()=>T("/stickers/girl.png"),children:"❤️ 스티커 추가"}),Q.jsx("button",{onClick:R,children:"저장"}),Q.jsx("button",{onClick:g,children:"저장 후 다시 캔버스에 로드"}),Q.jsx("canvas",{ref:m}),Q.jsx("div",{id:"preview-container",children:"여기에~~"})]})},iw=()=>{const[m,u]=rt.useState("disconnect");return rt.useEffect(()=>{(async()=>{const b=await te.get("/ml");console.log(b.data.con),u(b.data.con)})()},[]),Q.jsxs("div",{children:[Q.jsx("div",{children:Q.jsxs("h2",{children:["flask ",m]})}),Q.jsxs("div",{children:[Q.jsx(ze,{to:"/ml/test1",children:Q.jsx("button",{children:"test1"})})," ",Q.jsxs(ze,{to:"/ml/test2",children:[Q.jsx("button",{children:"test2"})," "]})]}),Q.jsxs(hv,{children:[Q.jsx(Ue,{path:"test1",element:Q.jsx(W1,{})}),Q.jsx(Ue,{path:"test2",element:Q.jsx(ew,{})})]})]})},nw=()=>{const[m,u]=rt.useState(null),C=x=>{u(x.target.files[0])},b=async()=>{if(!m){alert("파일을 선택하세요.");return}const x=new FormData;x.append("file",m);try{const T=await te.post("api/firebase",x,{headers:{"Content-Type":"multipart/form-data"}});alert("업로드 성공: "+T.data)}catch(T){console.error("업로드 실패",T),alert("업로드 실패")}};return Q.jsx("div",{children:Q.jsxs("div",{children:["mz-section (firebase file upload)",Q.jsx("input",{type:"file",onChange:C}),Q.jsx("button",{onClick:b,children:"upload"})]})})};function rw(){const[m,u]=rt.useState();return te.get("/api/data").then(C=>u(C.data.message)),Q.jsxs("div",{style:{margin:"0 auto",padding:"20px"},children:[Q.jsxs(ze,{to:"/",children:[" ",Q.jsxs("h1",{children:["React & Spring Boot!! ",m]})]}),Q.jsx("span",{children:"CI/CD test 123"}),Q.jsxs(hv,{children:[Q.jsx(Ue,{path:"/",element:Q.jsx(T1,{})}),Q.jsx(Ue,{path:"/chat",element:Q.jsx(d1,{})}),Q.jsx(Ue,{path:"/login",element:Q.jsx(x1,{})}),Q.jsx(Ue,{path:"/board",element:Q.jsx(L_,{})}),Q.jsx(Ue,{path:"/board/:id",element:Q.jsx(F_,{})}),Q.jsx(Ue,{path:"/write",element:Q.jsx(Lp,{})}),Q.jsx(Ue,{path:"/edit/:id",element:Q.jsx(Lp,{})}),Q.jsx(Ue,{path:"/mbti",element:Q.jsx(I1,{})}),Q.jsx(Ue,{path:"/ml/*",element:Q.jsx(iw,{})}),Q.jsx(Ue,{path:"/firebase",element:Q.jsx(nw,{})})]})]})}Ab.createRoot(document.getElementById("root")).render(Q.jsx(tf.StrictMode,{children:Q.jsx(zC,{children:Q.jsx(p1,{clientId:"300401840037-rnfvf6ucua95aufhljvt5g5orlbkrp4m.apps.googleusercontent.com",children:Q.jsx(rw,{})})})}));
